<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.21">
<meta name="author" content="Scott Chacon, Ben Straub">
<link rel="icon" type="image/png" sizes="16x16" href="res/fav16.png">
<title>احترف Git</title>
<link rel=stylesheet type=text/css href="res/style.css">
</head>
<body class="book">
<div id="body"><div id="header">
<h1>احترف Git</h1>
<div class="details">
<span id="author" class="author">Scott Chacon</span><br>
<span id="author2" class="author">Ben Straub</span><br>
<span id="revnumber">version 2.1.421,</span>
<span id="revdate">2024-08-16</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">فهرس المحتويات</div>
<p><span class="toc-root"><a href="index.html">احترف Git</a></span></p><ul class="sectlevel1">
<li><a href="#frontmatter">توطئة</a>
<ul class="sectlevel2">
<li><a href="#preface_translator">تمهيد المترجم</a></li>
<li><a href="#preface_schacon">تمهيد Scott Chacon</a></li>
<li><a href="#preface_ben">تمهيد Ben Straub</a></li>
<li><a href="#dedication">إهداء</a></li>
<li><a href="#license">الرخصة</a></li>
<li><a href="#contributors">مساهمات</a></li>
</ul>
</li>
<li><a href="#introduction">مقدمة</a></li>
<li><a href="#ch01-getting-started">الباب الأول: البدء</a>
<ul class="sectlevel2">
<li><a href="#_عن_إدارة_النسخ">عن إدارة النسخ</a></li>
<li><a href="#_تاريخ_جت_بإيجاز">تاريخ جت بإيجاز</a></li>
<li><a href="#what_is_git_section">ما هو جت؟</a></li>
<li><a href="#_سطر_الأوامر">سطر الأوامر</a></li>
<li><a href="#_تثبيت_جت">تثبيت جت</a></li>
<li><a href="#_first_time">إعداد جت لأول مرة</a></li>
<li><a href="#_git_help">الحصول على المساعدة</a></li>
<li><a href="#_الخلاصة">الخلاصة</a></li>
</ul>
</li>
<li><a href="#ch02-git-basics-chapter">الباب الثاني: أسس جت</a>
<ul class="sectlevel2">
<li><a href="#_getting_a_repo">الحصول على مستودع جت</a></li>
<li><a href="#_تسجيل_التعديلات_في_المستودع">تسجيل التعديلات في المستودع</a></li>
<li><a href="#_viewing_history">رؤية تاريخ الإيداعات</a></li>
<li><a href="#_undoing">التراجع عن الأفعال</a></li>
<li><a href="#_remote_repos">التعامل مع المستودعات البعيدة</a></li>
<li><a href="#_git_tagging">الوسوم</a></li>
<li><a href="#_git_aliases">كُنيات جت</a></li>
<li><a href="#_الخلاصة_2">الخلاصة</a></li>
</ul>
</li>
<li><a href="#ch03-git-branching">الباب الثالث: التفريع في جت</a>
<ul class="sectlevel2">
<li><a href="#_git_branches_overview">الفروع بإيجاز</a></li>
<li><a href="#_أسس_التفريع_والدمج">أسس التفريع والدمج</a></li>
<li><a href="#_branch_management">إدارة الفروع</a></li>
<li><a href="#_أساليب_العمل_التفريعية">أساليب العمل التفريعية</a></li>
<li><a href="#_remote_branches">الفروع البعيدة</a></li>
<li><a href="#_rebasing">إعادة التأسيس</a></li>
<li><a href="#_الخلاصة_3">الخلاصة</a></li>
</ul>
</li>
<li><a href="#ch04-git-on-the-server">الباب الرابع: جت على الخادوم</a>
<ul class="sectlevel2">
<li><a href="#_الموافيق_البروتوكولات">الموافيق (البروتوكولات)</a></li>
<li><a href="#_getting_git_on_a_server">تثبيت جت على خادوم</a></li>
<li><a href="#_generate_ssh_key">توليد مفتاح SSH عمومي لك</a></li>
<li><a href="#_setting_up_server">إعداد الخادوم</a></li>
<li><a href="#_عفريت_جت">عفريت جت</a></li>
<li><a href="#_ميفاق_http_الذكي_2">ميفاق HTTP الذكي</a></li>
<li><a href="#_gitweb">GitWeb</a></li>
<li><a href="#_gitlab">GitLab</a></li>
<li><a href="#_خيارات_الاستضافة_الخارجية">خيارات الاستضافة الخارجية</a></li>
<li><a href="#_الخلاصة_4">الخلاصة</a></li>
</ul>
</li>
<li><s>الباب الخامس: جت الموزع</s>
</li>
<li><s>الباب السادس: GitHub</s>
</li>
<li><s>الباب السابع: أدوات جت</s>
</li>
<li><s>الباب الثامن: تخصيص جت</s>
</li>
<li><s>الباب التاسع: جت والأنظمة الأخرى</s>
</li>
<li><s>الباب العاشر: دواخل جت</s>
</li>
<li><s>الملحق الأول: جت في البيئات الأخرى</s>
</li>
<li><s>الملحق الثاني: تضمين جت في تطبيقاتك</s>
</li>
<li><s>الملحق الثالث: أوامر جت</s>
</li>
<li><a href="#D-terms">الملحق الرابع: دليل المصطلحات</a></li>
<li><a href="#E-arabic-reference">الملحق الخامس: المصطلحات والمفاهيم باللغتين</a>
<ul class="sectlevel2">
<li><a href="#_الإيداع_والسحب">الإيداع والسحب</a></li>
<li><a href="#_terms_push_pull_fetch">الدفع والجذب والاستحضار</a></li>
<li><a href="#_terms_reset_restore_revert">الإرجاع والاستعادة والنقض</a></li>
<li><a href="#_terms_commands">أسماء أوامر جت</a></li>
<li><a href="#_terms_reference">إشارة الرأس وإشارات الكائنات</a></li>
<li><a href="#_terms_tracking">التعقب والمتابعة: tracking</a></li>
<li><a href="#_terms_tracking_branches">الفروع البعيدة والفروع المتعقِّبة لبعيد والفروع المتعقِّبة</a></li>
<li><a href="#_terms_read_write">إذنا القراءة والتحرير</a></li>
<li><a href="#_terms_code">تعريب كلمة كود</a></li>
<li><a href="#_terms_general_tips">إصلاحات لغوية عامة ونصائح أسلوبية</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="frontmatter">توطئة</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="preface_translator">تمهيد المترجم</h3>
<div class="paragraph">
<p>ك‍تاب احترف جت من «أمهات الكتب» في صناعة البرمجيات. فهو يعّلم نظامًا من أشهر أنظمة إدارة النسخ على الإطلاق، هو جت، ويعلّم فن التطوير باستخدام نظام إدارة نسخ موزع. فليس يقتصر نفعه على من يريد استخدام Git و GitHub، بل يمتد إلى من أراد استخدام GitLab أو حتى نظام آخر مثل Mercurial.</p>
</div>
<div class="paragraph">
<p>دراسة هذا الك‍تاب ضرورية لأي مبرمج.</p>
</div>
<div class="paragraph">
<p>وقد حرصت على تقليل الإنجليزية في الك‍تاب، إلا مما يلزم (مثل الأوامر ونواتجها) فترجمت ما نحتاجه منها مع إبقاء أصله كله، حتى يفهم الك‍تاب العامة والخاصة فلا نجعل إتقان الإنجليزية شرطًا لفهم ك‍تاب عربي. على أن معرفة الإنجليزية ضرورة للمبرمجين ولمستخدمي جت لا محالة.</p>
</div>
<div class="paragraph">
<p>ودراسة العلم بلغة الإنسان الأولى تساعده على الفهم العميق لما يتعلم. ولا سبيل للنهضة إلا بنقل العلوم واستيعابها بلغتنا.</p>
</div>
<div class="paragraph">
<p>ولا يعني هذا إهمال اللغات الأجنبية؛ فتعلمها ضرورة.</p>
</div>
<div class="paragraph">
<p>أما عن الألفاظ: فلغة أي فن من الفنون هي دائما غريبة على مسامع من لم يعتادوها. حتى الإنجليزية؛ اسأل شخصا وُلد وعاش وشاخ في بلد يتحدث هذه اللغة، ولم يسمع أو يقرأ في حياته بأي لغة أخرى، عن عبارات مثل ‪&#8220;fork a process&#8221;‬ أو ‪&#8220;clone a repository&#8221;‬&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>والأمثلة على ذلك كثيرة، منها: «لا يدخل الزحاف في شيء من الأوتاد، وإنما يدخل في الأسباب خاصةً.» وهذا من ك‍تاب في علم العَروض. والذي أتى بمصطلحاته، مثل الأسباب والأوتاد والزحاف، هو الخليل ابن أحمد، واضع أسس علم النحو، وجامع معجم العين، أول معجم عربي.</p>
</div>
<div class="paragraph">
<p>ومن درس علم التجويد سيجد أن كل لفظ يُعرَّف أولا بمعناه في اللغة ثم بمعناه في علم التجويد، فيقولون مثلا «الإخفاء لغةً هو&#8230;&#8203;، واصطلاحًا هو&#8230;&#8203;».</p>
</div>
<div class="paragraph">
<p>فلكل علم لغته الخاصة داخل اللغة العامة. ومثال آخر على ذلك لغة الحساب الحديث، ففيها الاسم «زائد» يُستعمل حرف عطف، والفعل المنصرف «يساوي» يُستعمل جامدًا ولا ينصرف أبدا، فنقول «اثنين زائد ثلاثة يساوي خمسة». فهل هذه الجملة ليست عربية؟</p>
</div>
<div class="paragraph">
<p>ولن يجد العربي غير المتخصص عبارة مثل «استنسخ مستودعًا» أو «أودِع التعديلات المؤهلة» أغرب مما يجد الإنجليزي غير المتخصص عبارة مثل ‪&#8220;clone a repository&#8221;‬ أو ‪&#8220;commit the staged changes&#8221;‬. فكل فن له لغته الخاصة داخل اللغة العامة.</p>
</div>
<div class="paragraph">
<p>ولسنا اليوم بصدد تغيير قواعد اللغة هنا كما فعل أهل الحساب، إنما نحتاج فقط إلى توسيع معاني بعض الكلمات كما فعل أهل التجويد. ولن نأتِ بمصطلحات كثيرة كما فعل الخليل رحمه الله في علمَي العَروض والقافية.</p>
</div>
<div class="paragraph">
<p>وأرجو من القارئ الكريم التماس العذر لي إن بدا مني خطأ، وأن ينبهني إليه على صفحة مسائل ترجمة الك‍تاب على جت‌هب.</p>
</div>
</div>
<div class="sect2">
<h3 id="preface_schacon">تمهيد Scott Chacon</h3>
<div class="paragraph">
<p>مرحبا بكم في الإصدارة الثانية من ك‍تاب احترف جت.
نُشرت الإصدارة الأولى منذ ما يزيد الآن على أربعة أعوام.
وتغيّرت أمور كثيرة منذ ذلك الوقت، إلا أن الكثير من الأشياء المهمة لم تتغير.
ومع أن أكثر الأوامر والمفاهيم الأساسية لا تزال سارية اليوم&#8201;&#8212;&#8201;لأن الفريق الأساسي القائم على جت يقوم بمجهود خيالي للحفاظ على التوافقية مع الإصدارات السابقة (backward compatibility)&#8201;&#8212;&#8201;فقد ظهرت بعض الإضافات والتغييرات البارزة في المجتمع الذي حول جت.
المراد من الإصدارة الثانية من هذا الك‍تاب هو تناول تلك التغييرات، وتحديثه ليكون أكثر إفادةً للمستخدم الجديد.</p>
</div>
<div class="paragraph">
<p>عندما كتبت الإصدارة الأولى، كان جت صعب الاستخدام نسبيا، وبالكاد يستخدمه الخارقون (hackers) الأشداء.
كان بدأ ينتشر في بعض المجتمعات، لكن لم تقترب حاله مما صار عليه اليوم من الوجود المطلق في كل مكان.
ثم بدأت تستخدمه أكثر مجتمعات المصادر المفتوحة.
ولقد تقدم جت تقدما مذهلا: في عمله على ويندوز، وفي انفجار أعداد الواجهات الرسومية له على جميع المنصات، وفي دعم بيئات التطوير له، وفي الاستخدام التجاري.
وك‍تاب احترف جت الذي جاء منذ أربعة أعوام لم يكن يعلم شيئًا من هذا كله.
فكان ذكر جميع تلك الآفاق الجديدة في مجتمع جت من أكبر همومنا في هذه الإصدارة الجديدة.</p>
</div>
<div class="paragraph">
<p>وأيضا تضاعف بسرعة مجتمع المصادر المفتوحة الذي يستخدم جت.
فعندما جلست أول مرة أكتب هذا الك‍تاب منذ قرابة خمسة أعوام (فقد استغرق الأمر مني وقتا لإطلاق الإصدارة الأولى)، كنت وقتئذٍ قد بدأت العمل في شركة مغمورة جدا تطوّر موقع استضافة جت يسمى جِت‌هَب (GitHub).
وعند نشره، لم يكن للموقع سوى نحو بضعة آلاف مستخدم، ولم نكن إلا أربعة موظفين نعمل عليه.
وبينما أنا أكتب هذه المقدمة الآن، إذ أعلن جت‌هب استضافتنا للمشروع رقم عشرة ملايين، مع قرابة خمسة ملايين حساب مطوِّر مسجَّل، وأكثر من ٢٣٠ موظفًا.
سواءً أحببت أم كرهت، لقد غيّر جت‌هب كثيرًا في جماعات ضخمة من مجتمع المصادر المفتوحة بطريقة لم يكد يتخيلها أحد عند ك‍تابتي الإصدارة الأولى.</p>
</div>
<div class="paragraph">
<p>كتبت فصلا قصيرا في النسخة الأصلية من ك‍تاب احترف جت عن جت‌هب ليكون مثالا لاستضافة جت، ولم أشعر قط بالارتياح الكامل إلى هذا الفصل؛
لم يعجبني أنني أكتب ما أشعر أنه في الأصل ذُخرا للمجتمع، ثم أتحدث فيه عن شركتي.
ومع أني ما زلت لا أحب تضارب المصالح، فإن أهمية جت‌هب في مجتمع جت لا يمكن التغاضي عنها.
وبدلا من كون هذا الجزء من الك‍تاب مثالا على استضافة جت، فقد قررت تحويله إلى شرح عميق لماهية جت‌هب وكيفية استخدامه بشكل فعّال.
فإذا كنت تنوي تعلم استخدام جت، فستساعدك معرفة استخدام جت‌هب في المشاركة في مجتمع مترامي الأطراف، فهي قيّمة بغض النظر عن استضافة جت التي ستقرر استخدامها لمشاريعك البرمجية.</p>
</div>
<div class="paragraph">
<p>أما التغيير الكبير الآخر منذ النشر السابق فكان تطوير وبروغ بروتوكول HTTP لمعاملات جت الشبكية.
فغيّرنا معظم أمثلة الك‍تاب من SSH إلى HTTP لأنه أسهل كثيرا.</p>
</div>
<div class="paragraph">
<p>لقد كان مذهلا مشاهدة جت ينمو عبر الأعوام من نظام إدارة نسخ مغمور نسبيا إلى نظام إدارة النسخ المهيمن في المشروعات التجارية والمفتوحة.
أنا سعيد بكون ك‍تاب احترف جت قد أبلى بلاءً حسنًا وكان قادرًا أن يكون من الكتب التقنية، القليلة في السوق، الناجحة والمفتوحة بالكامل معًا.</p>
</div>
<div class="paragraph">
<p>أرجو أن تنتفع بهذه الإصدارة المحدثة من احترف جت.</p>
</div>
</div>
<div class="sect2">
<h3 id="preface_ben">تمهيد Ben Straub</h3>
<div class="paragraph">
<p>الإصدارة الأولى من هذا الك‍تاب هي ما جعلني مولعا بـجت.
كانت هي ما عرّفني أسلوب صناعة برمجيات وجدته طبيعيا أكثر من كل ما رأيت سابقًا.
لقد كنت بالفعل مطوِّرا منذ عدة أعوام وقتئذٍ، لكن هذا كان المنعطف الصحيح الذي ساقني إلى طريق أمتع كثيرا من الطريق الذي كنت عليه.</p>
</div>
<div class="paragraph">
<p>واليوم وبعد أعوام، أنا مساهم في تطبيق جت رائد، وعملت في أكبر شركة استضافة جت، وطُفت العالم معلِّمًا الناس جت.
وعندما سألني Scott إذا ما كنت أرغب في العمل على الإصدارة الثانية من الك‍تاب، لم أحتجْ حتى للتفكير.</p>
</div>
<div class="paragraph">
<p>لقد كان العمل على هذا الك‍تاب شرف عظيم وسعادة كبيرة لي.
وأرجو أن يساعدك بقدر ما ساعدني.</p>
</div>
</div>
<div class="sect2">
<h3 id="dedication">إهداء</h3>
<div class="paragraph">
<p>إلى زوجتي Becky، التي بغير وجودها لم تكن هذه المغامرة لتبدأ قَط. —&nbsp;Ben</p>
</div>
<div class="paragraph">
<p>أهدي هذه الإصدارة إلى فتياتي:
إلى زوجتي Jessica التي ساندتني طوال السنين، وإلى ابنتي Josephine التي ستساندني عندما أكون شيخًا مسننًا لا يدرك ما يدور حوله. —&nbsp;Scott</p>
</div>
</div>
<div class="sect2">
<h3 id="license">الرخصة</h3>
<div class="paragraph">
<p>هذا العمل متاح برخصة المشاع الإبداعي الإصدارة الثالثة غير الموطنة بشروط النسبة للمصنِّف والاستخدام غير التجاري والترخيص بالمثل (CC BY-NC-SA 3.0 unported).
لرؤية نسخة من هذه الرخصة، برجاء زيارة <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/deed.ar" class="bare">https://creativecommons.org/licenses/by-nc-sa/3.0/deed.ar</a> أو إرسال بريد إلى</p>
</div>
<div class="paragraph">
<p>
<p style="margin-top:-1em" align="left" dir="ltr">Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.&lrm;</p>
</p>
</div>
</div>
<div class="sect2">
<h3 id="contributors">مساهمات</h3>
<div class="paragraph">
<p>لأن هذا الك‍تاب مفتوح المصدر، فقد تبرع لنا الناس بالعديد من التصحيحات وتعديلات المحتوى.
إليكم جميع من ساهم في النسخة الإنجليزية من المشروع مفتوح المصدر Pro Git.
شكرا لكم جميعا على مساعدتنا في جعل هذا الك‍تاب أفضل للناس جميعا.</p>
</div>
<div class="paragraph">
<p>المساهمون حتى الإيداع <code>be823c3a</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>4wk-                            HairyFotr                       pedrorijo91
Adam Laflamme                   Hamid Nazari                    Pessimist
Adrien Ollier                   Hamidreza Mahdavipanah          Peter Kokot
ajax333221                      haripetrov                      peterwwillis
Akrom K                         Haruo Nakayama                  Petr Bodnar
Alan D. Salewski                Helmut K. C. Tessarek           Petr Janeček
Alba Mendez                     Hemant Kumar Meena              Petr Kajzar
Aleh Suprunovich                Hidde de Vries                  petsuter
Alexander Bezzubov              HonkingGoose                    Philippe Blain
Alexandre Garnier               Howard                          Philippe Miossec
alex-koziell                    i-give-up                       Phil Mitchell
Alex Povel                      Ignacy                          Pratik Nadagouda
Alfred Myers                    Igor                            Rafi
allen joslin                    Ilker Cat                       rahrah
Amanda Dillon                   iprok                           Raphael R
andreas                         Jan Groenewald                  Ray Chen
Andreas Bjørnestad              Jaswinder Singh                 Rex Kerr
Andrei Dascalu                  Jean-Noël Avila                 Reza Ahmadi
Andrei Korshikov                Jeroen Oortwijn                 Richard Hoyle
Andrew Layman                   Jim Hill                        Ricky Senft
Andrew MacFie                   jingsam                         Rintze M. Zelle
Andrew Metcalf                  jliljekrantz                    rmzelle
Andrew Murphy                   Joel Davies                     Rob Blanco
AndyGee                         Johannes Dewender               Robert P. Goldman
AnneTheAgile                    Johannes Schindelin             Robert P. J. Day
Anthony Loiseau                 johnhar                         Robert Theis
Antonello Piemonte              John Lin                        Rohan D'Souza
Antonino Ingargiola             Jonathan                        Roman Kosenko
Anton Trunov                    Jon Forrest                     Ronald Wampler
applecuckoo                     Jon Freed                       root
Ardavast Dayleryan              Jordan Hayashi                  Rory
Artem Leshchev                  Joris Valette                   Rüdiger Herrmann
atalakam                        Josh Byster                     Sam Ford
Atul Varma                      Joshua Webb                     Sam Joseph
axmbo                           Junjie Yuan                     Sanders Kleinfeld
Bagas Sanjaya                   Junyeong Yim                    sanders@oreilly.com
Benjamin Dopplinger             Justin Clift                    Sarah Schneider
Ben Sima                        Kaartic Sivaraam                SATO Yusuke
Billy Griffin                   KatDwo                          Saurav Sachidanand
Bob Kline                       Katrin Leinweber                Scott Bronson
Bohdan Pylypenko                Kausar Mehmood                  Scott Jones
Borek Bernard                   Keith Hill                      Sean Head
Brett Cannon                    Kenneth Kin Lum                 Sean Jacobs
bripmccann                      Kenneth Lum                     Sebastian Krause
brotherben                      Klaus Frank                     Sergey Kuznetsov
Buzut                           Kristijan "Fremen" Velkovski    Severino Lorilla Jr
Cadel Watson                    Krzysztof Szumny                sharpiro
Carlos Martín Nieto             Kyrylo Yatsenko                 Shengbin Meng
Carlos Tafur                    Lars Vogel                      Sherry Hietala
Chaitanya Gurrapu               Laxman                          Shi Yan
Changwoo Park                   Lazar95                         Siarhei Bobryk
Christian Decker                leerg                           Siarhei Krukau
Christoph Bachhuber             Leonard Laszlo                  Skyper
Christopher Wilson              Linus Heckemann                 slavos1
Christoph Prokop                Logan Hasson                    Smaug123
C Nguyen                        Louise Corrigan                 Snehal Shekatkar
CodingSpiderFox                 Luc Morin                       Solt Budavári
Cory Donnelly                   Lukas Röllin                    Song Li
Cullen Rhodes                   maks                            spacewander
Cyril                           Marat Radchenko                 Stephan van Maris
Damien Tournoud                 Marcin Sędłak-Jakubowski        Steven Roddis
Daniele Tricoli                 Marie-Helene Burle              Stuart P. Bentley
Daniel Hollas                   Marius Žilėnas                  SudarsanGP
Daniel Knittl-Frank             Markus KARG                     Suhaib Mujahid
Daniel Shahaf                   Marti Bolivar                   Susan Stevens
Daniel Sturm                    Mashrur Mia (Sa'ad)             Sven Selberg
Daniil Larionov                 Masood Fallahpoor               td2014
Danny Lin                       Mathieu Dubreuilh               Thanix
Dan Schmidt                     Matt Cooper                     Thomas Ackermann
Davide Angelocola               Matthew Miner                   Thomas Hartmann
David Rogers                    Matthieu Moy                    Tiffany
delta4d                         Matt Trzcinski                  Tomas Fiers
Denis Savitskiy                 Mavaddat Javid                  Tomoki Aonuma
devwebcl                        Max Coplan                      Tom Schady
Dexter                          Máximo Cuadros                  Tvirus
Dexter Morganov                 Michael MacAskill               twekberg
DiamondeX                       Michael Sheaver                 Tyler Cipriani
Dieter Ziller                   Michael Welch                   Ud Yzr
Dino Karic                      Michiel van der Wulp            uerdogan
Dmitri Tikhonov                 Miguel Bernabeu                 UgmaDevelopment
Dmitriy Smirnov                 Mike Charles                    ugultopu
Doug Richardson                 Mike Pennisi                    un1versal
dualsky                         Mike Thibodeau                  Vadim Markovtsev
Duncan Dean                     Mikhail Menshikov               Vangelis Katsikaros
Dustin Frank                    Mitsuru Kariya                  Vegar Vikan
Eden Hochbaum                   mmikeww                         Victor Ma
Ed Flanagan                     mosdalsvsocld                   Vipul Kumar
Eduard Bardají Puig             nicktime                        Vitaly Kuznetsov
Eric Henziger                   Niels Widger                    Volker-Weissmann
evanderiel                      Niko Stotz                      Volker Weißmann
Explorare                       Nils Reuße                      Wesley Gonçalves
eyherabh                        Noelle Leigh                    William Gathoye
Ezra Buehler                    noureddin                       William Turrell
Fabien-jrt                      OliverSieweke                   Wlodek Bzyl
Fady Nagh                       Olleg Samoylov                  Xavier Bonaventura
Felix Nehrke                    Osman Khwaja                    xJom
Filip Kucharczyk                Otto Kekäläinen                 xtreak
flip111                         Owen                            yakirwin
flyingzumwalt                   Pablo Schläpfer                 Yann Soubeyrand
Fornost461                      Pascal Berger                   Y. E
franjozen                       Pascal Borreli                  Your Name
Frank                           Patrice Krakow                  Yue Lin Ho
Frederico Mazzone               patrick96                       Yunhai Luo
Frej Drejhammar                 Patrick Steinhardt              Yusuke SATO
goekboet                        paveljanik                      zwPapEr
grgbnc                          Pavel Janík                     ᐯᕮᒪᗝᑕᕮᒣ
Guthrie McAfee Armstrong        Paweł Krupiński                 狄卢</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction">مقدمة</h2>
<div class="sectionbody">
<div class="paragraph">
<p>أنت على وشك قضاء عدة ساعات من عمرك في القراءة عن جِت (Git)،
فلنأخذ منها دقيقة لنشرح ما سنقدمه لك؛
هذا ملخص سريع لأبواب الك‍تاب العشرة وملاحقه الثلاثة.</p>
</div>
<div class="paragraph">
<p>في <strong>الباب الأول</strong>، نتناول أنظمة إدارة النسخ وأسس جت&#8201;&#8212;&#8201;لا شيء تقني، وإنما نعرف ما هو جت ولماذا أتى في أرض ممتلئة بأنظمة إدارة النسخ، وما يجعله مختلفا، ولماذا يستخدمه الكثيرون.
بعدئذٍ نشرح كيفية تنزيل جت وإعداده للمرة الأولى إن لم يكن لديك بالفعل على نظامك.</p>
</div>
<div class="paragraph">
<p>في <strong>الباب الثاني</strong>، نمر على مبادئ استخدام جت: كيف تستخدمه في ٨٠٪ من الحالات التي ستقابلها معظم الوقت.
بعد قراءة هذا الفصل، ستكون قادرا على استنساخ مستودع، ورؤية ما قد حدث في تاريخ المشروع، وتعديل ملفات، والمساهمة بتعديلات.
لو اشتعل الك‍تاب ذاتيًّا وقتئذٍ، فسيكون جت طيِّعًا في متناولك وتنتفع به، إلى أن تحصل على نسخة أخرى من الك‍تاب.</p>
</div>
<div class="paragraph">
<p>أما <strong>الباب الثالث</strong> فعن نموذج التفريع في جت، الذي غالبا ما يوصف بأنه ميزته القاتلة للمنافسة.
تتعلم هنا ما الذي يميز جت حقًا عن الآخرين.
وعندما تنهيه، سترغب في التوقف لحظات للتفكر كيف عشت حياتك سابقًا بغير أن يكون تفريع جت جزءًا منها.</p>
</div>
<div class="paragraph">
<p>يتناول <strong>الباب الرابع</strong> جت على الخادوم.
وهو لمن يريدون إعداد جت داخل منظمتهم أو على خادومهم الخاص للتعاون.
ونستكشف أيضا الخيارات المستضافة إذا كنت تفضّل أن يديره لك شخصٌ آخر.</p>
</div>
<div class="paragraph">
<p>يشرح <strong>الباب الخامس</strong> بالتفصيل الممل أساليب سير العمل الموزَّع المختلفة وكيفية تحقيقها مع جت.
عندما تفرغ من هذا الباب، ستكون قادرا على العمل ببراعة مع العديد من المستودعات البعيدة، واستخدام جت عبر البريد الإلكتروني، واللعب برشاقة بالكثير من الفروع البعيدة والرُقَع المساهَم بها.</p>
</div>
<div class="paragraph">
<p>يتناول <strong>الباب السادس</strong> بعمق خدمة استضافة جت‌هَب (GitHub) وأدواتها.
فنورد إنشاء حساب وإدارته، وإنشاء مستودعات جت واستعمالها، وأساليب سير العمل الشائعة للمساهمة في مشروعات الآخرين وقَبول المساهمات في مشروعاتك، وواجهة جت‌هب البرمجية، وبحرًا من النصائح الصغيرة لجعل حياتك أسهل عموما.</p>
</div>
<div class="paragraph">
<p><strong>الباب السابع</strong> عن أوامر جت المتقدمة.
ستتعلم هنا عن أمورٍ مثل إتقان أمر الإرجاع المرعب (<code>reset</code>)، واستعمال طريقة البحث الثنائي لتحديد العلل، وتحرير التاريخ، واختيار المراجعات بالتفصيل، والمزيد المزيد.
يسعى هذا الباب لإتمام معرفتك بـجت حتى تكون أستاذًا بحق.</p>
</div>
<div class="paragraph">
<p>يتناول <strong>الباب الثامن</strong> تهيئة بيئة جت الخاصة بك.
هذا يشمل إعداد بُريمِجات الخطاطيف (hook scripts) لفرض أو تشجيع السياسات المفضلة واستعمال إعدادات تهيئة البيئة لكي تعمل بالطريقة التي تريدها،
وكذلك بناء مجموعتك الخاصة من البُريمِجات (scripts) لفرض سياسة إيداع مخصصة.</p>
</div>
<div class="paragraph">
<p>يناقش <strong>الباب التاسع</strong> جت والأنظمة الأخرى لإدارة النسخ.
هذا يشمل استخدام جت داخل عالم Subversion&rlm; (SVN)، وتحويل المشروعات من الأنظمة الأخرى إلى جت.
فلا تزال منظمات كثيرة تستخدم SVN ولا تنوي التغيير، لكنك في هذه المرحلة ستكون قد تعلمت قوة جت الخيالية&#8201;&#8212;&#8201;فيريك هذا الفصل كيف تدبر أمورك إن كنت ما زلت مضطرا إلى استخدام خادوم SVN.
نذكر أيضا كيفية استيراد مشروعات من الأنظمة الأخرى، إذا أقنعت الجميع بالغطس في جت.</p>
</div>
<div class="paragraph">
<p>يغوص <strong>الباب العاشر</strong> في أعماق جت المظلمة لكن الجميلة.
لأنك عندئذٍ تعلم كل شيء عن جت وتستطيع استخدامه ببراعة ورشاقة، يمكننا الانتقال إلى مناقشة كيف يخزن جت كائناته، وما هو نموذج الكائنات، وما تفاصيل الملفات المُعلبة (packfiles) وموافيق (بروتوكولات) الخواديم، والمزيد.
سنشير خلال هذا الك‍تاب إلى فصول هذا الباب، إن رغبت في الغوص عميقا في تلك المرحلة، لكن إذا كنت مثلنا وتريد الغوص في التفاصيل التقنية، فقد تحب قراءة الباب العاشر أولا.
نترك هذا الخيار لك.</p>
</div>
<div class="paragraph">
<p>في <strong>الملحق الأول</strong>، نرى عددا من أمثلة استخدام جت في بيئات معينة مختلفة.
نذكر عددا من الواجهات الرسومية وبيئات التطوير المختلفة التي ربما تريد استخدام جت فيها وما المتاح لك.
إذا كنت مهتما بنظرة عامة على استخدام جت في الطرفية أو بيئة التطوير أو محرر النصوص، ألقِ نظرة هنا.</p>
</div>
<div class="paragraph">
<p>في <strong>الملحق الثاني</strong>، نستكشف برمجة جت وتوسيعه عبر أدوات مثل libgit2 و JGit.
إذا كنت مهتما بك‍تابة أدوات مخصصة سريعة ومعقدة وتحتاج وصولا إلى المستويات الدنيا من جت، هنا مكانك لمعرفة كيف يبدو المنظر العام لهذه المنطقة.</p>
</div>
<div class="paragraph">
<p>وأخيرا، في <strong>الملحق الثالث</strong>، نمر على جميع أوامر جت المهمة واحدا تلو الآخر ونراجع أين شرحناه في الك‍تاب وماذا فعلنا به.
إذا أردت أن تعرف أين في الك‍تاب استخدمنا أمر جت معين، يمكنك البحث عنه هنا.</p>
</div>
<div class="paragraph">
<p>هيا بنا نبدأ.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch01-getting-started">الباب الأول: البدء</h2>
<div class="sectionbody">
<div class="paragraph">
<p>هذا الباب عن البدء مع جِت (Git).
نبدأ بشرح خلفية عن أدوات إدارة النسخ، ثم ننتقل إلى كيفية تشغيل جت على نظامك، وأخيرا كيفية إعداده لبدء العمل معه.
في نهاية الفصل ستكون قد فهمت سبب وجود جت، ولماذا عليك استخدامه، وأن تكون قد أعددته للاستخدام.</p>
</div>
<div class="sect2">
<h3 id="_عن_إدارة_النسخ">عن إدارة النسخ</h3>
<div class="paragraph">
<p>
ما هي «إدارة النسخ»، ولماذا عليك أن تهتم؟
إدارة النسخ هي نظام يسجل التعديلات على ملف أو مجموعة من الملفات عبر الزمان، حتى يمكنك استدعاء نسخ معينة منها فيما بعد.
نستخدم في أمثلة هذا الك‍تاب ملفات مصادر برمجية لإدارة نُسخها، ولو أن في الحقيقة يمكنك فعل ذلك مع أكثر أنواع الملفات الحاسوبية.</p>
</div>
<div class="paragraph">
<p>إذا كنت مصمم رسوميات أو وب وتريد الإبقاء على جميع نسخ صورة أو تخطيط (وهذا شيء يُفترض أنك تريد فعله بالتأكيد)، فإن استخدام نظام إدارة نسخ (VCS) لهو قرار حكيم جدا.
فهو يسمح لك بإرجاع ملف محدد إلى حالة سابقة، أو إرجاع المشروع كله إلى حالة سابقة، أو مقارنة التعديلات عبر الزمان، أو معرفة مَن آخر من عدّل شيئا قد يكون سبّب مشكلة، أو مَن تسبب في إحداث علّة، وغير ذلك.
استخدام نظام إدارة نسخ أيضا يعني في العموم أنك إذا دمّرت أشياء أو فقدت ملفات، فإنك تستطيع استرداد الأمور بسَهولة.
وكل هذا تحصل عليه مقابل عبء ضليل جدا.</p>
</div>
<div class="sect3">
<h4 id="_الأنظمة_المحلية_لإدارة_النسخ">الأنظمة المحلية لإدارة النسخ</h4>
<div class="paragraph">
<p>
طريقة إدارة النسخ عند الكثيرين هي نسخ الملفات إلى مجلد آخر (ربما بختم زمني، إذا كان المستخدم بارعا).
هذه الطريقة شائعة جدا لأنها سهلة جدا، لكنها أيضا خطّاءة جدا جدا.
فسهل جدا أن تنسى أي مجلد أنت فيه وتغيّر في الملف الخاطئ أو تنسخ على ملفات لم ترد إبدالها.</p>
</div>
<div class="paragraph">
<p>لحل هذه القضية، طوّر المبرمجون منذ زمن بعيد «أنظمة محلية لإدارة النسخ» ذات قاعدة بيانات بسيطة تحفظ جميع التعديلات على الملفات المراد التحكم في نُسخها.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/local-AR.png" alt="رسم توضيحي للإدارة المحلية للنسخ">
</div>
<div class="title">شكل ١. رسم توضيحي للإدارة المحلية للنسخ</div></div>
<div class="paragraph">
<p>كان من أشهر أنظمة إدارة النسخ نظام يسمى RCS، وهو ما زال موزعا مع حواسيب كثيرة اليوم.
يعمل <a href="https://www.gnu.org/software/rcs/" target="_blank" rel="noopener">RCS</a> بالاحتفاظ بمجموعات الرقع (أي الفروقات بين الملفات) بصيغة مخصوصة على القرص؛ فيمكنه إذًا إحياء أي ملف من أي حقبة زمنية بمجرد جمع الرقع.</p>
</div>
</div>
<div class="sect3">
<h4 id="_الأنظمة_المركزية_لإدارة_النسخ">الأنظمة المركزية لإدارة النسخ</h4>
<div class="paragraph">
<p>
المشكلة الكبرى الأخرى التي واجهت الناس هي أنهم يحتاجون إلى التعاون مع مطوِّرين على أنظمة أخرى.
ولحلها، أُنشئت «الأنظمة المركزية لإدارة النسخ» (CVCS).
لهذه الأنظمة (مثل CVS و Subversion و Perforce) خادوم وحيد به جميع الملفات المراقَبة، وعدد من العملاء الذين يستنسخون الملفات من ذلك المركز الوحيد.
كان هذا هو المعيار المتبع لإدارة النسخ لأعوام عديدة.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/centralized-AR.png" alt="رسم توضيحي للإدارة المركزية للنسخ">
</div>
<div class="title">شكل ٢. رسم توضيحي للإدارة المركزية للنسخ</div></div>
<div class="paragraph">
<p>لهذا الترتيب مزايا كثيرة، لا سيما على الإدارة المحلية للنسخ.
مثلا، الجميع يعلم، إلى حدٍ ما، كل ما يفعله الآخرون في المشروع نفسه.
ولدى المديرين تحكم مفصّل في تحديد مَن يستطيع فعل ماذا، وإنه لأسهل كثيرا إدارة نظام مركزي مقارنةً بالتعامل مع قواعد بيانات محلية عند كل عميل.</p>
</div>
<div class="paragraph">
<p>ولكن لهذا الترتيب بعض العيوب الخطيرة.
أكثرها وضوحا هو نقطة الانهيار الحاسمة الذي يمثلها الخادوم المركزي.
فإذا تعطل الخادوم ساعةً، ففي تلك الساعة لن يستطيع أحد مطلقا التعاون أو حتى حفظ تعديلاتهم على ما يعملون عليه.
وإذا تلف قرص قاعدة البيانات المركزية، ولم تحفظ أي نسخ احتياطية، ستفقد كل شيء تماما: تاريخ المشروع برُمّته، ما عدا أي لقطات فردية تصادف أن يُبقيها الناس على أجهزتهم المحلية.
تعاني الأنظمة المحلية لإدارة النسخ أيضا من هذه العلة نفسها؛ وقتما جعلت التاريخ الكامل للمشروع في مكان وحيد، فإنك تعرض نفسك لفقد كل شيء.</p>
</div>
</div>
<div class="sect3">
<h4 id="_الأنظمة_الموزعة_لإدارة_النسخ">الأنظمة الموزعة لإدارة النسخ</h4>
<div class="paragraph">
<p>
الآن تتدخل الأنظمة الموزعة لإدارة النسخ (DVCS).
في نظام موزع (مثل جت و Mercurial و Darcs)، لا يستنسخ العملاء اللقطة الأخيرة فقط من الملفات، ولكنهم يستنسخون المستودع برُمّته، بما في ذلك تاريخه بالكامل.
لذا فإن انهار أحد الخواديم فجأة، وكانت هذه الأنظمة تتعاون عبر هذا الخادوم، فيمكن نسخ مستودع أي عميل إلى الخادوم مجددا لإعادته للعمل.
كل نسخة هي في الحقيقة نسخة احتياطية كاملة لجميع البيانات.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/distributed-AR.png" alt="رسم توضيحي للإدارة الموزعة للنسخ">
</div>
<div class="title">شكل ٣. رسم توضيحي للإدارة الموزعة للنسخ</div></div>
<div class="paragraph">
<p>علاوة على ذلك، الكثير من هذه الأنظمة تتعامل جيدا مع وجود العديد من المستودعات البعيدة التي يمكنها العمل معها، لذا يمكنك التعاون مع مجموعات مختلفة من الناس بأساليب متعددة في الوقت نفسه داخل المشروع الواحد.
هذا يسمح لك بتكوين أساليب سير عمل متعددة لم تكن ممكنة في الأنظمة المركزية، كالنماذج الشجرية.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_تاريخ_جت_بإيجاز">تاريخ جت بإيجاز</h3>
<div class="paragraph">
<p>مثل الكثير من الأشياء العظيمة في الحياة، بدأ جت بشيء من التدمير الإبداعي والخلافات المُتَّقدة.</p>
</div>
<div class="paragraph">
<p>نواة لينكس هي مشروع برمجي مفتوح المصدر ذو امتداد شاسع إلى حد ما.
في السنوات الأولى من تطوير نواة لينكس (١٩٩١–٢٠٠٢)، كانت التعديلات البرمجية تتناقل في صورة رقع وملفات مضغوطة.
وفي عام ٢٠٠٢، بدأ مشروع نواة لينكس باستخدام نظام إدارة نسخ موزع احتكاري يسمى BitKeeper.</p>
</div>
<div class="paragraph">
<p>ولكن في عام ٢٠٠٥، تدهورت العلاقة بين المجتمع الذي يطور نواة لينكس والشركة التجارية التي تتطور BitKeeper، وأسقطت صفة المجانية عن الأداة.
دفع هذا مجتمع تطوير لينكس (وبالأخص Linus Torvalds، مؤسس لينكس) إلى تطوير أداتهم الخاصة بناءً على بعض ما تعلموه في أثناء استخدامهم BitKeeper.
وكانت من أهداف النظام الجديد ما يلي:</p>
</div>
<div class="ulist tight">
<ul class="tight">
<li>
<p>السرعة</p>
</li>
<li>
<p>التصميم البسيط</p>
</li>
<li>
<p>دعم وثيق للتطوير اللاخطي (آلاف الفروع المتوازية)</p>
</li>
<li>
<p>موزع بالكامل</p>
</li>
<li>
<p>التعامل مع مشروعات ضخمة كنواة لينكس بكفاءة (من ناحية السرعة وحجم البيانات)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>منذ ولادة جت في عام ٢٠٠٥، وقد نما ونضج حتى صار سهل الاستخدام، ومع هذا فقد احتفظ بهذه الصفات الأولية.
إنه سريع لدرجة مذهلة. إنه كفء جدا مع المشروعات الضخمة. إن له نظام تفريع خيالي للتطوير اللاخطي (انظر <a href="#ch03-git-branching">التفريع في جت</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="what_is_git_section">ما هو جت؟</h3>
<div class="paragraph">
<p>إذًا، ما هو جت باختصار؟
هذا فصل مهم ويجب استيعابه جيدا، لأنك إذا فهمت ماهية جت وأصول طريقة عمله، فسيكون سهل جدا عليك استخدام جت بفعالية.
وخلال تعلمك جت، عليك تصفية ذهنك من كل ما تعمله عن أنظمة إدارة النسخ الأخرى، مثل CVS أو Subversion أو Perforce&#8201;&#8212;&#8201;يساعدك هذا على تجنب أي التباسات خفية عندما تستخدمه.
ومع أن واجهة جت قريبة الشبه بالأنظمة الأخرى، إلا أن جت يخزن المعلومات بطريقة وينظر إليها نظرةً مختلفة أشد الاختلاف، ويساعدك فهم هذه الفروق على تجنب الالتباس عند استخدامه.</p>
</div>
<div class="sect3">
<h4 id="_لقطات_وليس_فروقات">لقطات، وليس فروقات</h4>
<div class="paragraph">
<p>الفرق الأكبر بين جت وأي نظام آخر (بما في ذلك Subversion وأشباهه)، هو نظرة جت إلى بياناته.
من حيث المفهوم، تخزن معظم الأنظمة الأخرى المعلومات في صورة سلسلة تعديلات على الملفات.
هذه الأنظمة الأخرى (CVS و Subversion و Perforce إلخ) تنظر إلى المعلومات التي تخزنها على أنها مجموعة من الملفات والتعديلات التي تتم على كل ملف عبر الزمان (يوصف هذا غالبا بأنه إدارة نسخ <em>بناءً على الفروقات</em>).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/deltas-AR.png" alt="تخزين البيانات في صورة تعديلات على نسخة أساسية من كل ملف">
</div>
<div class="title">شكل ٤. تخزين البيانات في صورة تعديلات على نسخة أساسية من كل ملف</div></div>
<div class="paragraph">
<p>لا ينظر جت إلى بياناته ولا يخزنها بهذه الطريقة.
بل يعتبرها أشبه بلقطات من نظام ملفات مصغر.
في جت، كل مرة تصنع إيداعا (<code>commit</code>)، أو تحفظ حالة مشروعك، يلتقط جت صورة لما تبدو عليه ملفاتك جميعًا في هذه اللحظة، ويخزن إشارة لهذه اللقطة.
وحتى يُحسن استغلال الموارد، فإن الملفات التي لم تتغير لا يخزنها جت مجددا، بل يخزن فقط إشارةً إلى الملف السابق المطابق الذي خزّنه سابقا.
فإن جت يعتبر أن بياناته <strong>سيل من اللقطات</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/snapshots-AR.png" alt="تخزين البيانات في صورة لقطات من المشروع على مر الزمان">
</div>
<div class="title">شكل ٥. تخزين البيانات في صورة لقطات من المشروع على مر الزمان</div></div>
<div class="paragraph">
<p>هذا تمييز مهم بين جت وأكثر الأنظمة الأخرى.
إنه يجعل جت يعيد التفكير في أغلب جوانب إدارة النسخ التي نسختها معظم الأنظمة الأخرى من الأجيال السابقة.
إنه يجعل جت أشبه بنظام ملفات مصغر ذي أدوات خارقة مبنية عليه، بدلا من مجرد نظام إدارة نسخ.
عندما نتناول التفريع في جت في <a href="#ch03-git-branching">التفريع في جت</a>، سنستكشف بعضًا من المنافع التي تحصل عليها عندما تنظر إلى بياناتك هذه النظرة.</p>
</div>
</div>
<div class="sect3">
<h4 id="_أغلب_العمليات_محلية">أغلب العمليات محلية</h4>
<div class="paragraph">
<p>أكثر العمليات في جت لا تحتاج إلا إلى ملفات وموارد محلية لكي تعمل؛ فعموما لا حاجة إلى أي معلومات من حواسيب أخرى على الشبكة.
إذا كنت معتادًا على نظام إدارة نسخ مركزي، حيث معظم العمليات مثقلة بعبء زمن الانتقال في الشبكة، فإن هذا الجانب من جت سيجعلك تظن أن الله قد منّ عليه بقدرة لدنيّة لتكون له هذه السرعة.
فلأن لديك التاريخ الكامل للمشروع بين يديك على قرصك المحلي، فإن معظم العمليات تبدو آنية.</p>
</div>
<div class="paragraph">
<p>مثلا، لتصفح تاريخ المشروع، لا يحتاج جت إلى السفر إلى الخادوم ليعود إليك حاملا التاريخ ليعرضه لك&#8201;&#8212;&#8201;إنما يقرؤه من قاعدة بياناتك المحلية.
هذا يعني أنك ترى تاريخ المشروع أسرع من طرفة العين.
وإذا أردت أن ترى التعديلات التي حدثت على ملف بين نسخته الآن ومنذ شهر، فيستطيع جت أن يأتي بهذا الملف منذ شهر ويحسب الفرق على حاسوبك، بدلا من الاضطرار إلى طلب هذا الفرق من خادوم بعيد أو طلب النسخة القديمة منه وحساب الفرق محليا.</p>
</div>
<div class="paragraph">
<p>هذا أيضا يعني أنك ما زلت تستطيع فعل كل شيء، إلا القليل النادر، إذا كنت بغير اتصال بالإنترنت أو بشبكتك الوهمية الخاصة (VPN).
فإذا كنت في طائرة أو قطار، وتريد العمل قليلا، تستطيع الإيداع بكل سعادة (إلى نسختك <em>المحلية</em>، أتتذكر؟) حتى تجد اتصالا شبكيا للرفع.
وإذا عدت إلى المنزل ولم تجد عميل شبكتك الوهمية يستطيع العمل، فإنك ما زلت تستطيع العمل.
أما في الكثير من الأنظمة الأخرى، فالعمل من غير اتصال إما أليم جدا وإما مستحيل أصلا.
في Perforce مثلا، لا يمكنك فعل الكثير إن لم تكن متصلا بالخادوم. في Subversion و CVS تستطيع تعديل الملفات، لكن لا تستطيع إيداع أي تعديلات في قاعدة بياناتك (لأن قاعدة بياناتك غير متصلة).
ربما تظن أن هذا ليس بالأمر العظيم، لكنك إذًا ستتفاجأ بضخامة الفرق الذي يصنعه.</p>
</div>
</div>
<div class="sect3">
<h4 id="_في_جت_السلامة">في جت السلامة</h4>
<div class="paragraph">
<p>يضمن جت سلامة البيانات دائمًا،
فهو يحسب قيم البصمات لكل شيء قبل أن يخزنه، وبعدئذٍ يشير إلى الأشياء ببصماتها.
هذا يعني أن تعديل محتويات أي ملف أو مجلد بغير علم جت مستحيل.
هذا مبني في أساس جت ومن أركان فلسفته.
فمستحيل فقد معلومات أثناء النقل أو حتى فساد ملفات من غير أن يكتشف جت ذلك.</p>
</div>
<div class="paragraph">
<p>الآلية التي يستخدمها جت لحساب البصمة معروفة باسم بصمة SHA-1.
وهي تنتج سلسلة نصية من أربعين (٤٠) رقما ستعشريا (0–9 و a–f) محسوبين من محتوى الملف أو بنية المجلد في جت.
تشبه بصمة SHA-1 هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>24b9da6552252987aa493b52f8696cd6d3b00373</code></pre>
</div>
</div>
<div class="paragraph">
<p>ترى قيم البصمات هذه في كل مكان في جت لأنه يستخدمها كثيرا.
في الحقيقة، يخزن جت كل  شيء في قاعدة بياناته، ليس بأسماء الملفات، بل بقيم بصمة محتواها.</p>
</div>
</div>
<div class="sect3">
<h4 id="_يضيف_جت_بيانات_فقط_في_العموم">يضيف جت بيانات فقط في العموم</h4>
<div class="paragraph">
<p>أكثر الإجراءات في جت لا تفعل شيئا سوى أن <em>تضيف</em> بيانات إلى قاعدة بيانات جت.
ومن الصعب أن تجعله يفعل شيئا لا يمكن التراجع عنه أو أن تجعله يمسح بيانات بأي طريقة.
مثلما الحال مع أي نظام إدارة نسخ، يمكن أن تفقد أو تدمر التعديلات التي لم تودعها بعد، لكن ما إن تودعها في جت، فمن العسير جدا أن تفقدها، خصوصا إذا كنت تدفع (<code>push</code>) قاعدة بياناتك بانتظام إلى مستودع آخر.</p>
</div>
<div class="paragraph">
<p>هذا يجعل استخدام جت مبهجًا لأننا نعلم أننا نستطيع التجريب بغير خطر التخريب.
لنظرة أعمق على كيفية تخرين جت لبياناته وكيفية استعادة البيانات التي تبدو لك قد فُقدت، انظر <a href="#_undoing">التراجع عن الأفعال</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_المراحل_الثلاثة">المراحل الثلاثة</h4>
<div class="paragraph">
<p>انتبه الآن وركّز؛ هذا هو أهم شيء عليك أن تتذكره دوما عن جت إذا أردت أن تمضي رحلة تعلمك بسلاسة.
في جت ثلاث مراحل يمكن أن تكون ملفاتك فيها: <em>معدّل</em>، و<em>مؤهل</em>، و<em>مُودَع</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>معدل يعني أنك عدلت الملف لكنك لم تُودِع التعديلات بعد في قاعدة بياناتك.</p>
</li>
<li>
<p>مؤهل يعني أنك حددت ملفًا معدلًا في نسخته الحالية ليكون ضمن لقطة الإيداع التالية.</p>
</li>
<li>
<p>مُودَع يعني أن البيانات صارت مخزنة بأمان في قاعدة بياناتك.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>يقودنا هذا إلى الأقسام الرئيسية الثلاثة في أي مشروع جت: شجرة العمل، ومنطقة التأهيل، ومجلد جت.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/areas-AR.png" alt="شجرة العمل، ومنطقة التأهيل، ومجلد جت">
</div>
<div class="title">شكل ٦. شجرة العمل، ومنطقة التأهيل، ومجلد جت</div></div>
<div class="paragraph">
<p>شجرة العمل (أو مجلد العمل) هي نسخة واحدة مسحوبة من المشروع.
تُجلب لك هذه الملفات من قاعدة البيانات المضغوطة في مجلد جت وتُوضع لك على القرص لتستخدمها أو تعدلها.</p>
</div>
<div class="paragraph">
<p>منطقة التأهيل هي ملف يخزن معلومات عما سيكون في إيداعك التالي، وعادةً يكون ملف منطقة التأهيل في مجلد جت لمشروعك.
المصطلح التقني في لغة جت هو «الفهرس» (<code>index</code>)، لكن العبارة «منطقة التأهيل» (<code>staging area</code>) مناسبة ومستخدمة أيضا.</p>
</div>
<div class="paragraph">
<p>مجلد جت هو المكان الذي يخزن فيه جت البيانات الوصفية وقاعدة بيانات الكائنات لمشروعك.
هذا هو أهم جزء في جت، وهم الذي يُنسخ عندما <em>تستنسخ</em> (<code>clone</code>) مستودعا من حاسوب آخر.</p>
</div>
<div class="paragraph">
<p>يبدو أسلوب سير العمل الأساسي في جت مثل هذا:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>تعدّل ملفات في شجرة عملك.</p>
</li>
<li>
<p>تنتقي من تلك التعديلات ما تؤهله ليكون جزءًا من إيداعك التالي، وهذا <em>لا يضيف إلا</em> هذه التعديلات إلى منطقة التأهيل.</p>
</li>
<li>
<p>تصنع إيداعا، وهذا يلتقط صورة للملفات كما هي من منطقة التأهيل ويخزن هذه اللقطة في مجلد جت لمشروعك إلى الأبد.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>إذا كانت نسخة معينة من أحد الملفات موجودة داخل مجلد جت، فإنها تعتبر <em>مُودَعة</em>.
وإذا كانت معدّلة وقد أضيفت إلى منطقة التأهيل، فإنها <em>مؤهَّلة</em>.
وإذا كانت معدّلة بعد آخر مرة سُحبت فيها لكنها لم تؤهل بعد، فإنها <em>معدَّلة</em>.
ستتعلم المزيد في <a href="#ch02-git-basics-chapter">أسس جت</a> عن هذه الحالات وكيف يمكنك استغلالها أو تخطي مرحلة التأهيل برمتها.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_سطر_الأوامر">سطر الأوامر</h3>
<div class="paragraph">
<p>لاستخدام جت طرائق عديدة مختلفة.
فلدينا أدوات سطر الأوامر الأصلية، وأيضا الكثير من الواجهات الرسومية ذات القدرات المتفاوتة.
نستخدم في هذا الك‍تاب جت من سطر الأوامر.
فسطر الأوامر هو المكان الوحيد الذي يمكنك فيه تنفيذ <em>جميع</em> أوامر جت؛ فمعظم الواجهات الرسومية لا تتيح إلا جزءًا من وظائف جت للتسهيل.
وإذا كنت تعرف كيف تستخدم نسخة سطر الأوامر، ففي الغالب أنك أيضا ستعرف كيف تستخدم النسخة الرسومية، لكن العكس ليس بالضرورة صحيح.
وأيضا اختيارك لعميل رسومي يخضع لذوقك الشخصي، لكن <em>جميع</em> المستخدمين لديهم أدوات سطر الأوامر مثبتة ومتاحة.</p>
</div>
<div class="paragraph">
<p>لذلك فإننا نتوقع منك معرفة كيف تفتح الطرفية (Terminal) في الأنظمة اليونكسية أو موجه سطر الأوامر (Command Prompt) أو PowerShell في ويندوز.
إن لم تكن تعلم عما نتحدث، فعليك التوقف الآن وبحث هذا سريعا حتى تستطيع السير مع الأمثلة والأوصاف التي في الك‍تاب.</p>
</div>
</div>
<div class="sect2">
<h3 id="_تثبيت_جت">تثبيت جت</h3>
<div class="paragraph">
<p>قبل الشروع في استخدام جت، عليك جعله متاحًا على حاسوبك.
حتى لو كان مثبتًا بالفعل، فغالبا من الأفضل تحديثه إلى آخر نسخة.
يمكنك إما تثبيته من حزمة أو عبر مثبت آخر وإما تنزيل المصدر البرمجي وبناءه بنفسك.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>كُتب هذا الك‍تاب عن جت نسخة ٢.‎
لكن لأن جت متميز في الحفاظ على التوافقية مع الإصدارات السابقة، فأي نسخة حديثة ينبغي أن تعمل جيدا.
ومع أن معظم الأوامر  ينبغي أن تعمل حتى في نسخ جت الأثرية، فقد لا يعمل بعضها أو يعمل باختلاف طفيف.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_التثبيت_على_لينكس">التثبيت على لينكس</h4>
<div class="paragraph">
<p>
إذا أردت تثبيت أدوات جت الأساسية على لينكس عبر مثبت برمجيات مبنية، فيمكنك غالبا فعل ذلك عبر أداة إدارة الحزم التي في توزيعتك.
فإذا كنت على فيدورا (أو أي توزيعة قريبة منها تستخدم حزم RPM، مثل ردهات (RHEL) أو CentOS)، فيمكنك استخدام <code>dnf</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo dnf install git-all</code></pre>
</div>
</div>
<div class="paragraph">
<p>وإذا كنت على توزيعة دبيانية مثل أوبنتو، جرب <code>apt</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo apt install git-all</code></pre>
</div>
</div>
<div class="paragraph">
<p>لخيارات أخرى، توجد على موقع جت تعليمات لتثبيته على توزيعات لينكسية ويونكسية عديدة، في <a href="https://git-scm.com/download/linux" class="bare" target="_blank" rel="noopener">https://git-scm.com/download/linux</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_التثبيت_على_ماك_أو_إس">التثبيت على ماك أو إس</h4>
<div class="paragraph">
<p>
توجد طرائق عديدة لتثبيت جت على ماك.
ربما أسهلها هو تثبيت أدوات سطر أوامر إكس‌كود (Xcode Command Line Tools).
وعلى ماك مافريكس (Mavericks, 10.9) أو أحدث، يمكنك فعل هذا بمجرد محاولة تنفيذ <code>git</code> في الطرفية لأول مرة مطلقا.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git --version</code></pre>
</div>
</div>
<div class="paragraph">
<p>فإذا لم يكن مثبتًا لديك بالفعل، فسيحثك على تثبيته.</p>
</div>
<div class="paragraph">
<p>أما إذا أردت نسخة أحدث، فيمكنك أيضا تثبيته عبر مثبت برمجيات مبنية.
يوجد مثبت جت لماك على موقع جت، في <a href="https://git-scm.com/download/mac" class="bare" target="_blank" rel="noopener">https://git-scm.com/download/mac</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/git-osx-installer.png" alt="مثبت جت على ماك أو إس">
</div>
<div class="title">شكل ٧. مثبت جت على ماك أو إس</div></div>
</div>
<div class="sect3">
<h4 id="_التثبيت_على_ويندوز">التثبيت على ويندوز</h4>
<div class="paragraph">
<p>لتثبيت جت على ويندوز عدة طرائق أيضا.
النسخة المبنية الأكثر رسميةً متاحة على موقع جت.
عليك فقط الذهاب إلى <a href="https://git-scm.com/download/win" class="bare" target="_blank" rel="noopener">https://git-scm.com/download/win</a> وسيبدأ التنزيل تلقائيا.
لاحظ أن هذا مشروع يسمى «جت لويندوز» (Git for Windows)، وهو منفصل عن جت نفسه؛ للمزيد من المعلومات عنه، اذهب إلى <a href="https://gitforwindows.org" class="bare" target="_blank" rel="noopener">https://gitforwindows.org</a>.</p>
</div>
<div class="paragraph">
<p>أما إذا أردت مثبتا آليا فيمكنك استخدام <a href="https://community.chocolatey.org/packages/git" target="_blank" rel="noopener">حزمة Git على Chocolatey</a>.
لاحظ أن المجتمع هو من يرعى حزمة Chocolatey.</p>
</div>
</div>
<div class="sect3">
<h4 id="_التثبيت_من_المصدر_البرمجي">التثبيت من المصدر البرمجي</h4>
<div class="paragraph">
<p>ربما يفيد بعض الناس تثبيت جت من المصدر البرمجي بدلا من ذلك، لأنك عندئذٍ ستحصل على أحدث نسخة إطلاقا.
مثبتات البرمجيات المبنية تميل إلى التأخر قليلا، لكن لأن جت قد نضج في الأعوام الأخيرة، فلم يعد هذا يشكّل فارقا كما كان.</p>
</div>
<div class="paragraph">
<p>إذا أردت تثبيت جت من المصدر البرمجي، فستحتاج إلى المكتبات التالية التي يعتمد عليها جت: <code>autotools</code> و <code>curl</code> و <code>zlib</code> و <code>openssl</code> و <code>expat</code> و <code>libiconv</code>.
مثلا، إذا كنت على نظام يستخدم <code>dnf</code> (مثل فيدورا) أو <code>apt-get</code> (مثل الأنظمة الدبيانية)، فيمكنك استخدام أحد هذين الأمرين لتثبيت أقل اعتماديات مطلوبة لبناء جت وتثبيته:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo dnf install dh-autoreconf curl-devel expat-devel gettext-devel \
  openssl-devel perl-devel zlib-devel
$ sudo apt-get install dh-autoreconf libcurl4-gnutls-dev libexpat1-dev \
  gettext libz-dev libssl-dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>وتحتاج هذه الاعتماديات حتى تضيف التوثيق بصيغه المختلفة (<code>doc</code> و <code>html</code> و <code>info</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo dnf install asciidoc xmlto docbook2X
$ sudo apt-get install asciidoc xmlto docbook2x</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>يحتاج مستخدمو ردهات والتوزيعات الردهاتية مثل CentOS و Scientific Linux إلى <a href="https://docs.fedoraproject.org/en-US/epel/#how_can_i_use_these_extra_packages" target="_blank" rel="noopener">تفعيل مستودع EPEL (الشرح بالإنجليزية)</a> حتى يستطيعوا تثبيت حزمة <code>docbook2X</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>إذا كنت تستخدم توزيعة دبيانية (دبيان أو أوبنتو أو إحدى مشتقاتهما)، فتحتاج أيضا حزمة <code>install-info</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo apt-get install install-info</code></pre>
</div>
</div>
<div class="paragraph">
<p>إذا كنت تستخدم توزيعة تستخدم RPM (فيدورا أو ردهات أو إحدى مشتقاتهما)، فتحتاج أيضا حزمة <code>getopt</code> (المثبتة مبدئيا في التوزيعات الدبيانية):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo dnf install getopt</code></pre>
</div>
</div>
<div class="paragraph">
<p>إضافة إلى ذلك، إذا كنت تستخدم فيدورا أو ردهات أو إحدى مشتقاتهما، فتحتاج أن تفعل هذا أيضا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo ln -s /usr/bin/db2x_docbook2texi /usr/bin/docbook2x-texi</code></pre>
</div>
</div>
<div class="paragraph">
<p>بسبب اختلافات في أسماء الأوامر.</p>
</div>
<div class="paragraph">
<p>عندما يكون لديك جميع الاعتماديات المطلوبة، يمكنك تنزيل أحدث ملف مضغوط موسوم برقم إصدار، من عدة أماكن.
يمكنك تنزيله من موقع نواة لينكس، من <a href="https://www.kernel.org/pub/software/scm/git" class="bare" target="_blank" rel="noopener">https://www.kernel.org/pub/software/scm/git</a>، أو من النسخة المقابلة على موقع جت‌هب، من <a href="https://github.com/git/git/tags" class="bare" target="_blank" rel="noopener">https://github.com/git/git/tags</a>.
غالبا يكون أوضح قليلا على جت‌هب ما هي النسخة الأحدث، ولكن في صفحة موقع نواة لينكس ستجد بصمات الإصدارات، إذا أحببت تفقّد صحة الملفات التي نزّلتها.</p>
</div>
<div class="paragraph">
<p>بعدئذٍ قم بالبناء والتثبيت:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ tar -zxf git-2.8.0.tar.gz
$ cd git-2.8.0
$ make configure
$ ./configure --prefix=/usr
$ make all doc info
$ sudo make install install-doc install-html install-info</code></pre>
</div>
</div>
<div class="paragraph">
<p>بعد إتمام هذا، يمكنك الحصول على جت عبر جت نفسه للتحديثات:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://git.kernel.org/pub/scm/git/git.git</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_first_time">إعداد جت لأول مرة</h3>
<div class="paragraph">
<p>الآن وقد صار جت على نظامك، ستودّ عمل بعض الأمور لتخصيص بيئته لك.
تحتاج عملها مرة واحدة فقط على أي حاسوب؛ فإنها تبقى عندما تحدّث جت.
يمكنك أيضا تعديلها في أي وقت بالمرور على الأوامر مرة أخرى.</p>
</div>
<div class="paragraph">
<p>في جت أداة «تهيئة»، <code>git config</code>، لتعرض أو تضبط متغيرات التهيئة التي تتحكم في جميع مناحي مظهر وسلوك جت.
وتُخزَّن هذه المتغيرات في ثلاثة أماكن مختلفة:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ملف <code>[path]/etc/gitconfig</code>: يحتوي القيم التي تُطبّق على جميع المستخدمين ومستودعاتهم.
إذا أعطيت الخيار <code>--system</code> («نظام») إلى أمر التهيئة <code>git config</code>، فإنه يقرأ ويكتب في هذا الملف تحديدًا.
طبعًا تحتاج صلاحيات إدارية لتعديل هذا الملف لأنه ملف إعدادات خاص بالنظام.</p>
</li>
<li>
<p>ملف <code>~/.gitconfig</code> أو <code>~/.config/git/config</code>: القيم الخاصة بك أنت تحديدًا.
يمكنك جعل جت يقرأ ويكتب في هذا الملف تحديدًا بالخيار <code>--global</code> («عام»)، والذي يؤثر في جميع مستودعاتك على هذا النظام.</p>
</li>
<li>
<p>ملف <code>config</code> في مجلد جت (أي <code>.git/config</code>) في أي مستودع أنت فيه الآن: القيم الخاصة بهذا المستودع وحده.
يمكنك إجبار جت على القراءة والك‍تابة في هذا الملف بالخيار <code>--local</code> («محلي»)، ولكن في الحقيقة هذا هو المفترض.
بالطبع تحتاج إلى التواجد في مكان ما في مستودع جت حتى يمكنك استخدام هذا الخيار.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>قيم كل مستوى تطغى على قيم المستوى السابق، لذا فقيم <code>.git/config</code> تتفوق على التي في <code>[path]/etc/gitconfig</code>.</p>
</div>
<div class="paragraph">
<p>في أنظمة ويندوز، يبحث جت عن ملف <code>.gitconfig</code> في مجلد المنزل، <code>$HOME</code> (والذي غالبا يكون <code>C:\Users\$USER</code>).
ويبحث كذلك عن <code>[path]/etc/gitconfig</code>، ولكن بالنسبة إلى جذر MSys، وهو أينما قررت تثبيت جت فيه على نظامك عندما شغّلت المثبت.
وإذا كنت تستخدم Git for Windows النسخة <code>2.x</code> أو أحدث، فستجد أيضا ملف إعداد على مستوى النظام، في <code>C:\Documents and Settings\All Users\Application Data\Git\config</code> على ويندوز إكس بي، وفي <code>C:\ProgramData\Git\config</code> على ويندوز فيستا والأحدث.
لا يمكن تغيير هذا الملف إلا بتنفيذ الأمر <code>git config -f &lt;ملف&gt;</code> بحساب المدير.</p>
</div>
<div class="paragraph">
<p>يمكنك رؤية جميع إعداداتك ومن أين أتت باستخدام:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --list --show-origin</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_هويتك">هويتك</h4>
<div class="paragraph">
<p>أول شيء تحتاج فعله عند تثبيت جت هو ضبط اسمك وعنوان بريدك الإلكتروني.
هذا مهم لأن كل إيداع جت يستخدم هاتين المعلومتين، ويصيران جزءًا ثابتًا في الإيداعات التي ستبدأ في صنعها.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global user.name "John Doe"
$ git config --global user.email johndoe@example.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>مجددًا، لن تحتاج إلى فعل هذا إلا مرة واحدة إذا استخدمت الخيار <code>--global</code> («عام»)، لأن جت عندئذٍ يستخدم هاتين المعلومتين لكل ما تفعله على هذا النظام.
وإن احتجت إلى تجاوز إحدى هاتين القيمتين في مشروعات محددة، يمكنك تنفيذ الأمر في ذلك المشروع بغير خيار <code>--global</code>.</p>
</div>
<div class="paragraph">
<p>تساعدك الكثير من الواجهات الرسومية في فعل هذا عند تشغيلها لأول مرة.</p>
</div>
</div>
<div class="sect3">
<h4 id="_editor">محررك</h4>
<div class="paragraph">
<p>الآن وقد أعددنا هُويّتك، يمكنك ضبط محررك المبدئي للنصوص، والذي يستخدمه جت عندما يريد منك أن تكتب رسالة.
إذا لم يكن مضبوطا، فيستخدم جت المحرر المبدئي لنظامك.</p>
</div>
<div class="paragraph">
<p>إذا أردت استخدام محررا آخر، مثل Emacs، فيمكنك فعل الآتي:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.editor emacs</code></pre>
</div>
</div>
<div class="paragraph">
<p>على ويندوز، إذا أردت ضبط محرر آخر، فعليك تحديد المسار الكامل لملفه التنفيذي.
والذي يختلف باختلاف طريقة تحزيم محررك.</p>
</div>
<div class="paragraph">
<p>في حالة Notepad++&lrm;، وهو محرر برمجيات مشهور، ستريد غالبا أن تستخدم نسخة ٣٢-بت منه، لأن حتى وقت ك‍تابة هذا، لا تدعم نسخة ٦٤-بت جميع الإضافات.
إذا كنت على ويندوز ٣٢-بت أو تستخدم محرر ٦٤-بت على ويندوز ٦٤-بت، فإنك ستكتب شيئا مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.editor "'C:/Program Files/Notepad++/notepad++.exe' -multiInst -notabbar -nosession -noPlugin"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Vim و Emacs و Notepad++&lrm; هي محررات نصوص شهيرة يستخدمها المبرمجون على ويندوز والأنظمة اليونكسية مثل لينكس وماك.
إذا كنت تستخدم محررًا آخر، أو نسخة ٣٢-بت، فرجاءً انظر التعليمات الخاصة بإعداد محررك المفضل مع جت في <a href="#ch_core_editor">git config core.editor commands</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>إذا لم تضبط محررك مثل هذا، فإنك قد تجد نفسك في حالة محيرة جدا، عندما يحاول جت فتحه.
مثال ذلك على ويندوز أن يحاول جت فتح المحرر فلا يستطيع فيغلق مبكرًا.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_new_default_branch">اسم الفرع المبدئي</h4>
<div class="paragraph">
<p>عندما تنشئ مستودعًا جديدًا بالأمر <code>git init</code>، فإن جت سيُنشئ فيه فرعًا، والذي يسميه مبدئيا <code>master</code>.
يمكنك ضبط اسم آخر للفرع الأوليّ ابتداءً من النسخة 2.28 من جت.</p>
</div>
<div class="paragraph">
<p>لجعل اسم الفرع المبدئي هو <code>main</code>، نفّذ:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global init.defaultBranch main</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_تفقّد_إعداداتك">تفقّد إعداداتك</h4>
<div class="paragraph">
<p>إذا أردت تفقّد إعدادات تهيئتك، فيمكنك استخدام خيار السرد مع أمر التهيئة&#8201;&#8212;&#8201;<code>git config --list</code>&#8201;&#8212;&#8201;والذي يسرد لك جميع الإعدادات التي يراها جت وقتئذٍ:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --list
user.name=John Doe
user.email=johndoe@example.com
color.status=auto
color.branch=auto
color.interactive=auto
color.diff=auto
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>ربما ترى بعض الأسماء مكررة، هذا لأن جت قد وجد الاسم نفسه في أكثر من ملف (<code>[path]/etc/gitconfig</code> و <code>~/.gitconfig</code> مثلا).
يستخدم جت في مثل هذه الحالة القيمة الأخيرة لكل اسم يراه.</p>
</div>
<div class="paragraph">
<p>يمكنك أيضا سؤال جت عن القيمة التي يظنها لاسم معين، بالأمر <code>git config &lt;اسم&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config user.name
John Doe</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>قد يقرأ جت متغير تهيئة معين من أكثر من ملف، فمن الممكن أن تجد بعض القيم مثيرة للدهشة ولا تعرف من أين أتت.
يمكنك في مثل هذه الحالة سؤال جت: من أين لك هذا؟&#8201;&#8212;&#8201;أي باستخدام خيار إظهار الأصل <code>--show-origin</code>، الذي سيخبرك بالملف الذي غلب على أمرهم في قيمة هذا المتغير:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --show-origin rerere.autoUpdate
file:/home/johndoe/.gitconfig	false</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_help">الحصول على المساعدة</h3>
<div class="paragraph">
<p>إذا احتجت يوما إلى المساعدة في جت، فعندك ثلاث طرائق متكافئة للحصول على صفحة الدليل الشامل (manpage) لأي أمر من أوامر جت:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git help &lt;أمر&gt;
$ git &lt;أمر&gt; --help
$ man git-&lt;أمر&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>مثلا، للحصول على صفحة مساعدة الأمر <code>git config</code>، نفّذ هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git help config</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذه الأوامر جميلة لأنك تستطيع استخدامها في أي مكان، حتى عندما تكون غير متصل بالإنترنت.
إن لم تكن صفحات المساعدة وهذا الك‍تاب كافيين واحتجت مساعدة شخصية، يمكنك تجربة إحدى قنوات IRC مثل <code>#git</code> أو <code>#github</code> أو <code>#gitlab</code> على خادوم Libera Chat، والذي تجده على <a href="https://libera.chat" class="bare" target="_blank" rel="noopener">https://libera.chat</a>.
هذه القنوات مليئة باستمرار بمئات الخبراء في جت والذين أغلب الأوقات يوَدّون المساعدة.</p>
</div>
<div class="paragraph">
<p>وإذا كنت غير محتاج إلى صفحة الدليل الكبيرة الكاملة، ولكن تحتاج فقط إلى تجديد معرفتك بالخيارات المتاحة لأحد أوامر جت، فيمكنك طلب المساعدة الموجزة بالخيار <code>-h</code>، مثل:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add -h
usage: git add [&lt;options&gt;] [--] &lt;pathspec&gt;...

    -n, --dry-run               dry run
    -v, --verbose               be verbose

    -i, --interactive           interactive picking
    -p, --patch                 select hunks interactively
    -e, --edit                  edit current diff and apply
    -f, --force                 allow adding otherwise ignored files
    -u, --update                update tracked files
    --renormalize               renormalize EOL of tracked files (implies -u)
    -N, --intent-to-add         record only the fact that the path will be added later
    -A, --all                   add changes from all tracked and untracked files
    --ignore-removal            ignore paths removed in the working tree (same as --no-all)
    --refresh                   don't add, only refresh the index
    --ignore-errors             just skip files which cannot be added because of errors
    --ignore-missing            check if - even missing - files are ignored in dry run
    --sparse                    allow updating entries outside of the sparse-checkout cone
    --chmod (+|-)x              override the executable bit of the listed files
    --pathspec-from-file &lt;file&gt; read pathspec from file
    --pathspec-file-nul         with --pathspec-from-file, pathspec elements are separated with NUL character</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_الخلاصة">الخلاصة</h3>
<div class="paragraph">
<p>أنت الآن مُلم بماهية جت وكيف هو مختلف عن أي نظام إدارة نسخ مركزي ربما تكون استخدمه سابقا.
وكذلك الآن لديك جت مثبتا على نظامك ومضبوطا بهويتك الشخصية.
حان الآن موعد تعلم بعض أسس جت.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch02-git-basics-chapter">الباب الثاني: أسس جت</h2>
<div class="sectionbody">
<div class="paragraph">
<p>لو لم تكن ستقرأ إلا بابًا واحدًا لتنطلق مع جت، فهذا هو.
يشرح هذا الباب جميع الأوامر الأساسية التي تحتاجها لعمل الغالبية العظمى من الأمور التي ستقضي أغلب وقتك مع جت تفعلها بعد ذلك.
على نهاية هذا الباب ستكون قادرًا على تهيئة مستودع وابتدائه، وبدء تعقب ملفات وإيقافه، وتأهيل تعديلات وإيداعها.
سنريك أيضا كيف تضبط جت ليتجاهل ملفات معينة أو أنماطًا معينة من الملفات، وكيف تتراجع عن الأخطاء بسرعة وسَهولة، وكيف تتصفح تاريخ مشروعك، وكيف ترى التعديلات بين الإيداعات، وكيف تدفع إلى المستودعات البعيدة وتجذب منها.</p>
</div>
<div class="sect2">
<h3 id="_getting_a_repo">الحصول على مستودع جت</h3>
<div class="paragraph">
<p>في المعتاد تحصل على مستودع جت بإحدى طريقتين:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>تأتي مجلدًا محليًّا ليس تحت إدارة نُسخ، وتحوله إلى مستودع جت،</p>
</li>
<li>
<p>أو <em>تستنسخ</em> مستودع جت موجودا بالفعل.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>في كلتا الحالتين، سيصير معك مستودع جت على حاسوبك المحلي وجاهز للعمل.</p>
</div>
<div class="sect3">
<h4 id="_ابتداء_مستودع_في_مجلد_موجود">ابتداء مستودع في مجلد موجود</h4>
<div class="paragraph">
<p>إذا كان لديك مجلد مشروع ليس تحت إدارة نسخ الآن، وتريد أن تبدأ في إدارته باستخدام جت، تحتاج أولا إلى الذهاب إلى ذلك المجلد.
إن لم تفعل هذا من قبل، فهذا قد يختلف قليلا حسب نظامك:</p>
</div>
<div class="paragraph">
<p>للينكس:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /home/user/my_project</code></pre>
</div>
</div>
<div class="paragraph">
<p>لماك أو إس:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /Users/user/my_project</code></pre>
</div>
</div>
<div class="paragraph">
<p>لويندوز:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd C:/Users/user/my_project</code></pre>
</div>
</div>
<div class="paragraph">
<p>ثم اكتب:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git init</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا ينشئ لك مجلد فرعيا جديدا يُسمى <code>.git</code> (يبدأ اسمه بنقطة، فتجعله مجلدا مخفيا) ويحتوى كل الملفات الضرورية لمستودعك&#8201;&#8212;&#8201;أيْ هيكل مستودع جت.
حتى الآن، لا شيء في مشروعك متعقَّب بعد.
انظر <s>دواخل جت</s>  للمزيد من المعلومات عن تفاصيل الملفات التي في مجلد <code>.git</code> الذي أنشأته للتو.</p>
</div>
<div class="paragraph">
<p>إذا أردت أن تبدأ في إدارة نسخ ملفات موجودة (وليس مجلدا فارغا)، فعليك بدء تعقب هذه الملفات وصنع إيداع مبدئي.
يمكنك تحقيق هذا ببعض أوامر الإضافة، <code>git add</code>، والتي تحدد الملفات التي تريد تعقبها، ثم أمر الإيداع، <code>git commit</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add *.c
$ git add LICENSE
$ git commit -m 'Initial project version'  # إيداع «النسخة المبدئية من المشروع»‏</code></pre>
</div>
</div>
<div class="paragraph">
<p>سنعرف ماذا تفعل هذه الأوامر خلال لحظات.
لكن الآن، لديك مستودع جت به ملفات متعقبة وإيداع مبدئي.</p>
</div>
</div>
<div class="sect3">
<h4 id="_git_cloning">استنساخ مستودع موجود</h4>
<div class="paragraph">
<p>إذا كنت تريد الحصول على نسخة من مستودع جت موجود&#8201;&#8212;&#8201;مثلا مشروع تحب المشاركة فيه&#8201;&#8212;&#8201;فإن الأمر الذي تريده هو أمر الاستنساخ، <code>git clone</code>.
إذا كنت تعرف أنظمة أخرى لإدارة النسخ مثل Subversion، ستلاحظ أن الأمر هو <code>clone</code> (استنساخ) وليس <code>checkout</code> (سحب).
هذا فرق مهم؛ فبدلا من جلب مجرد نسخة للعمل عليها، يحضر لك جت تقريبا كل شيء لدى الخادوم؛
كل نسخة من كل ملف عبر تاريخ المشروع، يجذبها جت إليك عندما تكتب <code>git clone</code>.
في الحقيقة، إذا تلف قرص الخادوم، يمكنك في الغالب استخدام ربما أي استنساخ من أي عميل لإرجاع الخادوم إلى حالته عندما اُستنسخ (قد تفقد بعض الخطاطيف الخاصة بالخادوم وأشياء من هذا القبيل، لكن جميع البيانات التي تحت إدارة النسخ ستكون موجودة&#8201;&#8212;&#8201;انظر <a href="#_getting_git_on_a_server">تثبيت جت على خادوم</a> للمزيد من التفاصيل).</p>
</div>
<div class="paragraph">
<p>استنسخ مستودعًا بالأمر <code>git clone &lt;رابط&gt;</code>.
مثلا إذا أردت استنساخ مكتبة جت القابلة للربط المسماة <code>libgit2</code>، يمكنك فعل ذلك هكذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://github.com/libgit2/libgit2</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا ينشئ مجلدًا اسمه <code>libgit2</code>، ويبتدئ مجلد <code>.git</code> فيه، ويجذب جميع بيانات هذا المستودع، ويسحب نسخة عمل من النسخة الأخيرة منه.
فإذا ذهبت إلى داخل مجلد <code>libgit2</code> الجديد الذي أُنشئ آنفا، فستجد فيه ملفات المشروع تنتظرك للعمل عليها أو استخدامها.</p>
</div>
<div class="paragraph">
<p>إذا أردت استنساخ المستودع إلى مجلد باسم غير <code>libgit2</code>، يمكنك تعيين هذا الاسم الجديد بإضافته إلى معاملات الأمر:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://github.com/libgit2/libgit2 mylibgit</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا الأمر يفعل الشيء نفسه الذي يفعله الأمر السابق، لكن اختلف المجلد الهدف فصار <code>mylibgit</code>.</p>
</div>
<div class="paragraph">
<p>يستطيع جت التعامل مع عدد من موافيق (بروتوكولات) النقل المختلفة.
استخدم المثال السابق ميفاق <code>https://</code>، ولكنك قد ترى أيضا <code>git://</code>، أو <code>user@server:path/to/repo.git</code> الذي يستخدم ميفاق SSH.
يخبرك <a href="#_getting_git_on_a_server">تثبيت جت على خادوم</a> بجميع الخيارات التي يستطيع الخادوم إعدادها حتى يمكنك الوصول إلى مستودع جت الخاص بك، ومزايا وعيوب كلٍ منها.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_تسجيل_التعديلات_في_المستودع">تسجيل التعديلات في المستودع</h3>
<div class="paragraph">
<p>الآن لديك مستودع جت أصيل على حاسوبك، وأمامك نسخة مسحوبة من جميع ملفاته، أي «نسخة عمل».
غالبا ستود البدء بعمل تعديلات وإيداع لقطات من هذه التعديلات في مستودعك كل مرة يصل مشروعك إلى مرحلة تريد تسجيلها.</p>
</div>
<div class="paragraph">
<p>تذكر أن كل ملف في مجلد العمل لديك يمكن أن يكون في حالة من اثنتين: <em>متعقَّب</em> أو <em>غير متعقَّب</em>.
الملفات المتعقبة هي الملفات التي كانت في اللقطة الأخيرة أو أي ملف أُهِّل حديثًا. ويمكن أن تكون غير معدَّلة، أو معدلة، أو مؤهلة.
باختصار، الملفات المتعقبة هي الملفات التي يعرفها جت.</p>
</div>
<div class="paragraph">
<p>الملفات غير المتعقبة هي كل شيء آخر: أيّ ملفات في مجلد عملك لم تكن ضمن لقطتك الأخيرة وليست في منطقة التأهيل.
عندما تستنسخ مستودعا أول مرة، تكون جميع ملفاتك متعقبة وغير معدلة، لأن جت سَحَبها لك للتو ولم تعدّل فيها شيئا بعد.</p>
</div>
<div class="paragraph">
<p>وعندما تبدأ في تعديل الملفات، سيراها جت معدلة، لأنك غيّرتها عما كانت عليه في إيداعك الأخير.
وعندما تشرع في العمل، ستنتقي من هذه الملفات ما تؤهله ثم تودِع هذه التعديلات المؤهلة، ثم تعيد الكَرَّة.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/lifecycle-AR.png" alt="دورة حياة حالة ملفاتك">
</div>
<div class="title">شكل ٨. دورة حياة حالة ملفاتك</div></div>
<div class="sect3">
<h4 id="_checking_status">فحص حالة ملفاتك</h4>
<div class="paragraph">
<p>الأداة الرئيسية التي تستعملها لتحديد أي الملفات في أي حالة هي أمر الحالة، <code>git status</code>.
إذا نفّذت هذا الأمر مباشرةً بعد استنساخ، سترى شيئا مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working tree clean</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا يعني أن لديك مجلد عمل نظيف؛ أي أن لا ملف من ملفاتك المتعقبة معدل.
وأيضا لا يرى جت أي ملفات غير متعقبة، وإلا لَسَرَدها هنا.
وأخيرا، يخبرك هذا الأمر أي فرع أنت فيه، ويعلِمك أنه لم يختلف عن أخيه الفرع الذي في المستودع البعيد.
ذلك الفرع حتى الآن هو دائما <code>master</code>، وهو المبدئي؛ لا تحتاج أن تقلق بشأنه هنا.
سيناقش <a href="#ch03-git-branching">التفريع في جت</a> الفروع والإشارات بالتفصيل.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>غيّرت شركة جت‌هب (GitHub) اسم المستودع المبدئي من <code>master</code> إلى <code>main</code> في منتصف عام ٢٠٢٠، ثم تبعتها خدمات استضافة جت الأخرى.
لذلك قد تجد أن اسم الفرع المبدئي هو <code>main</code> في المستودعات التي أُنشئت حديثًا، وليس <code>master</code>.
وأيضا يمكنك تغيير اسم الفرع المبدئي (كما رأيت في <a href="#_new_default_branch">اسم الفرع المبدئي</a>)، فربما ترى اسمًا آخر للفرع المبدئي.</p>
</div>
<div class="paragraph">
<p>ولكن ما زال جت نفسه يستعمل <code>master</code> اسمًا للفرع المبدئي، لذلك فهذا ما سنستعمل خلال الك‍تاب.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>لنقُل أنك أضفت ملفًا جديدًا إلى مشروعك، مثلا ملف <code>README</code> («اقرأني») صغير.
إذا لم يكن هذا الملف موجودًا من قبل، ونفّذت أمر الحالة <code>git status</code>، فسترى ملفك غير المتعقب هكذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ echo 'My Project' &gt; README
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

    README

nothing added to commit but untracked files present (use "git add" to track)</code></pre>
</div>
</div>
<div class="paragraph">
<p>نرى أن ملفك الجديد غير متعقب، لأنه تحت عنوان ‪&#8220;Untracked files&#8221;‬ («ملفات غير متعقبة») في ناتج الحالة.
«غير متعقب» لا يعني إلا أن جت يرى ملفًا لم يكن في اللقطة السابقة (الإيداع الأخير)، ولم تؤهله بعد. ولن يبدأ جت في ضمه إلى لقطات الإيداعات إلا بعد أن تخبره بذلك بأمر صريح.
إنه لا يفعل ذلك لكيلا تضم بالخطأ ملفات رقمية مولدة أو ملفات أخرى لم تشأ ضمها أصلا.
ولكنك تريد ضم <code>README</code>، فهيا بنا نبدأ تعقب هذا الملف.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tracking_files">تعقب ملفات جديدة</h4>
<div class="paragraph">
<p>لبدء تعقب ملف جديد، استخدم أمر الإضافة <code>git add</code>.
مثلا لبدء تعقب ملف <code>README</code>، نفّذ هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add README</code></pre>
</div>
</div>
<div class="paragraph">
<p>إذا نفذت أمر الحالة مجددا، سترى ملف <code>README</code> قد صار متعقبا ومؤهلا للإيداع:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git restore --staged &lt;file&gt;..." to unstage)

    new file:   README</code></pre>
</div>
</div>
<div class="paragraph">
<p>نعرف أنه مؤهلٌ لأنه تحت عنوان ‪&#8220;Changes to be committed&#8221;‬ («تعديلات ستُودَع»).
إذا أودعت الآن، فإن نسخة الملف وقت تنفيذ أمر الإضافة <code>git add</code> هي التي ستكون في اللقطة التاريخية التالية.
تذكر أنك عندما نفذت أمر الابتداء <code>git init</code> سابقا، أتبعته بأمر الإضافة <code>git add &lt;ملفات&gt;</code> والذي بدأ تعقب الملفات التي في مجلدك.
أمر الإضافة <code>git add</code> يأخذ مسار ملف أو مجلد. فإن كان مجلدًا فإنه يضيف جميع الملفات التي فيه وفي أي مجلد فرعي فيه.</p>
</div>
</div>
<div class="sect3">
<h4 id="_تأهيل_ملفات_معدلة">تأهيل ملفات معدلة</h4>
<div class="paragraph">
<p>لنعدّل ملفًا جعلناه متعقبًا بالفعل.
إذا عدّلت الملف المتعقب <code>CONTRIBUTING.md</code> ونفذت أمر الحالة مجددًا، فترى ما يشبه هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>يظهر اسم الملف <code>CONTRIBUTING.md</code> تحت عنوان ‪&#8220;Changes not staged for commit&#8221;‬ («تعديلات غير مؤهلة للإيداع»)&#8201;&#8212;&#8201;والذي يعني أن ملفًا متعقبًا قد تغيّر في مجلد العمل، ولكنه لم يؤهل بعد.
لتأهيله، نفذ أمر الإضافة <code>git add</code>.
يُستخدم أمر الإضافة لأغراض عديدة: لبدء تعقب ملفات جديدة، ولتأهيل الملفات، ولأفعال أخرى مثل إعلان حل الملفات في نزاعات الدمج.
ربما من المفيد أن تعتبرها بمعنى «أضف تحديدا هذا المحتوى إلى الإيداع التالي» بدلا من «أضف هذا الملف إلى المشروع».
لننفذ <code>git add</code> الآن لتأهيل ملف <code>CONTRIBUTING.md</code> ثم ننفذ <code>git status</code> مجددا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add CONTRIBUTING.md
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README
    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>كلا الملفين مؤهلان وسيكونان في إيداعك التالي.
لنقُل أنك تذكرت الآن تعديلًا طفيفًا أردته في ملف <code>CONTRIBUTING.md</code> قبل إيداعه.
ستفتح الملف مجددا، وتصنع تعديلك، وتحفظه وتغلقه. الآن أنت جاهز للإيداع.
ولكن، لننفذ <code>git status</code> مرة أخرى:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim CONTRIBUTING.md
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README
    modified:   CONTRIBUTING.md

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>يا للهول!
لقد صار <code>CONTRIBUTING.md</code> مسرودًا أنه مؤهلا <em>وكذلك</em> غير مؤهل.
كيف يُعقل هذا؟
يتضح أن جت يؤهل الملف تماما كما هو عندما تنفذ <code>git add</code>.
فإذا أودعت الآن، فإن ما سيودع هو نسخة <code>CONTRIBUTING.md</code> التي كانت موجودة عندما نفذت أمر الإضافة <code>git add</code> آخر مرة، وليس نسخة الملف الظاهرة لديك في مجلد العمل عندما تنفذ أمر الإيداع <code>git commit</code>.
فإن عدّلت ملفًا بعد تنفيذ أمر الإضافة، فتحتاج إلى تنفيذه مرة أخرى لتأهيل النسخة الأخيرة من الملف:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add CONTRIBUTING.md
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README
    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_الحالة_الموجزة">الحالة الموجزة</h4>
<div class="paragraph">
<p>مع كون ناتج أمر الحالة <code>git status</code> شاملًا، إلا أنه كثير الكلام.
يتيح جت أيضا خيارًا للحالة الموجزة، لترى تعديلاتك بإيجاز:
إذا نفذت <code>git status -s</code> أو <code>git status --short</code>، فسيعطيك الأمر ناتجًا أقصر كثيرا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status -s
 M README
MM Rakefile
A  lib/git.rb
M  lib/simplegit.rb
?? LICENSE.txt</code></pre>
</div>
</div>
<div class="paragraph">
<p>أمام الملفات الجديدة التي لم تُتعقب علامتا <code>??</code>. والملفات الجديدة المؤهلة أمامها <code>A</code> (اختصار «أضيف»). والملفات المعدّلة أمامها <code>M</code> (اختصار «معدّل»). وهكذا.
ويوجد عمودان في الناتج أمام أسماء الملفات: العمود الأيسر يوضّح حالته في منطقة التأهيل، والعمود الأيمن يوضّح حالته في شجرة العمل.
لذا ففي ناتج مثالنا هذا، ملف <code>README</code> معدّل في مجلد العمل ولكنه ليس مؤهلا بعد، ولكن ملف <code>lib/simplegit.rb</code> معدّل ومؤهل.
وملف <code>Rakefile</code> معدّل ومؤهل ثم معدّل مرة أخرى، ففيه تعديلات مؤهلة وتعديلات غير مؤهلة.</p>
</div>
</div>
<div class="sect3">
<h4 id="_ignoring">تجاهل ملفات</h4>
<div class="paragraph">
<p>سيكون لديك غالبا فئة من الملفات التي لا تريد من جت أن يضيفها آليًا ولا حتى أن يخبرك أنها غير متعقبة.
هذه غالبا ملفات موّلدة آليًا مثل ملفات السجلات أو ملفات مبنية.
يمكنك في مثل هذه الحالات إنشاء ملف يسمى <code>.gitignore</code> (يبدأ بنقطة، لجعله مخفيا) والذي يسرد أنماط أسماء هذه الملفات ليتجاهلها.
هذا مثال على ملف <code>.gitignore</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat .gitignore
*.[oa]
*~</code></pre>
</div>
</div>
<div class="paragraph">
<p>يطلب السطر الأول من جت أن يتجاهل أي ملفات ينتهي اسمها بـ ‪&#8220;.o&#8221;‬ أو ‪&#8220;.a&#8221;‬&#8201;&#8212;&#8201;ملفات الكائنات وملفات المكتبات المضغوطة التي قد تُنتج أثناء بناء مصدرك البرمجي.
ويطلب السطر الثاني من جت أن يتجاهل جميع الملفات التي ينتهي اسمها بعلامة التلدة (<code>~</code>)، التي تستعملها محررات نصوص عديدة مثل Emacs لتمييز الملفات المؤقتة.
يمكنك أيضا إضافة مجلد <code>log</code> أو <code>tmp</code> أو <code>pid</code>، أو الوثائق المولدة آليًا، إلخ.
إعداد ملف التجاهل <code>.gitignore</code> لمستودعك الجديد قبل الانطلاق في المشروع هو تفكير حسن عموما، لكيلا تودع بالخطأ ملفات يقينا لا تريدها في مستودعك.</p>
</div>
<div class="paragraph">
<p>إليك قواعد الأنماط التي تستطيع استعمالها في ملف التجاهل:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>تُهمل الأسطر الفارغة أو الأسطر البادئة بعلامة <code>#</code>.</p>
</li>
<li>
<p>يمكن استعمال أنماط توسيع المسارات (glob) المعتادة (ستُوّضح بالتفصيل)، وستُطبق في جميع مجلدات شجرة العمل.</p>
</li>
<li>
<p>يمكنك بدء الأنماط بفاصلة مائلة (<code>/</code>) لمطابقة الملفات أو المجلدات في المجلد الحالي فقط، وليس أي مجلد فرعي.</p>
</li>
<li>
<p>يمكنك إنهاء الأنماط بفاصلة مائلة (<code>/</code>) لتحديد مجلد.</p>
</li>
<li>
<p>يمكنك نفي نمط ببدئه بعلامة تعجب (<code>!</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>تشبه أنماط glob نسخة مُيسَّرة من «التعابير النمطية»، وتستعملها الصدفات.
فتُطابق النجمة (<code>*</code>) صفر أو أكثر من المحارف؛ ويُطابق <code>[abc]</code> أي حرف داخل القوسين المربعين (أي <code>a</code> أو <code>b</code> أو <code>c</code> في هذه الحالة)؛ وتُطابق علامة الاستفهام الغربية (<code>?</code>) مِحرَفًا واحدًا؛ ولمطابقة مدًى من المحارف، نكتب أول مِحرف وآخر مِحرف (بترتيبهما في Unicode) داخل قوسين مربعين وبينهما شرطة، فمثلا لمطابقة رقمًا من الأرقام المغربية (من <code>0</code> إلى <code>9</code>) نكتب <code>[0-9]</code>.
يمكنك أيضا استخدام نجمتين لمطابقة أي عدد من المجلدات الفرعية، فمثلا يطابق النمط <code>a/**/z</code> كلًا من <code>a/z</code> و <code>a/b/z</code> و <code>a/b/c/z</code> وهكذا.</p>
</div>
<div class="paragraph">
<p>إليك مثال آخر على ملف <code>.gitignore</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&#x202b;<span class="comment-in-code">#⭅ تجاهل كل الملفات ذات الامتداد a #&#x202c;</span>
*.a

&#x202b;<span class="comment-in-code">#⭅ لكن تعقب lib.a، حتى لو كنت تتجاهل جميع ملفات a بالأعلى #&#x202c;</span>
!lib.a

&#x202b;<span class="comment-in-code">#⭅ تجاهل فقط TODO في المجلد الحالي، وليس subdir/TODO مثلا #&#x202c;</span>
/TODO

&#x202b;<span class="comment-in-code">#⭅ تجاهل أي مجلد اسمه build وكل شيء داخله #&#x202c;</span>
build/

&#x202b;<span class="comment-in-code">#⭅ تجاهل doc/notes.txt ولكن ليس doc/server/arch.txt مثلا #&#x202c;</span>
doc/*.txt

&#x202b;<span class="comment-in-code">#⭅ تجاهل جميع pdf في مجلد doc أو أي مجلد فرعي فيه #&#x202c;</span>
doc/**/*.pdf</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>إذا أردت نقطة بداية لمشروعك، فإن جت‌هب يرعى قائمةً شاملة نسبيًا من أمثلة ملفات التجاهل الحسنة لعشرات المشروعات واللغات في <a href="https://github.com/github/gitignore" class="bare" target="_blank" rel="noopener">https://github.com/github/gitignore</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>قد يكون لدى المستودع في الحالات اليسيرة ملف تجاهل واحد في مجلد الجذر، والذي يطبق على المستودع بجميع مجلداته الفرعية.
ولكن ممكن كذلك وجود ملفات تجاهل أخرى في مجلدات فرعية.
وملفات التجاهل الداخلية هذه لا تطبق قواعدها إلا على الملفات التي في مجلداتها.
ومثلا لدى مستودع نواة لينكس ٢٠٦ ملف تجاهل.</p>
</div>
<div class="paragraph">
<p>يخرج عن نطاق الك‍تاب الغوص في تفاصيل ملفات التجاهل المتعددة؛ انظر <code>man gitignore</code> للتفاصيل.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_git_diff_staged">رؤية تعديلاتك المؤهلة وغير المؤهلة</h4>
<div class="paragraph">
<p>إذا كنت تجد ناتج أمر الحالة <code>git status</code> شديد الغموض&#8201;&#8212;&#8201;تريد معرفة ما الذي عدّلته على وجه التحديد، وليس مجرد أسماء الملفات التي تعدّلت&#8201;&#8212;&#8201;فيمكنك استخدام أمر الفرق <code>git diff</code>.
نتناوله بالتفصيل فيما بعد، لكنك في الغالب تستخدمه لإجابة أحد التساؤلين: ما الذي عدّلته ولم تؤهله بعد؟
وما الذي أهّلته وعلى وشك إيداعه؟
وبالرغم من أن أمر الحالة <code>git status</code> يجيبهما إجابةً عامة جدا بسرد أسماء الملفات، إلا أن أمر الفرق <code>git diff</code> يُظهر لك بالتحديد السطور المضافة والمزالة: الرُقعة، إن جاز التعبير.</p>
</div>
<div class="paragraph">
<p>لنقُل أنك عدّلت ملف <code>README</code> مجددا وأهّلته، ثم عدّلت ملف <code>CONTRIBUTING.md</code> من غير تأهيله.
إذا نفذت أمر الحالة، سترى من جديد شيئا مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    modified:   README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>لرؤية ما الذي عدّلته ولم تؤهله بعد، اكتب <code>git diff</code> من غير أي معاملات أخرى:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff
diff --git a/CONTRIBUTING.md b/CONTRIBUTING.md
index 8ebb991..643e24f 100644
--- a/CONTRIBUTING.md
+++ b/CONTRIBUTING.md
@@ -65,7 +65,8 @@ branch directly, things can get messy.
 Please include a nice description of your changes when you submit your PR;
 if we have to read the whole diff to figure out why you're contributing
 in the first place, you're less likely to get feedback and have your change
-merged in.
+merged in. Also, split your changes into comprehensive chunks if your patch is
+longer than a dozen lines.

 If you are starting to work on a particular area, feel free to submit a PR
 that highlights your work in progress (and note in the PR title that it's</code></pre>
</div>
</div>
<div class="paragraph">
<p>يقارن هذا الأمر بين محتويات مجلد العمل ومنطقة التأهيل،
ويُخبرك الناتج بما عدّلته ولم تؤهله بعد.</p>
</div>
<div class="paragraph">
<p>إذا أردت رؤية ما الذي أهّلته ليكون في الإيداع التالي، يمكنك استخدام <code>git diff --staged</code>.
يقارن هذا الأمر بين تعديلاتك المؤهلة وإيداعك الأخير:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff --staged
diff --git a/README b/README
new file mode 100644
index 0000000..03902a1
--- /dev/null
+++ b/README
@@ -0,0 +1 @@
+My Project</code></pre>
</div>
</div>
<div class="paragraph">
<p>مهمٌ ملاحظة أن <code>git diff</code> وحده لا يُظهر جميع التعديلات التي تمت بعد الإيداع الأخير&#8201;&#8212;&#8201;إنما التعديلات غير المؤهلة فقط.
فإذا أهّلت جميع تعديلاتك، فلن يعطيك <code>git diff</code> أي ناتج.</p>
</div>
<div class="paragraph">
<p>مثالٌ آخر: إذا أهّلت ملف <code>CONTRIBUTING.md</code> ثم عدّلته، يمكنك استخدام أمر الفرق لمعرفة التعديلات على الملف التي أُهّلِت والتعديلات التي لم تؤهل.
فإذا كانت بيئتنا تبدو هكذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add CONTRIBUTING.md
$ echo '# test line' &gt;&gt; CONTRIBUTING.md
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    modified:   CONTRIBUTING.md

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>يمكننا إذًا استخدام <code>git diff</code> لرؤية ما الذي لم يؤهل بعد:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff
diff --git a/CONTRIBUTING.md b/CONTRIBUTING.md
index 643e24f..87f08c8 100644
--- a/CONTRIBUTING.md
+++ b/CONTRIBUTING.md
@@ -119,3 +119,4 @@ at the
 ## Starter Projects

 See our [projects list](https://github.com/libgit2/libgit2/blob/development/PROJECTS.md).
+# test line</code></pre>
</div>
</div>
<div class="paragraph">
<p>واستخدام <code>git diff --cached</code> لرؤية ما الذي أهّلته حتى الآن (الخياران <code>--staged</code> و <code>--cached</code> مترادفان):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff --cached
diff --git a/CONTRIBUTING.md b/CONTRIBUTING.md
index 8ebb991..643e24f 100644
--- a/CONTRIBUTING.md
+++ b/CONTRIBUTING.md
@@ -65,7 +65,8 @@ branch directly, things can get messy.
 Please include a nice description of your changes when you submit your PR;
 if we have to read the whole diff to figure out why you're contributing
 in the first place, you're less likely to get feedback and have your change
-merged in.
+merged in. Also, split your changes into comprehensive chunks if your patch is
+longer than a dozen lines.

 If you are starting to work on a particular area, feel free to submit a PR
 that highlights your work in progress (and note in the PR title that it's</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">فروقات جت باستخدام أداة خارجية</div>
<div class="paragraph">
<p>سنستمر في استخدام أمر الفرق <code>git diff</code> بطرائق متنوعة خلال الك‍تاب.
ولكن توجد طريقة أخرى لرؤية هذه الفروقات إذا كنت تفضل برنامج عرض فروقات خارجي أو رسومي.
يمكنك باستخدام <code>git difftool</code> بدلا من <code>git diff</code> أن ترى هذه الفروقات في برنامج مثل emerge أو vimdiff أو برامج كثيرة أخرى (بما فيها البرامج التجارية).
نفذ <code>git difftool --tool-help</code> لترى ما المتاح على نظامك.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_committing_changes">إيداع تعديلاتك</h4>
<div class="paragraph">
<p>الآن وقد هيّأت منطقة تأهيلك كما تحب، يمكنك أن تودع تعديلاتك.
تذكر أنه لن يُحفظ في هذا الإيداع أي شي ما زال غير مؤهل&#8201;&#8212;&#8201;أيْ أيّ ملفات أنشأتها أو عدّلتها ولم تنفذ <code>git add</code> عليها بعدما عدلتها؛
بل ستبقى ملفات معدلة على القرص.
لنقُل أنك عندما نفذت أمر <code>git status</code> رأيت أن كل شيء مؤهل، لذا فأنت الآن مستعد لإيداع تعديلاتك.
أسهل طريقة للإيداع هي ك‍تابة <code>git commit</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git commit</code></pre>
</div>
</div>
<div class="paragraph">
<p>فعل هذا يفتح محررك المختار.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>يعيّن «محررَك المختار» متغيرُ بيئة المحرر، <code>EDITOR</code>، في صدفتك، والذي غالبا يكون <code>vim</code> أو <code>emacs</code>. مع أنك تستطيع جعله أي شيء تريده بالأمر <code>git config --global core.editor</code> كما رأيت في <a href="#ch01-getting-started">البدء</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>يُظهر المحرر النصَ التالي (المثال من Vim):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch master
# Your branch is up-to-date with 'origin/master'.
#
# Changes to be committed:
#	new file:   README
#	modified:   CONTRIBUTING.md
#
~
~
~
".git/COMMIT_EDITMSG" 9L, 283C</code></pre>
</div>
</div>
<div class="paragraph">
<p>والتي يترجم أولها إلى: «أدخل رسالة الإيداع لتعديلاتك. الأسطر البادئة بعلامة <code>#</code> ستُهمل، ورسالة فارغة ستلغي الإيداع.»</p>
</div>
<div class="paragraph">
<p>نرى أن رسالة الإيداع المبدئية تشمل ناتج أمر الحالة الأحدث في صورة تعليق، وأن بها سطر فارغ في أولها.
يمكنك إزالة هذه التعليقات وك‍تابة رسالة إيداعك، أو تركها في مكانها لتتذكر ماذا تودع.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>إذا احتجت تذكيرًا أشد تفصيلًا بما عدّلت، يمكنك إمرار الخيار <code>-v</code> لأمر الإيداع، <code>git commit</code>.
يضع هذا فروقات تعديلاتك في المحرر، كي ترى بالتحديد ما التعديلات الذاهبة للإيداع.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>عندما تحفظ وتغلق المحرر، سيصنع جت إيداعك بالرسالة التي كتبتها (باستثناء الفروقات والتعليقات، أي الأسطر البادئة بعلامة <code>#</code>).</p>
</div>
<div class="paragraph">
<p>يمكنك عوضًا عن ذلك ك‍تابة رسالة إيداعك في أمر الإيداع نفسه، بالخيار <code>-m</code>، مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git commit -m "Story 182: fix benchmarks for speed"
[master 463dc4f] Story 182: fix benchmarks for speed
 2 files changed, 2 insertions(+)
 create mode 100644 README</code></pre>
</div>
</div>
<div class="paragraph">
<p>الآن قد صنعت إيداعك الأول!
نرى أن الإيداع أعطاك بعض المعلومات عن نفسه، مثل الفرع الذي أودعت فيه (<code>master</code>)، وبصمة الإيداع (<code>463dc4f</code>)، وعدد الملفات المعدّلة (<code>2 files changed</code>)، وإحصاءات عن السطور المضافة والمزالة في هذا الإيداع (<code>2 insertion(+)</code>).</p>
</div>
<div class="paragraph">
<p>تذكر أن هذا الإيداع يسجل اللقطة التي أعددتها في منطقة تأهيلك.
أيّ شيء عدّلته ولم تؤهله سيظل جالسًا في مجلد العمل وهو معدَّل؛ يمكنك صنع إيداع آخر لإضافته إلى تاريخ مشروعك.
في كل مرة تصنع إيداعًا، تسجل من مشروعك لقطة يمكنك إرجاع مشروعك إليها أو المقارنة معها فيما بعد.</p>
</div>
</div>
<div class="sect3">
<h4 id="_تخطي_منطقة_التأهيل">تخطي منطقة التأهيل</h4>
<div class="paragraph">
<p>
مع أن منطقة التأهيل مفيدة لدرجة مدهشة في صياغة الإيداعات كما تشاء بالضبط، إلا أنها أحيانا أعقد مما تحتاج في سير عملك.
يوفر لك جت اختصارا سهلًا متى أردت تخطي منطقة التأهيل:
إضافة الخيار <code>-a</code> إلى أمر <code>git commit</code> تجعل جت يؤهل من نفسه كل ملف متعقب قبل هذا الإيداع، لتتخطى مرحلة الإضافة:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md

no changes added to commit (use "git add" and/or "git commit -a")
$ git commit -a -m 'Add new benchmarks'
[master 83e38c7] Add new benchmarks
 1 file changed, 5 insertions(+), 0 deletions(-)</code></pre>
</div>
</div>
<div class="paragraph">
<p>لاحظ أنك لم تحتجْ إلى تنفيذ <code>git add</code> على ملف <code>CONTRIBUTING.md</code> في هذه الحالة قبل الإيداع،
لأن خيار <code>-a</code> يضم جميع الملفات المعدلة.
هذا مريح، لكن احذر: قد يضم هذا الخيار تعديلات غير مرغوب فيها.</p>
</div>
</div>
<div class="sect3">
<h4 id="_removing_files">إزالة ملفات</h4>
<div class="paragraph">
<p>
لإزالة ملف من جت، عليك أن تزيله من ملفاتك المتعقبة (أو بتعبير أدق، من منطقة تأهيلك)، ثم تودع.
يفعل أمر الإزالة <code>git rm</code> هذا، وأيضا يزيل الملف من مجلد عملك حتى لا تراه ملفًا غير متعقب في المرة القادمة.</p>
</div>
<div class="paragraph">
<p>إذا أزلت الملف من مجلد عملك فقط، سيظهر تحت عنوان ‪&#8220;Changes not staged for commit&#8221;‬ («تعديلات غير مؤهلة للإيداع») في ناتج أمر الحالة:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ rm PROJECTS.md
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes not staged for commit:
  (use "git add/rm &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

        deleted:    PROJECTS.md

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
</div>
<div class="paragraph">
<p>عندئذٍ تنفيذك أمر <code>git rm</code> يؤهل إزالة الملف:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rm PROJECTS.md
rm 'PROJECTS.md'
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    deleted:    PROJECTS.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>عندما تودع في المرة القادمة ستجد أن الملف قد ذهب ولم يعد متعقبًا.
وإذا كنت قد عدّلت الملف أو كنت قد أضفته بالفعل إلى منطقة التأهيل، فعليك فرض الإزالة بالخيار <code>-f</code>.
هذه ميزة أمان لكيلا تزيل بالخطأ بيانات لم تسجلها بعد في لقطة ولا يمكن استردادها من جت.</p>
</div>
<div class="paragraph">
<p>أمرٌ آخر مفيد قد تود فعله هو إبقاء الملف في شجرة عملك لكن إزالته من منطقة تأهيلك.
بلفظ آخر، تريد أن ينسى جت وجوده ولا يتعقبه ولكن يبقيه لك على قرصك.
هذا مفيد خصوصا إن نسيت إضافة شيء إلى ملف التجاهل <code>.gitignore</code> ثم أهّلته بالخطأ، مثل ملف سجل كبير أو مجموعة من الملفات المبنية.
استعمل الخيار <code>--cached</code> لهذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rm --cached README</code></pre>
</div>
</div>
<div class="paragraph">
<p>يمكنك إعطاء الأمر أسماء ملفات أو مجلدات أو أنماط توسيع المسارات (glob).
يعني هذا أن بإمكانك فعل أشياء مثل:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rm log/\*.log</code></pre>
</div>
</div>
<div class="paragraph">
<p>لاحظ الشرطة المائلة الخلفية (<code>\</code>) قبل النجمة <code>*</code>؛
هذا ضروري، لأن جت يقوم بنفسه بتوسيع أسماء الملفات بعد أن تقوم صدفتك بتوسيعها. فبغير الشرطة المائلة الخلفية، ستوسع الصدفة أسماء الملفات قبل أن يراها جت.
يحذف هذا الأمر جميع الملفات ذات الامتداد <code>.log</code> في مجلد <code>log/</code>.
أو يمكنك فعل شيء مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rm \*~</code></pre>
</div>
</div>
<div class="paragraph">
<p>يحذف هذا الأمر جميع الملفات المنتهي اسمها بعلامة التلدة (<code>~</code>).</p>
</div>
</div>
<div class="sect3">
<h4 id="_git_mv">نقل ملفات</h4>
<div class="paragraph">
<p>
لا يتعقب جت حركة الملفات تعقبًا صريحًا، خلافا لكثير من أنظمة إدارة النسخ الأخرى.
فإذا غيّرت اسم ملف في جت، لا يخزن جت بيانات وصفية تخبره أنك غيرته.
لكن جت ذكي جدا في تخمين ذلك وهو أمام الأمر الواقع&#8201;&#8212;&#8201;سنتعامل مع اكتشاف نقل الملفات بعد قليل.</p>
</div>
<div class="paragraph">
<p>لذا فقد تجد أنه من المحيّر وجود أمر «نقل» (<code>mv</code>) في جت.
فإذا أردت تغيير اسم ملف في جت، يمكنك طلبه هكذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mv file_from file_to</code></pre>
</div>
</div>
<div class="paragraph">
<p>وسيعمل كما ينبغي.
وفي الحقيقة، إذا نفذت أم‍را مثل هذا، ونظرت إلى الحالة، سترى أن جت يعتبره تغيير اسم ملف:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mv README.md README
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README</code></pre>
</div>
</div>
<div class="paragraph">
<p>ولكن هذا مكافئ لتنفيذ شيء مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ mv README.md README
$ git rm README.md
$ git add README</code></pre>
</div>
</div>
<div class="paragraph">
<p>يخمن جت في سِرِّه أن الاسم قد تغير، لذا فلا يهم إن غيّرت اسمه بهذه الطريقة أو عبر نظام التشغيل أو مدير الملفات (مثلا بأمر النظام <code>mv</code>).
الفرق الحقيقي الوحيد هو أن <code>git mv</code> أمر واحد وليس ثلاثة؛ إنه وسيلة راحة.
والأهم أنك تستطيع استخدام أي أداة تريدها لتغيير أسماء الملفات، ثم تتعامل مع الإضافة والإزالة في جت فيما بعد، قبل الإيداع.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_viewing_history">رؤية تاريخ الإيداعات</h3>
<div class="paragraph">
<p>بعدما صنعت عددًا من الإيداعات، أو استنسخت مستودعًا ذا تاريخ من الإيداعات بالفعل، قد تود الالتفات إلى الماضي ورؤية ماذا حدث.
أسهل وأقوى أداة لفعل هذا هي أمر السجل، <code>git log</code>:</p>
</div>
<div class="paragraph">
<p>تستعمل هذه الأمثلة مشروعًا صغيرا جدا يسمى ‪&#8220;simplegit&#8221;‬.
للحصول على المشروع، نفذ:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://github.com/schacon/simplegit-progit</code></pre>
</div>
</div>
<div class="paragraph">
<p>عندما تنفذ <code>git log</code> داخل هذا المشروع، ترى شيئا مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log
commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Mon Mar 17 21:52:11 2008 -0700

    Change version number

commit 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Sat Mar 15 16:40:33 2008 -0700

    Remove unnecessary test

commit a11bef06a3f659402fe7563abf99ad00de2209e6
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Sat Mar 15 10:31:28 2008 -0700

    Initial commit</code></pre>
</div>
</div>
<div class="paragraph">
<p>عندما تنادي أمر السجل بلا مُعامِلات، أيْ <code>git log</code> فقط، فإنه افتراضيًا يسرد لك الإيداعات التي في هذا المستودع بترتيب زمني عكسي؛ أيْ أن الإيداع الأحدث يظهر أولًا.
يسرد هذا الأمر كما ترى كل إيداع مع بصمته واسم مؤلفه وبريده وتاريخ الإيداع ورسالته.</p>
</div>
<div class="paragraph">
<p>يتيح أمر السجل عددًا عظيمًا متنوعًا من الخيارات لتُظهر بالضبط ما تريد.
سنعرض لك هنا بعضًا من أشهرها.</p>
</div>
<div class="paragraph">
<p>واحد من أكثر الخيارات إفادةً هو <code>-p</code> أو <code>--patch</code> («رُقعة»)، والذي يظهر لك الفرق (أي <em>الرقعة</em>) الذي أتى به كل إيداع.
يمكنك أيضا تقييد عدد السجلات المعروضة، مثلا بالخيار <code>-2</code> لإظهار آخر بيانَيْن فقط.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log -p -2
commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Mon Mar 17 21:52:11 2008 -0700

    Change version number

diff --git a/Rakefile b/Rakefile
index a874b73..8f94139 100644
--- a/Rakefile
+++ b/Rakefile
@@ -5,7 +5,7 @@ require 'rake/gempackagetask'
 spec = Gem::Specification.new do |s|
     s.platform  =   Gem::Platform::RUBY
     s.name      =   "simplegit"
-    s.version   =   "0.1.0"
+    s.version   =   "0.1.1"
     s.author    =   "Scott Chacon"
     s.email     =   "schacon@gee-mail.com"
     s.summary   =   "A simple gem for using Git in Ruby code."

commit 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Sat Mar 15 16:40:33 2008 -0700

    Remove unnecessary test

diff --git a/lib/simplegit.rb b/lib/simplegit.rb
index a0a60ae..47c6340 100644
--- a/lib/simplegit.rb
+++ b/lib/simplegit.rb
@@ -18,8 +18,3 @@ class SimpleGit
     end

 end
-
-if $0 == __FILE__
-  git = SimpleGit.new
-  puts git.show
-end</code></pre>
</div>
</div>
<div class="paragraph">
<p>يعرض هذا الخيار المعلومات نفسها أيضا ولكن مع إتباع كل بيان بالفروقات.
هذا مفيد جدا لمراجعة الأكواد (code review) أو للنظر السريع فيما حدث في سلسلة من الإيداعات التي أضافها زميل.
ولدى أمر السجل كذلك عددًا من خيارات التلخيص.
فمثلا إذا أردت رؤية إحصاءات مختصرة عن كل إيداع، جرّب خيار الإحصاء <code>--stat</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --stat
commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Mon Mar 17 21:52:11 2008 -0700

    Change version number

 Rakefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Sat Mar 15 16:40:33 2008 -0700

    Remove unnecessary test

 lib/simplegit.rb | 5 -----
 1 file changed, 5 deletions(-)

commit a11bef06a3f659402fe7563abf99ad00de2209e6
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Sat Mar 15 10:31:28 2008 -0700

    Initial commit

 README           |  6 ++++++
 Rakefile         | 23 +++++++++++++++++++++++
 lib/simplegit.rb | 25 +++++++++++++++++++++++++
 3 files changed, 54 insertions(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>فخيار <code>--stat</code> كما ترى يطبع لك تحت بيان كل إيداع قائمة بالملفات المعدلة وعددها وعدد السطور المضافة والمزالة في هذه الملفات.
ثم يضع تلخيصًا لهذه المعلومات في النهاية.</p>
</div>
<div class="paragraph">
<p>وخيار آخر مفيد جدًا هو <code>--pretty</code> («جميل»).
والذي يغيّر ناتج السجل إلى صيغ أخرى غير الصيغة المبدئية.
تأتي مع جت بعض القيم التي يمكن استعمالها مع هذا الخيار.
قيمة <code>oneline</code> («سطر واحد») تطبع كل إيداع على سطر وحيد، والذي يفيد عندما تكون ناظرًا إلى إيداعات كثيرة.
وكذلك، القيم <code>short</code> («قصير») و <code>full</code> («كامل») و <code>fuller</code> («أكمل») تُظهر لك ناتجًا مثل المبدئي مع زيادة أو نقصان في بعض المعلومات.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --pretty=oneline
ca82a6dff817ec66f44342007202690a93763949 Change version number
085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7 Remove unnecessary test
a11bef06a3f659402fe7563abf99ad00de2209e6 Initial commit</code></pre>
</div>
</div>
<div class="paragraph">
<p>القيمة الأكثر إمتاعًا هي <code>format</code> («صياغة»)، والتي تتيح لك تحديد صيغة ناتج السجل التي تفضلها.
هذا مفيد خصوصًا عندما تقوم بتوليد ناتج لكي يقرؤه ويحلله برنامج أو بُريمج (script)&#8201;&#8212;&#8201;فلأنك تحدد الصيغة بصراحة ووضوح، فإنك تطمئن أنها لن تتغيّر مع تحديث جت.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --pretty=format:"%h - %an, %ar : %s"
ca82a6d - Scott Chacon, 6 years ago : Change version number
085bb3b - Scott Chacon, 6 years ago : Remove unnecessary test
a11bef0 - Scott Chacon, 6 years ago : Initial commit</code></pre>
</div>
</div>
<div class="paragraph">
<p>يسرد <a href="#pretty_format">متغيرات مفيدة لصياغة السجلات باستخدام <code>git log --pretty=format</code></a> بعض المتغيرات المفيدة التي تفهمها <code>format</code>:</p>
</div>
<table id="pretty_format" class="tableblock frame-all grid-all stretch">
<caption class="title">جدول ١. متغيرات مفيدة لصياغة السجلات باستخدام <code>git log --pretty=format</code></caption><colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">المتغير</th>
<th class="tableblock halign-right valign-top">وصف الناتج</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%H</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بصمة الإيداع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%h</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بصمة الإيداع المختصرة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%T</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بصمة الشجرة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%t</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بصمة الشجرة المختصرة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%P</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بصمات الآباء</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%p</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بصمات الآباء المختصرة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%an</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">اسم المؤلف</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%ae</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بريد المؤلف</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%ad</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تاريخ التأليف (الصيغة تتبع <code>--date=option</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%ar</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تاريخ التأليف، نسبي</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%cn</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">اسم المودِع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%ce</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بريد المودِع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%cd</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تاريخ الإيداع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%cr</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تاريخ الإيداع، نسبي</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%s</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">الموضوع</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>ربما تتساءل عن الفرق بين <em>المؤلف</em> و<em>المودِع</em>.
المؤلف هو من كتب العمل في الأصل، بينما المودِع هو من طبّق العمل في النهاية.
فمثلا إذا أرسلت رقعة إلى مشروع، وطبّقها أحد الأعضاء الأساسيين، فيجب الاعتراف بالفضل لكليكما&#8201;&#8212;&#8201;أنت مؤلفًا، والعضو الأساسي مودِعًا.
سنتناول هذا التمييز بالتفصيل في <s>جت الموزع</s>.</p>
</div>
<div class="paragraph">
<p>القيمتان <code>oneline</code> و <code>format</code> مفيدتان خصوصًا مع خيار آخر لأمر السجل يسمى <code>--graph</code> («رسم»).
يضيف هذا الخيار رسمًا لطيفًا بالمحارف لإظهار تاريخ التفريع والدمج.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --pretty=format:"%h %s" --graph
* 2d3acf9 Ignore errors from SIGCHLD on trap
*  5e3ee11 Merge branch 'master' of https://github.com/dustin/grit.git
|\
| * 420eac9 Add method for getting the current branch
* | 30e367c Timeout code and tests
* | 5a09431 Add timeout protection to grit
* | e1193f8 Support for heads with slashes in them
|/
* d6016bc Require time for xmlschema
*  11d191e Merge branch 'defunkt' into local</code></pre>
</div>
</div>
<div class="paragraph">
<p>سيصير هذا النوع من الناتج ممتعًا أكثر أثناء تناولنا التفريع والدمج في الباب التالي.</p>
</div>
<div class="paragraph">
<p>هذه فقط بعض خيارات تنسيق الناتج اليسيرة المتاحة في <code>git log</code>&#8201;&#8212;&#8201;متاح عدد أكبر من ذلك كثيرا.
يسرد <a href="#log_options">خيارات شائعة لأمر السجل</a> الخيارات التي تناولناها حتى الآن، وكذلك بعض خيارات التنسيق الشائعة الأخرى التي قد تفيد، إضافةً إلى كيفية تعديل ناتج أمر السجل.</p>
</div>
<table id="log_options" class="tableblock frame-all grid-all stretch">
<caption class="title">جدول ٢. خيارات شائعة لأمر السجل</caption><colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">الخيار</th>
<th class="tableblock halign-right valign-top">الوصف</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">أظهر الرقعة التي أتى بها كل إيداع.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--stat</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">أظهر إحصاءات الملفات المعدّلة في كل إيداع.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--shortstat</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">اعرض فقط سطر التعديلات/الإضافات/الإزالات من أمر <code>--stat</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--name-only</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">اسرد أسماء الملفات المعدلة بعد كل إيداع.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--name-status</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">اسرد أسماء الملفات مرفقة بحالتها: معدّل/مضاف/مزال.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--abbrev-commit</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">أظهر فقط الحروف القليلة الأولى من البصمة، بدلًا من الأربعين جميعًا.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--relative-date</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">اعرض التاريخ بصيغة نسبية (مثلا ‪&#8220;2 weeks ago&#8221;‬) بدلا من صيغة التاريخ الكاملة.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--graph</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">اعرض رسمًا بالمحارف لتاريخ التفريع والدمج بجانب ناتج السجل.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--pretty</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">اعرض الإيداعات بصيغة أخرى. قيم الخيار المتاحة تشمل <code>oneline</code> و <code>short</code> و <code>full</code> و <code>fuller</code> و <code>format</code> (والتي تتيح لك تحديد صياغتك المخصوصة).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--oneline</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">اختصار لاستخدام <code>--pretty=oneline --abbrev-commit</code> معًا.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_تقييد_ناتج_السجل">تقييد ناتج السجل</h4>
<div class="paragraph">
<p>إضافةً إلى خيارات صياغة الناتج، يتيح أمر السجل عددًا من خيارات تقييد الناتج؛ أيْ خيارات تتيح لك إظهار جزء من الإيداعات فقط.
لقد رأيت أحد هذه الخيارات بالفعل&#8201;&#8212;&#8201;خيار <code>-2</code> الذي يُظهر آخر إيداعين فقط.
الحقيقة أن استخدام <code>-&lt;ن&gt;</code>، حيث <code>ن</code> هو أي عدد صحيح موجب، يُظهر لك آخر <code>ن</code> إيداعًا.
لن تستخدم هذا كثيرا في الواقع، لأن جت بطبيعته يمرر الناتج كله إلى برنامج عرض (‪&#8220;pager&#8221;‬ مثل <code>less</code>) حتى ترى ناتج السجل صفحةً صفحة.</p>
</div>
<div class="paragraph">
<p>لكن خيارات التقييد بالزمن مثل <code>--since</code> («منذ») و <code>--until</code> («حتى») مفيدة جدا.
مثلا، هذا الأمر يسرد الإيداعات التي تمت خلال الأسبوعين السابقين:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --since=2.weeks</code></pre>
</div>
</div>
<div class="paragraph">
<p>يعمل هذا الأمر مع العديد من الصيغ&#8201;&#8212;&#8201;يمكنك تحديد تاريخ محدد مثل <code>"2008-01-15"</code> أو تاريخ نسبي مثل <code>"2 years 1 day 3 minutes ago"</code>.</p>
</div>
<div class="paragraph">
<p>يمكنك أيضا سرد الإيداعات المطابقة لمعايير بحث معينة.
مثلا خيار <code>--author</code> يتيح لك سرد إيداعات مؤلف معين فقط، و <code>--grep</code> يتيح لك البحث عن كلمات معينة في رسائل الإيداعات.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>يمكنك استخدام <code>--author</code> أو <code>--grep</code> أكثر من مرة في المرة، والذي يسرد الإيداعات التي توافق <em>أي</em> نمط <code>--author</code> معطى وتوافق <em>أي</em> نمط <code>--grep</code> معطى؛ ولكن إضافة خيار <code>--all-match</code> يقيّد الناتج إلى الإيداعات الموافقة <em>لجميع</em> أنماط <code>--grep</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>مصفاة مفيدة جدا أخرى هي خيار <code>-S</code> (والمعروف بالاسم الدارج: خيار «فأس» جت)، والذي يأخذ سلسلة نصية ولا يظهر إلا الإيداعات التي عدّلت عدد تواجداتها.
مثلا، إذا أردت إظهار آخر إيداع أضاف أو أزال إشارة إلى دالة معينة، يمكنك تنفيذ:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log -S function_name</code></pre>
</div>
</div>
<div class="paragraph">
<p>آخر خيار تصفية مفيد جدا لأمر السجل هو إعطاؤه مسار.
فإذا أعطيته مجلدًا أو ملفًا، فإنه يقيّد ناتج السجل إلى الإيداعات التي عدّلت هذه الملفات.
يكون هذا دائما آخر خيار وفي الغالب يُسبق بشرطتين (<code>--</code>) لفصل المسارات عن الخيارات:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log -- path/to/file</code></pre>
</div>
</div>
<div class="paragraph">
<p>نسرد في <a href="#limit_options">خيارات تقييد ناتج أمر السجل</a> هذه الخيارات وبعض الخيارات الأخرى حتى تكون مرجعًا لك.</p>
</div>
<table id="limit_options" class="tableblock frame-all grid-all stretch">
<caption class="title">جدول ٣. خيارات تقييد ناتج أمر السجل</caption><colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">الخيار</th>
<th class="tableblock halign-right valign-top">الوصف</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-&lt;ن&gt;</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">أظهر فقط آخر <code>ن</code> إيداعًا.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--since</code> أو <code>--after</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">قيّد الناتج إلى الإيداعات التي تمت بعد التاريخ المعطى.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--until</code> أو <code>--before</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">قيّد الناتج إلى الإيداعات التي تمت قبل التاريخ المعطى.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--author</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">لا تظهر إلا الإيداعات التي يطابق اسم مؤلفها السلسلة النصية المعطاة.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--committer</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">لا تظهر إلا الإيداعات التي يطابق اسم مودِعها السلسلة النصية المعطاة.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--grep</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">لا تظهر إلا الإيداعات التي تشتمل رسالتها على السلسلة النصية المعطاة.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-S</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">لا تظهر إلا الإيداعات التي أضافت أو أزالت سطورًا برمجية فيها السلسلة النصية المعطاة.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>مثلا، إذا أردت رؤية أيِّ الإيداعات عدّلت ملفات الاختبارات في مصدر جت والتي أودعها Junio Hamano في شهر أكتوبر عام ٢٠٠٨، وليست إيداعات دمج، يمكنك فعل شيء مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --pretty="%h - %s" --author='Junio C Hamano' --since="2008-10-01" \
   --before="2008-11-01" --no-merges -- t/
5610e3b - Fix testcase failure when extended attributes are in use
acd3b9e - Enhance hold_lock_file_for_{update,append}() API
f563754 - demonstrate breakage of detached checkout with symbolic link HEAD
d1a43f2 - reset --hard/read-tree --reset -u: remove unmerged new paths
51a94af - Fix "checkout --track -b newbranch" on detached HEAD
b0ad11e - pull: allow "git pull origin $something:$current_branch" into an unborn branch</code></pre>
</div>
</div>
<div class="paragraph">
<p>حوالي أربعين ألف إيداع في تاريخ مصدر جت، وهذا الأمر لا يُظهر منها إلا الإيداعات الستة المطابقة لتلك المعايير.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">منع عرض إيداعات الدمج</div>
<div class="paragraph">
<p>حسب أسلوب سير العمل في مستودعك، قد يكون عدد ضخم من الإيداعات في تاريخ سجلك مجرد إيداعات دمج، وهي لا تفيد كثيرًا.
لمنع عرضها وإزحامها تاريخ سجلك، أضف إلى أمر السجل خيار <code>--no-merges</code> («لا دمج»).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_undoing">التراجع عن الأفعال</h3>
<div class="paragraph">
<p>قد تحتاج في أي مرحلة إلى التراجع عن فعلٍ ما.
سنرى هنا بعض الأدوات الأساسية للتراجع عن تعديلاتك.
كن حذرًا، لأن بعض هذه التراجعات لا يمكن التراجع عنها فيما بعد.
هذه من المناطق القليلة في جت التي يمكنك أن تفقد فيها شيئا من عملك إذا فعلت شيئا خطأ.</p>
</div>
<div class="paragraph">
<p>واحد من أشهر التراجعات هو عندما تودع قبل الأوان وتنسى إضافة ملفات أو تخطئ في رسالة إيداعك.
إذا أردت إعادة هذا الإيداع، فقم بالتعديلات التي نسيتها، وأهّلها، ثم أودع مجددا مع خيار التصحيح <code>--amend</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git commit --amend</code></pre>
</div>
</div>
<div class="paragraph">
<p>يأخذ هذا الأمر منطقة تأهيلك ويستخدمها للإيداع.
وإذا لم تقم بأي تعديلات منذ إيداعك الأخير (مثلا نفذت هذا الأمر مباشرةً بعد إيداعك السابق)، فإن لقطتك ستتطابق تمامًا بلا اختلاف، ولن تتغيّر سوى رسالة الإيداع.</p>
</div>
<div class="paragraph">
<p>سيظهر لك محرر رسالة الإيداع، ولكنك ستجد فيه رسالة الإيداع السابقة
في انتظارك لتعدّلها إن شئت أو تغيّرها تمامًا.</p>
</div>
<div class="paragraph">
<p>مثلا، إذا أودعت ثم أدركت أنك نسيت تأهيل تعديلات على ملف تريدها في هذا الإيداع، يمكنك فعل شيء مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git commit -m 'Initial commit'
$ git add forgotten_file
$ git commit --amend</code></pre>
</div>
</div>
<div class="paragraph">
<p>ستجد في النهاية إيداعًا واحدًا؛ فالإيداع الثاني يحل محل الأول.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>مهمٌ فهم أنك عندما تصحح إيداعك الأخير، فإنك لا تصلحه ولكن <em>تستبدله</em> برُمّتِه وتضع مكانه إيداعًا جديدًا محسَّنًا وتزيح القديم عن الطريق.
في الحقيقة، هذا كأن الإيداع السابق لم يحدث أصلًا، ولن يظهر في تاريخ مستودعك.</p>
</div>
<div class="paragraph">
<p>الفائدة الواضحة لتصحيح الإيداعات هو التحسينات الطفيفة للإيداع الأخير، بغير إزحام تاريخ مستودعك برسائل إيداعات من نوعية «عذرا، نسيت إضافة ملف» أو «سحقا، خطأ مطبعي في الإيداع السابق، أصلحته».</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>لا تصحح إلا الإيدعات التي لا تزال محلية ولم تُدفع بعد إلى أي مكان آخر.
فتصحيح إيداع قد دُفع بالفعل ثم فرض الدفع (<code>git push --force</code>) سيسبب مشاكل للمتعاونين معك.
لمعرفة ما سيحدث إن فعلت هذا وكيف تتعافي إذا كنت الطرف المتلقي، اقرأ <a href="#_rebase_peril">محذورات إعادة التأسيس</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_unstaging">إلغاء تأهيل ملف مؤهل</h4>
<div class="paragraph">
<p>سيوضح الفصلان التاليان كيف تتعامل مع التعديلات في منطقة تأهيلك ومجلد عملك.
الجميل أن الأمر الذي تستخدمه لمعرفة حالة إحدى هاتين المنطقتين يذكّرك أيضا بكيفية التراجع عن تعديلاتهما.
لنقُل مثلا أنك عدّلت ملفين وأردت إيداع كلٍ منهما في إيداع منفصل، ولكنك كتبت خطأً <code>git add *</code> فأهّلت كليهما.
كيف يمكنك إلغاء تأهيل أحدهما؟
أمر الحالة يذكّرك:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add *
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README
    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>مباشرةً تحت ‪&#8220;Changes to be committed&#8221;‬ («تعديلات ستُودَع») تجده يقول استخدم <code>git reset HEAD &lt;ملفات&gt;</code> لإلغاء التأهيل.
فلنعمل بهذه النصيحة إذًا، لإلغاء تأهيل ملف <code>CONTRIBUTING.md</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git reset HEAD CONTRIBUTING.md
Unstaged changes after reset:
M	CONTRIBUTING.md
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا الأمر غريب قليلًا، لكنه يعمل.
ملف <code>CONTRIBUTING.md</code> معدّل لكنه عاد من جديد غير مؤهل.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>صدقًا إن <code>git reset</code> أمر خطير، خصوصا مع الخيار <code>--hard</code>.
مع ذلك، فإن الملف الذي في مجلد عملك لم يُمس في الموقف الموضح بالأعلى، لذا فهذا الأمر آمن نسبيا في مثل هذا الموقف.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>هذا الأمر السحري هو كل ما تحتاج معرفته الآن عن أمر الإرجاع <code>git reset</code>.
سنغوص في <s>Reset Demystified</s> في تفاصيل أعمق كثيرا عن أمر الإرجاع وماذا يفعل وكيف تتقنه لتفعل أفعالا شيقة وممتعة جدا.</p>
</div>
</div>
<div class="sect3">
<h4 id="_إعادة_ملف_معدل_إلى_حالته_قبل_التعديل">إعادة ملف معدل إلى حالته قبل التعديل</h4>
<div class="paragraph">
<p>ماذا لو أدركت أنك لم تعد تريد تعديل ملف <code>CONTRIBUTING.md</code> من الأساس؟
كيف يمكنك إرجاعه إلى حالته عند الإيداع الأخير (أو الاستنساخ الأول، أو كيفما حصلت عليه في مجلد عملك)؟
لحسن الحظ، يخبرك أمر الحالة بهذا أيضا.
في ناتج المثال الأخير، كان جزء التعديلات غير المؤهلة هكذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>فيخبرك أن تستخدم الأمر <code>git checkout -- &lt;ملفات&gt;</code> لتجاهل التعديلات التي في مجلد عملك.
لنفعل ما يخبرنا به:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -- CONTRIBUTING.md
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README</code></pre>
</div>
</div>
<div class="paragraph">
<p>كما ترى، أُلغيت التعديلات.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>من المهم جدا فهم أن <code>git checkout -- &lt;ملفات&gt;</code> أمر خطير؛
أي تعديلات محلية قمت بها على هذا الملف قد ضاعت، فقد أزال جت للتو هذا الملف ووضع مكانه آخر نسخة مؤهلة أو مودعة منه.
إياك أبدا أن تستعمل هذا الأمر، إلا أن تكون واعيا أشد الوعي أنك لا تريد هذه التعديلات المحلية غير المحفوظة.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>إذا أردت الإبقاء على تعديلاتك على هذا الملف لكنك لا تزال تريد إزاحته جانبًا الآن، فسنشرح التخبئة والتفريع في <a href="#ch03-git-branching">التفريع في جت</a>؛ هاتان الطريقتان في العموم أفضل.</p>
</div>
<div class="paragraph">
<p>تذكر أن أي شيء تودعه في جت يمكن شِبه دائمًا استعادته.
حتى الإيداعات في الفروع المحذوفة أو الإيداعات المبدلة بخيار التصحيح (<code>--amend</code>) يمكن استعادتها (انظر <a href="#_data_recovery">استرجاع البيانات</a> لاستعادة البيانات).
مع ذلك، أي شيء تفقده لم يكن مودعًا، صعب أن تراه مرة أخرى.</p>
</div>
</div>
<div class="sect3">
<h4 id="undoing_git_restore">التراجع بأمر الاستعادة git restore</h4>
<div class="paragraph">
<p>أضافت النسخة 2.23.0 من جت أمرًا جديدًا: <code>git restore</code>.
هذا في الأصل بديل لأمر الإرجاع <code>git reset</code> الذي ناقشناه للتو.
ابتداءً من النسخة 2.23.0 من جت، سيستخدم جت أمر الاستعادة <code>git restore</code> بدلا من أمر الإرجاع <code>git reset</code> في الكثير من عمليات التراجع.</p>
</div>
<div class="paragraph">
<p>لنرتد على آثارنا قَصصًا ونعيد الكرّة ونتراجع بأمر الاستعادة <code>git restore</code> بدلًا من أمر الإرجاع <code>git reset</code>.</p>
</div>
<div class="sect4">
<h5 id="_إلغاء_تأهيل_ملف_مؤهل_بأمر_الاستعادة">إلغاء تأهيل ملف مؤهل بأمر الاستعادة</h5>
<div class="paragraph">
<p>سيوضح الفصلان التاليان كيف تتعامل مع التعديلات في منطقة تأهيلك ومجلد عملك بأمر الاستعادة <code>git restore</code>.
الجميل أن الأمر الذي تستخدمه لمعرفة حالة إحدى هاتين المنطقتين يذكّرك أيضا بكيفية التراجع عن تعديلاتهما.
لنقُل مثلا أنك عدّلت ملفين وأردت إيداع كلٍ منهما في إيداع منفصل، ولكنك كتبت خطأً <code>git add *</code> فأهّلت كليهما.
كيف يمكنك إلغاء تأهيل أحدهما؟
أمر الحالة يذكّرك:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add *
$ git status
On branch master
Changes to be committed:
  (use "git restore --staged &lt;file&gt;..." to unstage)
	modified:   CONTRIBUTING.md
	renamed:    README.md -&gt; README</code></pre>
</div>
</div>
<div class="paragraph">
<p>مباشرةً تحت ‪&#8220;Changes to be committed&#8221;‬ («تعديلات ستُودَع») تجده يقول استخدم <code>git restore --staged &lt;ملفات&gt;</code> لإلغاء التأهيل.
فلنعمل بهذه النصيحة إذًا، لإلغاء تأهيل ملف <code>CONTRIBUTING.md</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git restore --staged CONTRIBUTING.md
$ git status
On branch master
Changes to be committed:
  (use "git restore --staged &lt;file&gt;..." to unstage)
	renamed:    README.md -&gt; README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)
	modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>ملف <code>CONTRIBUTING.md</code> معدّل لكنه عاد من جديد غير مؤهل.</p>
</div>
</div>
<div class="sect4">
<h5 id="_إعادة_ملف_معدل_إلى_حالته_قبل_التعديل_بأمر_الاستعادة">إعادة ملف معدل إلى حالته قبل التعديل بأمر الاستعادة</h5>
<div class="paragraph">
<p>ماذا لو أدركت أنك لم تعد تريد تعديل ملف <code>CONTRIBUTING.md</code> من الأساس؟
كيف يمكنك إرجاعه إلى حالته عند الإيداع الأخير (أو الاستنساخ الأول، أو كيفما حصلت عليه في مجلد عملك)؟
لحسن الحظ، يخبرك أمر الحالة بهذا أيضا.
في ناتج المثال الأخير، كان جزء التعديلات غير المؤهلة هكذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)
	modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>فيخبرك أن تستخدم الأمر <code>git restore &lt;ملفات&gt;</code> لتجاهل التعديلات التي في مجلد عملك.
لنفعل ما يخبرنا به:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git restore CONTRIBUTING.md
$ git status
On branch master
Changes to be committed:
  (use "git restore --staged &lt;file&gt;..." to unstage)
	renamed:    README.md -&gt; README</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>من المهم جدا فهم أن <code>git restore &lt;ملفات&gt;</code> أمر خطير؛
أي تعديلات محلية قمت بها على هذا الملف قد ضاعت، فقد أزال جت للتو هذا الملف ووضع مكانه آخر نسخة مؤهلة أو مودعة منه.
إياك أبدا أن تستعمل هذا الأمر، إلا أن تكون واعيا أشد الوعي أنك لا تريد هذه التعديلات المحلية غير المحفوظة.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_remote_repos">التعامل مع المستودعات البعيدة</h3>
<div class="paragraph">
<p>حتى تستطيع التعاون في أي مشروع يستخدم جت، تحتاج إلى معرفة كيف تدير مستودعاتك البعيدة.
المستودعات البعيدة هي نُسخ من مشروعك، وهذه النسخ مستضافة على الإنترنت أو على شبكة داخلية.
يمكن أن يكون لديك عددًا منها، وكل واحد منها غالبًا يسمح لك إما بالقراءة فحسب («القراءة فقط»)، وإما بالتحرير كذلك («القراءة والك‍تابة»).
والتعاون مع الآخرين يشمل إدارة هذه المستودعات البعيدة ودفع البيانات إليها وجذبها منها عندما تحتاج إلى مشاركة العمل.
وإدارة المستودعات البعيدة تشمل معرفة كيف تضيفها في مستودعك وكيف تزيلها إن لم تعد صالحة وكيف تدير العديد من الفروع البعيدة وكيف تجعل الفروع البعيدة متعقَّبة أو غير متعقَّبة، وغير ذلك.
سنتناول في هذا الفصل بعضًا من مهارات الإدارة هذه.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">المستودعات البعيدة قد تكون على جهازك المحلي</div>
<div class="paragraph">
<p>من الممكن جدا أن تعمل مع مستودع «بعيد» (‪&#8220;remote&#8221;‬)، ولكنه في الحقيقة على الجهاز الذي تستخدمه نفسه.
كلمة «بعيد» لا تعني بالضرورة أن المستودع في مكانٍ ما آخر على الشبكة أو الإنترنت، ولكنها تعني فقط أنه في مكان آخر.
فالعمل مع مستودع بعيد مثل هذا ما زال يحتاج جميع عمليات الدفع والجذب والاستحضار المعتادة مثل أي مستودع بعيد آخر.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_سرد_مستودعاتك_البعيدة">سرد مستودعاتك البعيدة</h4>
<div class="paragraph">
<p>لسرد المستودعات البعيدة التي هيأتها، استخدم أمر البعيد <code>git remote</code>.
فإنه يُظهر لك الاسم المختصر لكل بعيد في مستودعك.
وإذا استنسخت مستودعا، فإنك على الأقل سترى <code>origin</code> («الأصل»)، وهو الاسم الذي يعطيه جت للمستودع الذي استنسخت منه:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://github.com/schacon/ticgit
Cloning into 'ticgit'...
remote: Reusing existing pack: 1857, done.
remote: Total 1857 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (1857/1857), 374.35 KiB | 268.00 KiB/s, done.
Resolving deltas: 100% (772/772), done.
Checking connectivity... done.
$ cd ticgit
$ git remote
origin</code></pre>
</div>
</div>
<div class="paragraph">
<p>يمكنك أيضا استخدام الخيار <code>-v</code> («إطناب»)، والذي يُظهر لك الروابط التي خزنها جت للأسماء المختصرة للمستودعات البعيدة ليستعملها لقراءة ذلك المستودع البعيد ولتحريره:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote -v
origin	https://github.com/schacon/ticgit (fetch)
origin	https://github.com/schacon/ticgit (push)</code></pre>
</div>
</div>
<div class="paragraph">
<p>إذا كان لديك أكثر من مستودع بعيد واحد، فإن هذا الأمر سيسردهم جميعًا.
مثلا، قد يبدو مستودع مرتبط بعدد من المستودعات البعيدة للعمل مع رهط من المتعاونين هكذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd grit
$ git remote -v
bakkdoor  https://github.com/bakkdoor/grit (fetch)
bakkdoor  https://github.com/bakkdoor/grit (push)
cho45     https://github.com/cho45/grit (fetch)
cho45     https://github.com/cho45/grit (push)
defunkt   https://github.com/defunkt/grit (fetch)
defunkt   https://github.com/defunkt/grit (push)
koke      git://github.com/koke/grit.git (fetch)
koke      git://github.com/koke/grit.git (push)
origin    git@github.com:mojombo/grit.git (fetch)
origin    git@github.com:mojombo/grit.git (push)</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا يعني أننا نستطيع جذب المساهمات من أيٍّ من هؤلاء المستخدمين بسهولة.
وقد يكون لدينا إذن الدفع إلى واحد أو أكثر منهم، ولكن لا نستطيع معرفة هذا من هنا.</p>
</div>
<div class="paragraph">
<p>لاحظ أن هذه المستودعات البعيدة تستخدم موافيق (بروتوكولات) متنوعة؛ سنتحدث عن هذا في <a href="#_getting_git_on_a_server">تثبيت جت على خادوم</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_إضافة_مستودعات_بعيدة">إضافة مستودعات بعيدة</h4>
<div class="paragraph">
<p>ذكرنا أن أمر الاستنساخ <code>git clone</code> يضيف لك من تلقاء نفسه الأصل البعيد <code>origin</code>، ورأيت مثالين على ذلك.
إليك الآن معرفة كيف تضيف مستودعا بعيدا بأمر صريح.
لإضافة مستودع جت بعيد جديد وإعطائه اسمًا مختصرًا للإشارة إليه به بسهولة فيما بعد، نفذ <code>git remote add &lt;shortname&gt; &lt;url&gt;</code>، أي الاسم المختصر ثم الرابط:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote
origin
$ git remote add pb https://github.com/paulboone/ticgit
$ git remote -v
origin	https://github.com/schacon/ticgit (fetch)
origin	https://github.com/schacon/ticgit (push)
pb	https://github.com/paulboone/ticgit (fetch)
pb	https://github.com/paulboone/ticgit (push)</code></pre>
</div>
</div>
<div class="paragraph">
<p>يمكنك الآن استخدام الاسم <code>pb</code> في سطر الأوامر، بدلا من الرابط بكامله.
مثلا إذا أردت استحضار جميع المعلومات التي لدي پول ولكن ليست لديك في مستودعك بعد، يمكنك استخدام أمر الاستحضار معه، أي <code>git fetch pb</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git fetch pb
remote: Counting objects: 43, done.
remote: Compressing objects: 100% (36/36), done.
remote: Total 43 (delta 10), reused 31 (delta 5)
Unpacking objects: 100% (43/43), done.
From https://github.com/paulboone/ticgit
 * [new branch]      master     -&gt; pb/master
 * [new branch]      ticgit     -&gt; pb/ticgit</code></pre>
</div>
</div>
<div class="paragraph">
<p>الآن صار فرع <code>master</code> من مستودع پول متاحا محليًا بالاسم <code>pb/master</code>؛ يمكنك دمجه في أحد فروعك، أو سحب إيداعه الأخير إلى فرع محلي إذا أردت تفقّده.
سنتناول ما هي الفروع وكيف نستعملها بتفصيل عميق في <a href="#ch03-git-branching">التفريع في جت</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_fetching_and_pulling">الاستحضار والجذب من مستودعاتك البعيدة</h4>
<div class="paragraph">
<p>كما رأيت للتو، للحصول على بيانات من مستودعاتك البعيدة، يمكنك تنفيذ:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git fetch &lt;البعيد&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>يذهب هذا الأمر إلى المستودع البعيد ويجذب منه كل البيانات التي لديه وليست لديك بعد.
بعد أن تفعل هذا، ستجد لديك إشارات لجميع الفروع التي لدى هذا البعيد، فيمكنك دمجها أو فحصها في أي وقت.</p>
</div>
<div class="paragraph">
<p>إذا استنسخت مستودعًا، فإن أمر الاستنساخ يضيف آليًّا هذا المستودع البعيد بالاسم ‪&#8220;origin&#8221;‬.
لذا فإن <code>git fetch origin</code> يستحضر أي عمل قد دُفع إلى هذا المستودع بعدما استنسخته (أو استحضرت منه) آخر مرة.
مهمٌ ملاحظة أن أمر الاستحضار ينزّل فقط البيانات إلى مستودعك المحلي؛ ولكنه لا يدمجها مع عملك ولا يعدّل أي شيء تعمل عليه.
عليك دمجها يدويًا مع عملك عندما تكون مستعدًا لذلك.</p>
</div>
<div class="paragraph">
<p>إذا كان الفرع الحالي مضبوطًا ليتعقب فرعًا بعيدًا (انظر الفصل التالي و <a href="#ch03-git-branching">الباب الثالث: التفريع في جت</a> للمزيد من المعلومات)، فيمكنك استخدام أمر الجذب <code>git pull</code> ليستحضر آليًّا هذا الفرع البعيد ثم يدمجه في الفرع الحالي.
هذا قد يكون أسهل أو أريح لك. وأمر الاستنساخ بطبيعة الحال يضبط لك آليًّا الفرع المبدئي المحلي ليتعقب الفرع المبدئي البعيد (<code>master</code> أو <code>main</code> أو أيًّا كان اسمه) في المستودع الذي استنسخت منه.
يستحضر أمر الجذب البيانات من المستودع الذي استنسخت منه في الأصل عادةً ثم يحاول دمجها آليًّا في الفرع الذي تعمل فيه حاليا.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>ابتداءً من النسخة 2.27 من جت، سيحذرك أمر الجذب <code>git pull</code> إن لم يكن متغير <code>pull.rebase</code> مضبوطًا.
وسيبقى يحذرك حتى تعيّن له قيمة.</p>
</div>
<div class="paragraph">
<p>إن أردت سلوك جت المبدئي (التسريع متى أمكن، وإلا فإنشاء إيداع دمج)، فنفذ:<br>
<code>git config --global pull.rebase "false"</code></p>
</div>
<div class="paragraph">
<p>وإذا أردت إعادة التأسيس عند الجذب، فنفذ:<br>
<code>git config --global pull.rebase "true"</code></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_pushing_remotes">الدفع إلى مستودعاتك البعيدة</h4>
<div class="paragraph">
<p>عندما يكون مشروعك في مرحلة تود مشاركتها، عليك دفعه إلى المنبع.
الأمر الذي يفعل هذا يسير: <code>git push &lt;remote&gt; &lt;branch&gt;</code>، أي اسم المستودع البعيد ثم الفرع:
فإذا أردت دفع فرع <code>master</code> الخاص بك إلى المستودع الأصل <code>origin</code> (غالبا يضبط لك الاستنساخ هذين الاسمين آليًّا)، فتنفيذ هذا الأمر يدفع أي إيداعات صنعتها إلى الخادوم:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin master</code></pre>
</div>
</div>
<div class="paragraph">
<p>يعمل هذا الأمر فقط إذا استنسخت من مستودع لديك إذن تحريره، ولم يدفع أي شخص آخر إليه في هذه الأثناء.
أما إذا استنسخت أنت وشخص آخر في وقت واحد، ودفع هو إلى المنبع، ثم أردت أنت الدفع إلى المنبع، فإن دفعك سيُرفض عن حق.
وسيتوجب عليك عندئذٍ استحضار عمله أولا وضمه إلى عملك قبل أن يُسمح لك بالدفع.
انظر <a href="#ch03-git-branching">التفريع في جت</a> لمعلومات أشد تفصيلا عن الدفع إلى مستودعات بعيدة.</p>
</div>
</div>
<div class="sect3">
<h4 id="_inspecting_remote">فحص مستودع بعيد</h4>
<div class="paragraph">
<p>إذا أردت رؤية معلومات أكثر عن بعيد معين، فاستخدم الأمر <code>git remote show &lt;البعيد&gt;</code>.
إذا نفذت هذا الأمر مع اسم مختصر معين، مثل <code>origin</code>، فسترى شيئا مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote show origin
* remote origin
  Fetch URL: https://github.com/schacon/ticgit
  Push  URL: https://github.com/schacon/ticgit
  HEAD branch: master
  Remote branches:
    master                               tracked
    dev-branch                           tracked
  Local branch configured for 'git pull':
    master merges with remote master
  Local ref configured for 'git push':
    master pushes to master (up to date)</code></pre>
</div>
</div>
<div class="paragraph">
<p>إنه يسرد لك رابط المستودع البعيد إضافةً إلى معلومات تعقب الفروع.
وللإفادة يخبرك كذلك بأنك إذا كنت في فرع <code>master</code> واستخدمت أمر الجذب <code>git pull</code> فإنه تلقائيا سيدمج فرع <code>master</code> البعيد في الفرع المحلي بعد استحضاره.
ويسرد لك أيضا جميع الإشارت البعيدة التي جذبها إليك.</p>
</div>
<div class="paragraph">
<p>هذا مثال يسير غالبا ستقابله.
ولكن عندما تستخدم جت بكثرة، فسيعطيك <code>git remote show</code> معلومات أكثر كثيرًا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote show origin
* remote origin
  URL: https://github.com/my-org/complex-project
  Fetch URL: https://github.com/my-org/complex-project
  Push  URL: https://github.com/my-org/complex-project
  HEAD branch: master
  Remote branches:
    master                           tracked
    dev-branch                       tracked
    markdown-strip                   tracked
    issue-43                         new (next fetch will store in remotes/origin)
    issue-45                         new (next fetch will store in remotes/origin)
    refs/remotes/origin/issue-11     stale (use 'git remote prune' to remove)
  Local branches configured for 'git pull':
    dev-branch merges with remote dev-branch
    master     merges with remote master
  Local refs configured for 'git push':
    dev-branch                     pushes to dev-branch                     (up to date)
    markdown-strip                 pushes to markdown-strip                 (up to date)
    master                         pushes to master                         (up to date)</code></pre>
</div>
</div>
<div class="paragraph">
<p>يُظهر لك هذا الأمر ما الفرع الذي يجذب جت إليه تلقائيا عندما تنفذ <code>git push</code> وأنت في فرع معين.
ويُظهر لك كذلك ما فروع المستودع البعيد التي ليست لديك بعد، وما الفروع البعيدة التي لديك وحُذفت من البعيد، وما الفروع المحلية التي يمكن الدمج تلقائيا في فروعها المتعقِبة للبعيد عندما تنفذ <code>git pull</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_تغيير_اسم_بعيد_أو_حذفه">تغيير اسم بعيد أو حذفه</h4>
<div class="paragraph">
<p>يمكنك استعمال <code>git remote rename</code> لتغيير الاسم المختصر لمستودع بعيد.
مثلا، لتغيير اسم <code>pb</code> إلى <code>paul</code>، نفّذ:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote rename pb paul
$ git remote
origin
paul</code></pre>
</div>
</div>
<div class="paragraph">
<p>مهم ملاحظة أن هذا يغيّر أسماء فروعك المتعقِبة للبعيد أيضا.
فالذي كان يسمى <code>pb/master</code> صار <code>paul/master</code>.</p>
</div>
<div class="paragraph">
<p>وإذا أردت حذف بعيد لسبب ما&#8201;&#8212;&#8201;نقلت المستودع، أو لم تعد تستخدم خادوم مرآة معين، أو ربما مساهم لم يعد يساهم&#8201;&#8212;&#8201;يمكنك استخدام إما <code>git remote remove</code> وإما <code>git remote rm</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote remove paul
$ git remote
origin</code></pre>
</div>
</div>
<div class="paragraph">
<p>وما إن تحذف الإشارة إلى بعيدٍ هكذا، فإن جميع الفروع المتعقِبة له وجميع إعدادات التهيئة المرتبطة به ستُحذف كذلك.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_tagging">الوسوم</h3>
<div class="paragraph">
<p>
مثل معظم أنظمة إدارة النسخ، يستطيع جت وسم المراحل المهمة في تاريخ المشروع.
يستعمل الناس هذه الآلية في الغالب لتمييز الإصدارات (<code>v1.0</code> و <code>v2.0</code> وهكذا).
سنتعلم في هذا الفصل كيف نسرد الوسوم الموجودة وكيف ننشئ وسومًا ونحذفها وما أنواع الوسوم المختلفة.</p>
</div>
<div class="sect3">
<h4 id="_سرد_وسومك">سرد وسومك</h4>
<div class="paragraph">
<p>سرد الوسوم الموجودة في مستودع جت سهل جدا؛
فقط اكتب <code>git tag</code> (اختياريًا مع <code>-l</code> أو <code>--list</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag
v1.0
v2.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>يسرد لك هذا الأمر الوسوم بترتيب أبجدي؛ أي أن ترتيب عرضها ليس له أهمية حقيقية.</p>
</div>
<div class="paragraph">
<p>يمكنك أيضا البحث عن الوسوم التي تطابق نمطًا معينًا.
يحتوي مستودع مصدر جت مثلا على أكثر من خمسمئة وسم.
فإذا كنت مهتمًا برؤية سلسلة 1.8.5 فقط، فنفذ هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag -l "v1.8.5*"
v1.8.5
v1.8.5-rc0
v1.8.5-rc1
v1.8.5-rc2
v1.8.5-rc3
v1.8.5.1
v1.8.5.2
v1.8.5.3
v1.8.5.4
v1.8.5.5</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">سرد الوسوم بأنماط يحتاج الخيار <code>-l</code> أو <code>--list</code></div>
<div class="paragraph">
<p>إذا لم تُرِد إلا قائمة الوسوم بكاملها، فتنفيذ <code>git tag</code> يفترض أنك تريد سرد الوسوم فيعطيك إياه؛ استخدام <code>-l</code> أو <code>--list</code> في هذه الحالة اختياري.</p>
</div>
<div class="paragraph">
<p>لكن إذا أعطيته نمطًا لمطابقة وسوم عديدة، فيجب عليك استخدام خيار السرد: <code>-l</code> أو <code>--list</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_إنشاء_وسوم">إنشاء وسوم</h4>
<div class="paragraph">
<p>يدعم جت نوعين من الوسوم: <em>خفيفة</em>، و<em>معنونة</em>.</p>
</div>
<div class="paragraph">
<p>الوسم الخفيف كأنه فرع لا يتغيّر: مجرد إشارة إلى إيداع معين.</p>
</div>
<div class="paragraph">
<p>لكن على النقيض، الوسوم المعنونة هي كائنات كاملة في قاعدة بيانات جت؛
يحسب جت بصمتها، ويسجل معها اسم الواسم، وبريده، وتاريخ الوسم، ورسالته، ويمكن توقيعها وتوثيقها باستعمال GNU Privacy Guard&lrm; (GPG).
من الأفضل في العموم إنشاء وسوم معنونة حتى تتمتع بكل هذه المعلومات، لكن إذا أردت وسمًا مؤقتًا أو لسبب ما لم تشأ الاحتفاظ بكل هذه المعلومات، فلا تزال الوسوم الخفيفة متاحة.</p>
</div>
</div>
<div class="sect3">
<h4 id="_annotated_tags">الوسوم المعنونة</h4>
<div class="paragraph">
<p>
إنشاء الوسوم المعنونة في جت يسير.
الطريقة الأسهل هي إضافة <code>-a</code> إلى أمر الوسم:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag -a v1.4 -m "my version 1.4"
$ git tag
v0.1
v1.3
v1.4</code></pre>
</div>
</div>
<div class="paragraph">
<p>والخيار <code>-m</code> يعيّن رسالة الوسم، التي تخزّن معه.
وإذا لم تعيّن رسالة للوسم المعنون، فإن جت سيفتح لك محررك حتى تكتبها فيه.</p>
</div>
<div class="paragraph">
<p>يمكنك أيضا رؤية تاريخ الوسم مع الإيداع الموسوم بأمر الإظهار <code>git show</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git show v1.4
tag v1.4
Tagger: Ben Straub &lt;ben@straub.cc&gt;
Date:   Sat May 3 20:19:12 2014 -0700

my version 1.4

commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Mon Mar 17 21:52:11 2008 -0700

    Change version number</code></pre>
</div>
</div>
<div class="paragraph">
<p>يُظهر لك هذا معلومات الواسم وتاريخ وسم الإيداع ورسالة الوسم، ثم معلومات الإيداع نفسه.</p>
</div>
</div>
<div class="sect3">
<h4 id="_الوسوم_الخفيفة">الوسوم الخفيفة</h4>
<div class="paragraph">
<p>
طريقة أخرى لوسم الإيداعات هي باستعمال الوسوم الخفيفة.
هذا يعني تخزين بصمة الإيداع في ملف؛ لا معلومات أخرى تُخزّن.
لإنشاء وسم خفيف، لا تعطِ أمر الوسم أيًّا من الخيارات <code>-a</code> أو <code>-s</code> أو <code>-m</code>؛ أعطه فقط اسم الوسم:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag v1.4-lw
$ git tag
v0.1
v1.3
v1.4
v1.4-lw
v1.5</code></pre>
</div>
</div>
<div class="paragraph">
<p>تنفيذ <code>git show</code> على مثل هذا الوسم لن يعطيك معلومات الوسم الإضافية،
بل يُظهر فقط معلومات الإيداع:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git show v1.4-lw
commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Mon Mar 17 21:52:11 2008 -0700

    Change version number</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_الوسم_لاحقًا">الوسم لاحقًا</h4>
<div class="paragraph">
<p>يمكنك أيضا وسم إيداعات قديمة تخطيتها.
لنفترض مثلا أن تاريخ إيداعاتك يبدو هكذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --pretty=oneline
15027957951b64cf874c3557a0f3547bd83b3ff6 Merge branch 'experiment'
a6b4c97498bd301d84096da251c98a07c7723e65 Create write support
0d52aaab4479697da7686c15f77a3d64d9165190 One more thing
6d52a271eda8725415634dd79daabbc4d9b6008e Merge branch 'experiment'
0b7434d86859cc7b8c3d5e1dddfed66ff742fcbc Add commit function
4682c3261057305bdd616e23b64b0857d832627b Add todo file
166ae0c4d3f420721acbb115cc33848dfcc2121a Create write support
9fceb02d0ae598e95dc970b74767f19372d61af8 Update rakefile
964f16d36dfccde844893cac5b347e7b3d44abbc Commit the todo
8a5cbc430f1a9c3d00faaeffd07798508422908a Update readme</code></pre>
</div>
</div>
<div class="paragraph">
<p>الآن لنفترض أنك نسيت وسم المشروع عند <code>v1.2</code>، والتي كانت عند إيداع ‪&#8220;Update rakefile&#8221;‬.
يمكنك فعل هذا بعدما حدث ما حدث.
لوسم ذلك الإيداع، اكتب في نهاية أمر الوسم بصمةَ الإيداع (أو جزءًا من أولها):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag -a v1.2 9fceb02</code></pre>
</div>
</div>
<div class="paragraph">
<p>والآن ستجد أنك قد وسمت الإيداع:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag
v0.1
v1.2
v1.3
v1.4
v1.4-lw
v1.5

$ git show v1.2
tag v1.2
Tagger: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Mon Feb 9 15:32:16 2009 -0800

version 1.2
commit 9fceb02d0ae598e95dc970b74767f19372d61af8
Author: Magnus Chacon &lt;mchacon@gee-mail.com&gt;
Date:   Sun Apr 27 20:43:35 2008 -0700

    Update rakefile
...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_sharing_tags">مشاركة الوسوم</h4>
<div class="paragraph">
<p>لا ينقل أمر الدفع، بطبيعته، الوسومَ إلى المستودعات البعيدة.
فعليك دفعها بأمر صريح بعد إنشائها.
تشبه هذه العملية كثيرًا عملية مشاركة الفروع البعيدة&#8201;&#8212;&#8201;نفّذ <code>git push origin &lt;اسم&zwnj;الوسم&gt;</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin v1.5
Counting objects: 14, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (12/12), done.
Writing objects: 100% (14/14), 2.05 KiB | 0 bytes/s, done.
Total 14 (delta 3), reused 0 (delta 0)
To git@github.com:schacon/simplegit.git
 * [new tag]         v1.5 -&gt; v1.5</code></pre>
</div>
</div>
<div class="paragraph">
<p>وإذا كانت لديك العديد من الوسوم التي تريد دفعها جملةً واحدة، فيمكنك إضافة خيار الوسوم <code>--tags</code> إلى أمر الدفع <code>git push</code>،
لينقل إلى المستودع البعيد جميع وسومك التي ليست هناك بالفعل.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin --tags
Counting objects: 1, done.
Writing objects: 100% (1/1), 160 bytes | 0 bytes/s, done.
Total 1 (delta 0), reused 0 (delta 0)
To git@github.com:schacon/simplegit.git
 * [new tag]         v1.4 -&gt; v1.4
 * [new tag]         v1.4-lw -&gt; v1.4-lw</code></pre>
</div>
</div>
<div class="paragraph">
<p>والآن، عندما يستنسخ أحدهم مستودعك أو يجذب منه، فسيحصل على جميع وسومك أيضا.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">يدفع أمر الدفع كلا النوعين من الوسوم</div>
<div class="paragraph">
<p>سيدفع <code>git push &lt;البعيد&gt; --tags</code> الوسوم الخفيفة والوسوم المعنونة.
لا يوجد حاليا خيار لدفع الوسوم الخفيفة فقط، لكن الأمر <code>git push &lt;البعيد&gt; --follow-tags</code> سيدفع الوسوم المعنونة فقط إلى الخادوم البعيد.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_حذف_الوسوم">حذف الوسوم</h4>
<div class="paragraph">
<p>لحذف وسم من مستودعك المحلي، نفذ <code>git tag -d &lt;اسم&zwnj;الوسم&gt;</code>.
مثلا، يمكننا حذف الوسم الخفيف الذي أنشأناه سابقًا كالتالي:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag -d v1.4-lw
Deleted tag 'v1.4-lw' (was e7d5add)</code></pre>
</div>
</div>
<div class="paragraph">
<p>لاحظ أن هذا لا يحذف الوسم من أي مستودع بعيد.
توجد طريقتان شائعتان لحذف وسم ما من مستودع بعيد:</p>
</div>
<div class="paragraph">
<p>الطريقة الأولى هي <code>git push &lt;البعيد&gt; :refs/tags/&lt;اسم&zwnj;الوسم&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin :refs/tags/v1.4-lw
To /git@github.com:schacon/simplegit.git
 - [deleted]         v1.4-lw</code></pre>
</div>
</div>
<div class="paragraph">
<p>لاستيعاب ما تفعله هذه الطريقة يمكن ترى أنها تدفع القيمة الفارغة التي قبل النقطتين الرأسيتين إلى اسم الوسم على المستودع البعيد، فعمليًّا تحذفه.</p>
</div>
<div class="paragraph">
<p>الطريقة الأخرى (والبديهية أكثر) لحذف وسم من مستودع بعيد، هي:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin --delete &lt;اسم‌الوسم&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_سحب_الوسوم">سحب الوسوم</h4>
<div class="paragraph">
<p>إذا أردت رؤية نُسخ الملفات التي يشير إليها وسمٌ ما، يمكنك سحب هذا الوسم بأمر <code>git checkout</code>، مع إن هذا يضع مستودعك في حالة ‪&#8220;detached HEAD&#8221;‬، والتي لها بعض الآثار الجانبية السيئة:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout v2.0.0
Note: switching to 'v2.0.0'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -c with the switch command. Example:

  git switch -c &lt;new-branch-name&gt;

Or undo this operation with:

  git switch -

Turn off this advice by setting config variable advice.detachedHead to false

HEAD is now at 99ada87... Merge pull request #89 from schacon/appendix-final

$ git checkout v2.0-beta-0.1
Previous HEAD position was 99ada87... Merge pull request #89 from schacon/appendix-final
HEAD is now at df3f601... Add atlas.json and cover image</code></pre>
</div>
</div>
<div class="paragraph">
<p>في حالة ‪&#8220;detached HEAD&#8221;‬، إذا أجريت تعديلات وصنعت إيداعًا، فإن الوسم سيبقى كما هو، وإيداعك الجديد لن ينتمي إلى أي فرع ولن يمكن الوصول إليه أبدا، إلا ببصمته.
لذا، فإن احتجت إجراء تعديلات&#8201;&#8212;&#8201;مثلا لإصلاح علة في نسخة قديمة&#8201;&#8212;&#8201;فغالبا ستحتاج إلى إنشاء فرع:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b version2 v2.0.0
Switched to a new branch 'version2'</code></pre>
</div>
</div>
<div class="paragraph">
<p>إذا فعلت هذا ثم صنعت إيداعًا، فإن فرع <code>version2</code> سيكون مختلفًا عن وسم <code>v2.0.0</code> لأنه سيكون متقدمًا عنه بتعديلاتك، لذا كن حذرًا.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_aliases">كُنيات جت</h3>
<div class="paragraph">
<p>
قبل أن نتقدم إلى الباب التالي، نود أن نعرّفك ميزة في جت ستجعل استعمالك أسهل وأريح وأكثر ألفة: الكُنيات.
لن نستعملها في أي موضع آخر في هذا الك‍تاب للوضوح، لكنك إذا كنت تنوي استعمال جت باستمرار، فيجب أن تعرف الكُنيات.</p>
</div>
<div class="paragraph">
<p>لا يُخمّن جت الأمر الذي تريده إذا كتبت جزءًا منه.
فإذا لم تشأ ك‍تابة كل أمر بكامله، فيمكنك ضبط كُنية لكل أمر تريده بسهولة بأمر التهيئة <code>git config</code>.
هذه أمثلة ربما تحب إعدادها:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global alias.co checkout
$ git config --global alias.br branch
$ git config --global alias.ci commit
$ git config --global alias.st status</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا يعني أن يمكنك ك‍تابة <code>git ci</code> مثلا بدلا من أن تكتب <code>git commit</code>.
وبالاستمرار مع جت، ستجد أوامر أخرى تستعملها كثيرا؛ لا تتردد في إنشاء كُنيات لها.</p>
</div>
<div class="paragraph">
<p>هذه الطريقة تصلح كذلك لإنشاء الأوامر التي تظن أنها يجب أن توجد.
مثلا، لتصحيح صعوبة الاستخدام التي واجهتها عند إلغاء تأهيل ملف، يمكنك إضافة كُنية خاصة بك لإلغاء التأهيل <code>unstage</code> إلى جت:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global alias.unstage 'reset HEAD --'</code></pre>
</div>
</div>
<div class="paragraph">
<p>يجعل هذا الأمرين التاليين متكافئين:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git unstage fileA
$ git reset HEAD -- fileA</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا أسهل وأوضح.
وكذلك من الشائع إضافة أمر <code>last</code> «الأخير»، مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global alias.last 'log -1 HEAD'</code></pre>
</div>
</div>
<div class="paragraph">
<p>فيمكنك عندئذٍ رؤية إيداعك الأخير بسهولة:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git last
commit 66938dae3329c7aebe598c2246a8e6af90d04646
Author: Josh Goebel &lt;dreamer3@example.com&gt;
Date:   Tue Aug 26 19:48:51 2008 +0800

    Test for current head

    Signed-off-by: Scott Chacon &lt;schacon@example.com&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>وكما يمكنك أن تخمن، إنما يترجم جت الأمر الجديد إلى ما جعلته كُنيةً له.
ولكنك أحيانا قد تريد تنفيذ أمر خارجي، بدلا من أمر فرعي في جت.
في هذه الحالة تبدأ الأمر بعلامة تعجب: <code>!</code>.
يفيد هذا عندما تكتب أدواتك الخاصة التي تعمل مع مستودع جت.
نوضّح ذلك بعمل الكُنية <code>git visual</code> لتشغيل <code>gitk</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global alias.visual '!gitk'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_الخلاصة_2">الخلاصة</h3>
<div class="paragraph">
<p>الآن تستطيع فعل جميع عمليات جت المحلية الأساسية: إنشاء مستودع أو استنساخه، وعمل تعديلات، وتأهيلها وإيداعها، وعرض تاريخ جميع التعديلات التي مر بها المستودع.
التالي: سنشرح  ميزة جت القاتلة للمنافسة: نموذج التفريع.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch03-git-branching">الباب الثالث: التفريع في جت</h2>
<div class="sectionbody">
<div class="paragraph">
<p>
معظم أنظمة إدارة النسخ بها نوع ما من دعم التفريع.
التفريع يعني أنك تنشق عن مسار التطوير الرئيسي، وتستمر بالعمل من غير أن تؤثر في ذلك المسار الرئيسي.
هذه عملية مكلفة نوعا ما في أدوات إدارة نسخ كثيرة، وغالبا تحتاج منك إلى إنشاء نسخة جديدة من مجلد مشروعك، الذي قد يحتاج وقتًا طويلًا في المستودعات الكبيرة.</p>
</div>
<div class="paragraph">
<p>يسمي البعض نموذج التفريع في جت بأنه «ميزته القاتلة للمنافسة»، وهي بكل تأكيد تميّزه في مجتمع إدارة النسخ.
لماذا هي مميزة هكذا؟
لأن طريقة التفريع في جت خفيفة خفة مستحيلة، فتجعل إنشاء فرع جديد عملية شِبه آنيّة، والانتقال بين الفروع ذهابًا وإيابًا له تلك السرعة نفسها تقريبا.
وخلافا للكثير من الأنظمة الأخرى، يشجع جت على أساليب سير العمل التي تعتمد على التفريع والدمج كثيرا، عدة مرات في اليوم حتى.
وفهم هذه الميزة وإتقانها يعطيانك أداة قوية وفريدة، وقد يغيّران تمامًا الطريقة التي تطوّر بها.</p>
</div>
<div class="sect2">
<h3 id="_git_branches_overview">الفروع بإيجاز</h3>
<div class="paragraph">
<p>لنفهم حقًا طريقة التفريع في جت، علينا أن نتراجع خطوة إلى الخلف ونتدبر طريقته في تخزين البيانات.</p>
</div>
<div class="paragraph">
<p>كما قد تتذكر من <a href="#what_is_git_section">ما هو جت؟</a>، لا يخزن جت بياناته في صورة فروقات، بل في صورة لقطات.</p>
</div>
<div class="paragraph">
<p>وعندما تُودع، يخزن جت كائنَ إيداع فيه إشارة إلى لقطة المحتوى الذي أهّلته.
وفيه كذلك اسم المؤلف وعنوان بريده ورسالة الإيداع والإشارات إلى الإيداعات السابقة له مباشرةً (الإيداعات الآباء): لا أب للإيداع المبدئي، وأب واحد للإيداعات العادية، وأبوين أو أكثر لإيداعات الدمج، وهي الإيداعات الناتجة من دمج فرعين أو أكثر.</p>
</div>
<div class="paragraph">
<p>حتى نستطيع تصور هذا، لنفترض أن لديك مجلدًا به ثلاثة ملفات، وأنك أهّلتها جميعها ثم أودعتها.
يحسب تأهيل الملفات بصمة كل ملف (بصمة SHA-1 التي ذكرناها في <a href="#what_is_git_section">ما هو جت؟</a>)، ويخزن نسخة الملف هذه في المستودع (وهي ما يسميها جت «ك‍تلة رقمية» (‪&#8220;blob&#8221;‬)، ونسميها «ك‍تلة» اختصارا)، ويضيف تلك البصمة إلى منطقة التأهيل:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add README test.rb LICENSE
$ git commit -m 'Initial commit'</code></pre>
</div>
</div>
<div class="paragraph">
<p>عندما تودع بأمر <code>git commit</code>، فإن جت يحسب أيضا بصمات كل مجلد ومجلد فرعي (في هذه الحالة، مجلد جذر المشروع فقط)، ويخزنها في صورة كائنات أشجار في المستودع.
ثم ينشئ جت كائنَ إيداعٍ فيه بيانات وصفية وإشارة إلى شجرة جذر المشروع، حتى يستطيع إعادة إنشاء تلك اللقطة عند الحاجة.</p>
</div>
<div class="paragraph">
<p>صار في مستودعك الآن خمسة كائنات: ثلاث <em>ك‍تل</em> (كلٌ منها يمثل محتويات ملف من الثلاثة)، و<em>شجرة</em> واحدة (تسرد محتويات المجلد وما الك‍تل التي تشير إليها أسماء الملفات)، و<em>إيداع</em> واحد (فيه إشارة إلى شجرة الجذر تلك وكذلك البيانات الوصفية للإيداع).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/commit-and-tree.png" alt="إيداعٌ وشجرته">
</div>
<div class="title">شكل ٩. إيداعٌ وشجرته</div></div>
<div class="paragraph">
<p>إذا أجريت تعديلات وأودعتها، فإن إيداعك التالي سيخزن إشارةً إلى الإيداع السابق له مباشرةً.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/commits-and-parents.png" alt="إيداعات وآباؤها">
</div>
<div class="title">شكل ١٠. إيداعات وآباؤها</div></div>
<div class="paragraph">
<p>فإنما الفرع في جت هو إشارة متحركة تشير إلى أحد هذه الإيداعات.
والفرع المبدئي في جت يُسمى <code>master</code>.
فعندما تشرع في صنع الإيداعات، فإن جت يعطيك فرعا رئيسا يسمى <code>master</code> ويشير إلى آخر إيداع صنعته.
ويتقدم فرع <code>master</code> تلقائيًا مع كل إيداعٍ تودِعه.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>فرع <code>master</code> في جت ليس مميزًا.
فهو تمامًا مثل أي فرع آخر.
والسبب الوحيد لوجوده في أغلب المستودعات أن أمر <code>git init</code> ينشئه بهذا الاسم المبدئي وأكثر الناس لا يبالون بتغييره.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/branch-and-history.png" alt="فرع وتاريخ إيداعاته">
</div>
<div class="title">شكل ١١. فرع وتاريخ إيداعاته</div></div>
<div class="sect3">
<h4 id="_create_new_branch">إنشاء فرع جديد</h4>
<div class="paragraph">
<p>
ماذا يحدث عندما تنشئ فرعًا جديدًا؟
الإجابة: ينشئ جت إشارة جديدة لك لتحركها كما تشاء.
لنقُل إنك أردت إنشاء فرع جديد اسمه <code>testing</code>.
تفعل هذا بأمر التفريع، <code>git branch</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch testing</code></pre>
</div>
</div>
<div class="paragraph">
<p>ينشئ هذا إشارةً إلى الإيداع الذي تقف عنده الآن.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/two-branches.png" alt="فرعان يشيران إلى سلسلة الإيداعات نفسها">
</div>
<div class="title">شكل ١٢. فرعان يشيران إلى سلسلة الإيداعات نفسها</div></div>
<div class="paragraph">
<p>كيف يعرف جت في أيّ فرع أنت الآن؟
إنه يحتفظ بإشارة مخصوصة تسمى «إشارة الرأس» (<code>HEAD</code>).
لاحظ أن هذه مختلفة كثيرًا عن مفهوم <code>HEAD</code> في الأنظمة الأخرى مثل Subversion و CVS.
في جت، هذه إشارة إلى الفرع المحلي الذي تقف فيه الآن.
في حالتنا هذه، ما زلتَ واقفًا في فرع <code>master</code>.
فما على أمر <code>git branch</code> إلا إنشاء فرع جديد؛ ليس عليه الانتقال إليه.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/head-to-master.png" alt="إشارة الرأس `HEAD` تشير إلى فرع">
</div>
<div class="title">شكل ١٣. إشارة الرأس <code>HEAD</code> تشير إلى فرع</div></div>
<div class="paragraph">
<p>يمكنك رؤية هذا بسهولة بأمر السجل، والذي يُظهر لك ما تشير إليه إشارات الفروع،
وذلك بالخيار <code>--decorate</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --oneline --decorate
f30ab (HEAD -&gt; master, testing) Add feature #32 - ability to add new formats to the central interface
34ac2 Fix bug #1328 - stack overflow under certain conditions
98ca9 Initial commit</code></pre>
</div>
</div>
<div class="paragraph">
<p>يمكنك رؤية فرعَي <code>master</code> و <code>testing</code> عند إيداع <code>f30ab</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_switching_branches">الانتقال بين الفروع</h4>
<div class="paragraph">
<p>
للانتقال إلى فرع موجود، استخدم أمر السحب <code>git checkout</code>.
هيا بنا نتنقل إلى فرعنا الجديد <code>testing</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout testing</code></pre>
</div>
</div>
<div class="paragraph">
<p>يحرك هذا الأمر إشارة الرأس لتشير إلى فرع <code>testing</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/head-to-testing.png" alt="إشارة الرأس تشير إلى الفرع الحالي">
</div>
<div class="title">شكل ١٤. إشارة الرأس تشير إلى الفرع الحالي</div></div>
<div class="paragraph">
<p>ما دلالة هذا؟
لنصنع إيداعًا آخر إذًا.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim test.rb
$ git commit -a -m 'Make a change'</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/advance-testing.png" alt="فرع الرأس يتقدم عند صنع إيداع">
</div>
<div class="title">شكل ١٥. فرع الرأس يتقدم عند صنع إيداع</div></div>
<div class="paragraph">
<p>هذا يدعو للتفكر، لأن الآن فرع <code>testing</code> قد تقدم، بينما قعد فرع <code>master</code> في مكانه مشيرًا إلى الإيداع القديم نفسه عندما انتقلنا إلى الفرع الجديد بأمر السحب.
لنعد إلى فرع <code>master</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">لا يُظهر أمر السجل <em>جميع</em> الفروع <em>طوال</em> الوقت</div>
<div class="paragraph">
<p>إذا نفذت <code>git log</code> الآن، فستتساءل أين ذهب فرع <code>testing</code> الذي أنشأته، لأنه لن يظهر في ناتجه.</p>
</div>
<div class="paragraph">
<p>لم يتبخر الفرع، ولكن جت لا يعلم أنك مهتمٌ به الآن، ولا يُظهر لك جت إلا ما يظن أنك مهتم به.
بلفظ آخر، لا يُظهر لك أمر السجل بطبيعته إلا تاريخ الفرع الذي تقف فيه حاليًا.</p>
</div>
<div class="paragraph">
<p>لإظهار تاريخ فرع آخر، عليك طلب ذلك صراحةً، مثل <code>git log testing</code>.
ولإظهار جميع الفروع، اطلب ذلك من <code>git log</code> بالخيار <code>--all</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/checkout-master.png" alt="تتحرك إشارة الرأس عندما تنتقل إلى فرع آخر">
</div>
<div class="title">شكل ١٦. تتحرك إشارة الرأس عندما تنتقل إلى فرع آخر</div></div>
<div class="paragraph">
<p>فَعَل هذا الأمر فعلين:
أعاد إشارة الرأس لتشير إلى فرع <code>master</code>، وأرجع الملفات في مجلد العمل إلى حالها كما كانت في اللقطة التي يشير إليها <code>master</code>.
هذا يعني أيضا أن التغييرات التي ستصنعها الآن ستُبنى على نسخة قديمة من المشروع.
أي أنه عمليًّا يتراجع عما فعلت في فرع <code>testing</code> لكي تستطيع السير في اتجاه آخر.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">الانتقال بين الفروع يغيّر الملفات التي في مجلد عملك</div>
<div class="paragraph">
<p>مهمٌ ملاحظة أنك عندما تنتقل إلى فرع آخر في جت، فإن الملفات التي في مجلد عملك ستتغير.
فإذا انتقلت إلى فرع قديم، سيعود مجلد عملك إلى ما كان عليه عند آخر إيداع في هذا الفرع.
وإن لم يستطع جت تغيير الملفات تغييرا نظيفا، فلن يسمح لك بالتبديل أصلا.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>لنُجري بعض التعديلات ونودع مجددًا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim test.rb
$ git commit -a -m 'Make other changes'</code></pre>
</div>
</div>
<div class="paragraph">
<p>الآن افترق تاريخ مشروعك (انظر <a href="#divergent_history">تاريخ مفترِق</a>).
فلقد أنشأتَ فرعًا وانتقلت إليه وعملت فيه قليلا، ثم عدت إلى الفرع الرئيس وعملت فيه عملا آخر.
كلا هذين التغييرين منعزلان في فرعين منفصلين: يمكنك التنقل بينهما ذهابًا وإيابًا ثم دمجهما معًا عندما تكون مستعدًا.
وكل هذا فعلتَه بسَهولة بأوامر التفريع <code>branch</code> والسحب <code>checkout</code> والإيداع <code>commit</code>.</p>
</div>
<div id="divergent_history" class="imageblock">
<div class="content">
<img src="images/advance-master.png" alt="تاريخ مفترِق">
</div>
<div class="title">شكل ١٧. تاريخ مفترِق</div></div>
<div class="paragraph">
<p>يمكنك أيضا رؤية هذا بسهولة بأمر السجل،
فإذا نفّذت <code>git log --oneline --decorate --graph --all</code> فسيُظهر لك تاريخ إيداعاتك ومواضع إشارات فروعك وكيف افترق تاريخك.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --oneline --decorate --graph --all
* c2b9e (HEAD, master) Make other changes
| * 87ab2 (testing) Make a change
|/
* f30ab Add feature #32 - ability to add new formats to the central interface
* 34ac2 Fix bug #1328 - stack overflow under certain conditions
* 98ca9 Initial commit of my project</code></pre>
</div>
</div>
<div class="paragraph">
<p>ولأن الفرع في جت ليس إلا ملفًا هيّنًا فيه ٤٠ حرفًا تمثّل بصمة الإيداع الذي يشير إليه الفرع، فإن إنشاء الفروع وإزالتها عمليتان رخيصتان سريعتان.
فعملية إنشاء فرع جديد تماثل في سرعتها ويسرها عملية ك‍تابة ٤١ بايتًا إلى ملف (وهم ٤٠ محرفًا للبصمة ثم محرف نهاية السطر).</p>
</div>
<div class="paragraph">
<p>هذا اختلاف عظيم عن طريقة التفريع في معظم الأنظمة القديمة لإدارة النسخ، والتي يُنسخ فيها جميع ملفات المشروع إلى مجلد آخر.
قد يحتاج هذا عدة ثوانٍ أو حتى دقائق، حسب حجم المشروع. ولكن تلك العملية في جت دائمًا عملية آنيّة.
وأيضا لأننا نسجّل آباء الإيداعات عندما نودع، فإن إيجاد قاعدة مناسبة للدمج هي عملية يفعلها جت من أجلنا آليًّا، وهي سهلة جدا عموما.
تشجّع هذه الميزات المطورين على إنشاء فروع واستعمالها بكثرة.</p>
</div>
<div class="paragraph">
<p>لنرَ لماذا عليك فعل هذا.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">إنشاء فرع جديد والانتقال إليه في خطوة واحدة</div>
<div class="paragraph">
<p>من المعتاد أن ترغب في الانتقال إلى فرع جديد فور إنشائه&#8201;&#8212;&#8201;يمكنك إنشاء فرع والانتقال إليه بأمر واحد: <code>git checkout -b &lt;اسم&zwnj;الفرع&zwnj;الجديد&gt;</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>ابتداءً من النسخة 2.23 من جت يمكنك استعمال أمر التبديل بدلًا من أمر السحب من أجل:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>الانتقال إلى فرع موجود: <code>git switch testing-branch</code>.</p>
</li>
<li>
<p>إنشاء فرع جديد والانتقال إليه: <code>git switch -c new-branch</code>.
الخيار <code>-c</code> للإنشاء، ويمكنك استخدام الخيار الكامل: <code>--create</code>.</p>
</li>
<li>
<p>العودة إلى الفرع المسحوب سابقًا: <code>git switch -</code>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_أسس_التفريع_والدمج">أسس التفريع والدمج</h3>
<div class="paragraph">
<p>لننظر مثالا سهلا عن التفريع والدمج بأسلوب سير عمل قد تستعمله في الحقيقة.
ستتبع هذه الخطوات:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>تقوم ببعض الأعمال على موقع وب.</p>
</li>
<li>
<p>تنشئ فرعا لـ«قصة المستخدم» الجديدة التي تعمل عليها.</p>
</li>
<li>
<p>تقوم ببعض الأعمال في هذا الفرع.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>وبينما أنت هنا، تأتيك مكالمة بأن علة أخرى خطيرة تحتاج منك إصلاحا عاجلا.
فستفعل الآتي:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>تنتقل إلى فرعك الإنتاجي ("production").</p>
</li>
<li>
<p>تنشئ فرعا لإضافة الإصلاح العاجل.</p>
</li>
<li>
<p>وبعد اختباره، تدمج فرع الإصلاح العاجل، وتدفعه إلى فرع الإنتاج.</p>
</li>
<li>
<p>تعود إلى قصة المستخدم الأصلية وتكمل عملك عليها.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_basic_branching">أسس التفريع</h4>
<div class="paragraph">
<p>
أولا، لنقُل أنك تعمل على مشروعك، ولديك بضعة إيداعات بالفعل في فرع <code>master</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-branching-1.png" alt="تاريخ إيداعات بسيط">
</div>
<div class="title">شكل ١٨. تاريخ إيداعات بسيط</div></div>
<div class="paragraph">
<p>ثم قررت أنك ستعمل على المسألة رقم ٥٣ في نظام متابعة المسائل الذي تستخدمه شركتك.
فتنفّذ أمر <code>git checkout</code> مع الخيار <code>-b</code>، لإنشاء فرعٍ جديدٍ والانتقال إليه في الوقت نفسه:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b iss53
Switched to a new branch "iss53"</code></pre>
</div>
</div>
<div class="paragraph">
<p>وهذا اختصار للأمرين:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch iss53
$ git checkout iss53</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-branching-2.png" alt="إنشاء إشارة إلى فرع جديد">
</div>
<div class="title">شكل ١٩. إنشاء إشارة إلى فرع جديد</div></div>
<div class="paragraph">
<p>يمكنك العمل على موقعك وصنع بعض الإيداعات.
فعل هذا يحرك فرع <code>iss53</code> إلى الأمام، لأنه الفرع المسحوب (أي أنه الفرع الذي تشير إليه إشارة الرأس <code>HEAD</code> لديك):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim index.html
$ git commit -a -m 'Create new footer [issue 53]'</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-branching-3.png" alt="تقدَّم فرع `iss53` بعملك عليه">
</div>
<div class="title">شكل ٢٠. تقدَّم فرع <code>iss53</code> بعملك عليه</div></div>
<div class="paragraph">
<p>ثم تأتيك مكالمة الآن بأن الموقع به علة، وعليك حلها فورا.
لا تحتاج مع جت أن تنشر إصلاحك لهذه العلة مع تعديلات <code>iss53</code> التي صنعتها، ولا تحتاج أيضا إلى بذل المجهود للتراجع عن هذه التعديلات حتى تستطيع العمل على إصلاح علة الموقع.
ليس عليك إلا أن تنتقل عائدا إلى فرعك الرئيس <code>master</code>.</p>
</div>
<div class="paragraph">
<p>ولكن، قبل هذا، عليك ملاحظة أن إن كان مجلد عملك أو منطقة تأهيلك فيهما تعديلات غير مودعة وتختلف عما في الفرع الذي تريد الانتقال إليه، فلن يسمح لك جت بالانتقال.
من الأفضل دوما أن تجعل حالة العمل نظيفة قبل الانتقال بين الفروع.
يمكن التحايل على هذا بطريقة أو بأخرى (تحديدا، التخبئة وتصحيح الإيداعات) والتي سنتطرق إليها فيما بعد في <s>Stashing and Cleaning</s>.
ولكن لنفترض الآن أنك أودعت كل تعديلاتك، حتى يتسنى لك الانتقال عائدا إلى فرعك الرئيس:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
Switched to branch 'master'</code></pre>
</div>
</div>
<div class="paragraph">
<p>ستجد الآن أن مجلد عملك مطابق تماما لما كان عليه قبل أن تبدأ العمل على المسألة رقم ٥٣، ويمكنك الآن التركيز على إصلاح العلة الجديدة.
هذه النقطة مهمة ويجب تذكرها: عندما تنتقل من فرع إلى آخر، يعيد جت مجلد عملك إلى ما كان عليه آخر مرة أودعت فيها في هذا الفرع،
فيضيف ويحذف ويعدّل المِلفات آليا، حتى يجعل نسخة العمل مشابهة تماما لما كان عليه الفرع عند آخر إيداع تم فيه.</p>
</div>
<div class="paragraph">
<p>عليك الآن العمل على الإصلاح العاجل.
لننشئ فرع <code>hotfix</code> لتعمل عليه حتى تنتهي:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b hotfix
Switched to a new branch 'hotfix'
$ vim index.html
$ git commit -a -m 'Fix broken email address'
[hotfix 1fb7853] Fix broken email address
 1 file changed, 2 insertions(+)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-branching-4.png" alt="فرع الإصلاح العاجل (`hotfix`) مبني على الفرع الرئيس (`master`)">
</div>
<div class="title">شكل ٢١. فرع الإصلاح العاجل (<code>hotfix</code>) مبني على الفرع الرئيس (<code>master</code>)</div></div>
<div class="paragraph">
<p>يمكنك الآن إجراء الاختبارات والتأكد من أن الإصلاح الذي صنعته هو المراد. ثم دمج فرع الإصلاح العاجل في الفرع الرئيس حتى تدفعه إلى الإنتاج.
يمكنك فعل هذا بأمر الدمج <code>git merge</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge hotfix
Updating f42c576..3a0874c
Fast-forward
 index.html | 2 ++
 1 file changed, 2 insertions(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>ستلاحظ عبارة ‪&#8220;fast-forward&#8221;‬ («تسريع») في ناتج الدمج.
هذا لأن الإيداع <code>C4</code> الذي يشير إليه فرع الإصلاح العاجل كان مباشرةً أمام الإيداع <code>C2</code> الذي تقف فيه، فلم يفعل جت سوى تحريك الإشارة إلى الأمام.
بلفظ آخر: عندما تريد دمج إيداع في إيداع آخر يمكن الوصول إليه بتتبع تاريخه، فإن جت لا يعقد الأمور بل يحرك الإشارة إلى الأمام، فلا أعمال مفترقة ليحاول دمجها&#8201;&#8212;&#8201;يسمى هذا «تسريعًا» (‪&#8220;fast-forward&#8221;‬).</p>
</div>
<div class="paragraph">
<p>تعديلاتك الآن موجودة في لقطة الإيداع التي يشير إليها الفرع الرئيس، فيمكنك الآن نشرها.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-branching-5.png" alt="تسريع `master` إلى `hotfix`">
</div>
<div class="title">شكل ٢٢. تسريع <code>master</code> إلى <code>hotfix</code></div></div>
<div class="paragraph">
<p>بعد نشر إصلاحك شديد الأهمية، تكون مستعدا للعودة إلى عملك الذي كنت تفعله قبل هذه المقاطعة.
ولكن عليك أولا حذف فرع <code>hotfix</code> لأنك لم تعد تحتاج إليه؛ فالفرع الرئيس يشير إلى الشيء نفسه.
يمكنك حذفه بالخيار <code>-d</code> مع أمر التفريع <code>git branch</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d hotfix
Deleted branch hotfix (3a0874c).</code></pre>
</div>
</div>
<div class="paragraph">
<p>يمكنك الآن العودة إلى فرع العمل الحالي الخاص بالمسألة رقم ٥٣، وإكمال العمل عليها.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout iss53
Switched to branch "iss53"
$ vim index.html
$ git commit -a -m 'Finish the new footer [issue 53]'
[iss53 ad82d7a] Finish the new footer [issue 53]
1 file changed, 1 insertion(+)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-branching-6.png" alt="استكمال العمل على `iss53`">
</div>
<div class="title">شكل ٢٣. استكمال العمل على <code>iss53</code></div></div>
<div class="paragraph">
<p>من الواجب ملاحظة أن مِلفات فرع <code>iss53</code> لا تحتوى على عملك في فرع <code>hotfix</code>.
فإذا احتجت إلى جذبه إليها، ادمج فرع <code>master</code> في فرع <code>iss53</code> بالأمر <code>git merge master</code>، أو أجّله حتى تقرر جذب فرع <code>iss53</code> إلى <code>master</code> فيما بعد.</p>
</div>
</div>
<div class="sect3">
<h4 id="_basic_merging">أسس الدمج</h4>
<div class="paragraph">
<p>
إذا رأيت أن عملك على المسألة رقم ٥٣ قد اكتمل وصار جاهزا لدمجه في الفرع الرئيس،
فستدمج فرع <code>iss53</code> في فرع <code>master</code>، تماما مثلما دمجت فرع <code>hotfix</code> سابقا:
ليس عليك سوى سحب الفرع الذي تريد الدمج فيه ثم تنفيذ أمر الدمج:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
Switched to branch 'master'
$ git merge iss53
Merge made by the 'recursive' strategy.
index.html |    1 +
1 file changed, 1 insertion(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>يبدو هذا مختلفا قليلا عن دمج <code>hotfix</code> الذي أجريتَه سابقا.
ففي حالتنا هذه قد افترق تاريخ التطوير منذ نقطة سابقة.
ولأن الإيداع الأخير في الفرع الذي تقف فيه ليس سَلَفًا مباشرا (أب أو جد أو جد أعلى) للفرع الذي تريد دمجه، فإن على جت القيام ببعض العمل.
في هذه الحالة، يعمل جت دمجًا ثلاثيًا نموذجيًّا، للقطتين اللتين يشيران إليهما رأسَا الفرعين، مع السلف المشترك للاثنتين.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-merging-1.png" alt="اللقطات الثلاثة المستعملة في دمج نموذجي معتاد">
</div>
<div class="title">شكل ٢٤. اللقطات الثلاثة المستعملة في دمج نموذجي معتاد</div></div>
<div class="paragraph">
<p>فبدلا من مجرد تحريك الإشارة إلى الأمام، ينشئ جت لقطة جديدة ناتجة عن هذا الدمج الثلاثي، وينشئ آليًّا إيداعًا جديدًا يشير إليها.
يسمى هذا «إيداع دمج»، ويتميز بأن له أكثر من أب.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-merging-2.png" alt="إيداع دمج">
</div>
<div class="title">شكل ٢٥. إيداع دمج</div></div>
<div class="paragraph">
<p>الآن قد دُمِج عملك، ولم تعد في حاجة إلى فرع <code>iss53</code>.
فيمكنك غلق هذه المسألة في نظام متابعة المسائل، وحذف الفرع:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d iss53</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_basic_merge_conflicts">أسس نزاعات الدمج</h4>
<div class="paragraph">
<p>
لا تسير هذه العملية بسلاسة في بعض الأحيان.
فإذا عدّلت الجزء نفسه في الملف نفسه تعديلا مختلفا في الفرعين اللذين تنوي دمجهما، فلن يستطيع جت أن يدمجمهما دمجا نظيفا.
فإن كان إصلاحك للمسألة رقم ٥٣ عدّل الجزء نفسه من الملف الذي عدّلته في فرع الإصلاح العاجل، فستواجه نزاع دمج يشبه هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge iss53
Auto-merging index.html
CONFLICT (content): Merge conflict in index.html
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>لم ينشئ جت آليًّا إيداعَ دمجٍ جديدًا،
بل أوقف العملية حتى تحل النزاع.
فإذا أردت رؤية الملفات غير المدموجة في أي وقت بعد نزاع الدمج، نفّذ أمر الحالة <code>git status</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
You have unmerged paths.
  (fix conflicts and run "git commit")

Unmerged paths:
  (use "git add &lt;file&gt;..." to mark resolution)

    both modified:      index.html

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
</div>
<div class="paragraph">
<p>ستظهر الملفات المتنازع عليها ولم تُدمج بعد أنها غير مدموجة ‪&#8220;unmerged&#8221;‬.
ويضيف جت علامات معيارية لحل النزاعات إلى الملفات المتنازع عليها، حتى تتمكن من تحريرها يدويا وحل تلك النزاعات.
فستجد أن في ملفك جزءًا يشبه هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:index.html
&lt;div id="footer"&gt;contact : email.support@github.com&lt;/div&gt;
=======
&lt;div id="footer"&gt;
 please contact us at support@github.com
&lt;/div&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; iss53:index.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>تجد نسخة <code>HEAD</code> (فرع <code>master</code>، لأنه الفرع الذي سحبته قبل أمر الدمج) في النصف الأعلى من هذه الك‍تلة (كل ما هو فوق سطر <code>=======</code>)، ونسخة <code>iss53</code> في النصف الأسفل منها.
وحتى تحل هذا النزاع، عليك اختيار أحد الجزأين أو دمج محتواهما بنفسك.
فمثلا قد تحله بتغيير الك‍تلة كلها إلى:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;div id="footer"&gt;
please contact us at email.support@github.com
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>يحمل هذا الحل شيئا من كلا الجزأين. أما الأسطر <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> و <code>=======</code> و <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> فقد أزلناها بالكامل.
وبعد حل كل نزاع مثل هذا في كل ملف متنازع عليه، نفّذ أمر الإضافة <code>git add</code> على كل ملف لإعلام جت أنه قد حُلّ.
فتأهيل الملف في جت يعلن نزاعه محلولا.</p>
</div>
<div class="paragraph">
<p>وإذا أردت استعمال أداة رسومية لحل هذه المشاكل، فيمكنك تنفيذ <code>git mergetool</code>، والذي يشغّل أداة دمج رسومية مناسبة ويسير معك خلال النزاعات:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mergetool

This message is displayed because 'merge.tool' is not configured.
See 'git mergetool --tool-help' or 'git help config' for more details.
'git mergetool' will now attempt to use one of the following tools:
opendiff kdiff3 tkdiff xxdiff meld tortoisemerge gvimdiff diffuse diffmerge ecmerge p4merge araxis bc3 codecompare vimdiff emerge
Merging:
index.html

Normal merge conflict for 'index.html':
  {local}: modified file
  {remote}: modified file
Hit return to start merge resolution tool (opendiff):</code></pre>
</div>
</div>
<div class="paragraph">
<p>إذا أردت استعمال أداة دمج أخرى غير الأداة المبدئية (اختار جت في هذه الحالة أداة <code>opendiff</code> لأننا نفّذاه على نظام ماك)، فيمكنك رؤية قائمة بجميع الأدوات المدعومة في الأعلى بعد جملة ‪&#8220;one of the following tools&#8221;‬.
ليس عليك سوى ك‍تابة اسم الأداة التي تريدها.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>إذا احتجت أدوات متقدمة أكثر لحل النزاعات العويصة، فسنتحدث أكثر عن الدمج في <s>Advanced Merging</s>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>بعد إغلاق أداة الدمج، فسيسألك جت عما إذا كان الدمج ناجحا.
إذا أجبت بنعم، فسيؤهل الملف لك لإعلان أنه قد حُل.
ويمكنك عندئذٍ استعراض الحالة مجددا للتحقق أن جميع النزاعات قد حُلت:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
All conflicts fixed but you are still merging.
  (use "git commit" to conclude merge)

Changes to be committed:

    modified:   index.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>فإذا كنت راضيا عن هذا، وتأكدت من أن كل شيء كان عليه نزاع قد أُهِّل، نفّذ <code>git commit</code> لاختتام إيداع الدمج.
ورسالة الإيداع المبدئية تشبه هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Merge branch 'iss53'

Conflicts:
    index.html
#
# It looks like you may be committing a merge.
# If this is not correct, please remove the file
#	.git/MERGE_HEAD
# and try again.


# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch master
# All conflicts fixed but you are still merging.
#
# Changes to be committed:
#	modified:   index.html
#</code></pre>
</div>
</div>
<div class="paragraph">
<p>فيها يمكنك شرح حلك للنزاع وتعليل تعديلاتك إن لم تكن واضحة، إذا ظننت أن هذا يفيد من يرى هذا الإيداع فيما بعد.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_branch_management">إدارة الفروع</h3>
<div class="paragraph">
<p>
الآن وقد أنشأت فروعا ودمجتها وحذفتها، لنرَ أدوات إدارة فروع ستفيدك عندما تشرع في استعمال الفروع طوال الوقت.</p>
</div>
<div class="paragraph">
<p>ليس أمر التفريع <code>git branch</code> لإنشاء فروع وحذفها فحسب.
فإذا نفّذته بلا مُعامِلات، سيسرد لك فروعك الحالية:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch
  iss53
* master
  testing</code></pre>
</div>
</div>
<div class="paragraph">
<p>لاحظ مِحرف النجمة <code>*</code> أمام فرع <code>master</code>؛ إنه يعني أن هذا الفرع هو الفرع المسحوب حاليا (أي أنه الفرع الذي تشير إليه إشارة الرأس <code>HEAD</code>).
يعني هذا أنك إذا أودعت الآن، فإن فرع <code>master</code> سيتقدم إلى الأمام بعملك الجديد.
لرؤية آخر إيداع في كل فرع، نفّذ <code>git branch -v</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -v
  iss53   93b412c Fix javascript issue
* master  7a98805 Merge branch 'iss53'
  testing 782fd34 Add scott to the author list in the readme</code></pre>
</div>
</div>
<div class="paragraph">
<p>والخياران المفيدان <code>--merged</code> («مدموج») و <code>--no-merged</code> («غير مدموج») يصفّيان هذه القائمة فلا ترى إلا الفروع التي دمجتها أو التي لم تدمجها في الفرع الذي تقف فيه.
فللفروع المدموجة في الفرع الحالي، نفّذ <code>git branch --merged</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch --merged
  iss53
* master</code></pre>
</div>
</div>
<div class="paragraph">
<p>ترى <code>iss53</code> في القائمة لأنك دمجته سابقًا.
والفروع التي في هذه القائمة وليس أمامها نجمة (<code>*</code>)، يمكنك في العموم حذفها بأمان بالأمر <code>git branch -d</code>؛ لن تفقد شيئًا بحذفها لأنك بالفعل ضممت ما فيها من عمل إلى فرع آخر.</p>
</div>
<div class="paragraph">
<p>لرؤية جميع الفروع التي بها عمل غير مدموج بعد، نفّذ <code>git branch --no-merged</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch --no-merged
  testing</code></pre>
</div>
</div>
<div class="paragraph">
<p>يُظهر لك هذا الأمر فرعك الآخر.
ستفشل محاولة حذفه بالأمر <code>git branch -d</code> لأن به عملًا غير مدمج بعد:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d testing
error: The branch 'testing' is not fully merged.
If you are sure you want to delete it, run 'git branch -D testing'.</code></pre>
</div>
</div>
<div class="paragraph">
<p>إن رغبت حقًا ويقينًا في حذف الفرع وفقد ما فيه من عمل، فأجبر جت على حذفه بالخيار <code>-D</code>، كما تخبرك الرسالة.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>إذا لم تعطِ إيداعًا أو اسمَ فرعٍ إلى الخيارين <code>--merged</code> و <code>--no-merged</code>، فإنهما، على الترتيب، سيسردان ما الذي دُمج أو لم يُدمج في الفرع <em>الحالي</em>.</p>
</div>
<div class="paragraph">
<p>يمكنك دائما إعطاؤهما اسم فرع للسؤال عن حالة دمجه من غير أن تحتاج إلى الانتقال أولا إلى هذا الفرع بأمر السحب، مثلا: ما الذي لم يُدمج في فرع <code>master</code>؟</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout testing
$ git branch --no-merged master
  topicA
  featureB</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_تغيير_اسم_فرع">تغيير اسم فرع</h4>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>لا تغيّر اسم فرع ما زال الآخرون يستعمله.
ولا تغيّر اسم فرع مثل <code>master</code> أو <code>main</code> أو <code>mainline</code> قبل أن تقرأ فصل <a href="#_changing_master">تغيير اسم الفرع الرئيس</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>هَبْ فرعًا لديك اسمه <code>bad-branch-name</code> وتريد جعله <code>corrected-branch-name</code> مع الإبقاء على تاريخه بالكامل.
وتريد أيضا تغيير اسمه على الخادوم البعيد (جت‌هب GitHub أو جت‌لاب GitLab أو غيرهما).
كيف تفعل هذا؟</p>
</div>
<div class="paragraph">
<p>غيّر اسم الفرع محليًّا بالأمر <code>git branch --move</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch --move bad-branch-name corrected-branch-name</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا يغيّر <code>bad-branch-name</code> إلى <code>corrected-branch-name</code>، ولكن هذا التغيير محليٌّ فقط حتى الآن.
ولجعل الآخرين يرون الفرع الصحيح في المستودع البعيد، عليك دفعه:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push --set-upstream origin corrected-branch-name</code></pre>
</div>
</div>
<div class="paragraph">
<p>لنلقِ نظرةً على حالنا الآن:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch --all
* corrected-branch-name
  main
  remotes/origin/bad-branch-name
  remotes/origin/corrected-branch-name
  remotes/origin/main</code></pre>
</div>
</div>
<div class="paragraph">
<p>لاحظ أنك في فرع <code>corrected-branch-name</code> وأنه متاح في المستودع البعيد.
ولكنّ الفرع ذا الاسم الخاطئ متاح كذلك هناك، ولكن يمكنك حذفه بالأمر التالي:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin --delete bad-branch-name</code></pre>
</div>
</div>
<div class="paragraph">
<p>الآن قد حلّ اسم الفرع الصحيح محل اسم الفرع الخاطئ في كل مكان.</p>
</div>
<div class="sect4">
<h5 id="_changing_master">تغيير اسم الفرع الرئيس</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>تغيير اسم فرع مثل <code>master</code> أو <code>main</code> أو <code>mainline</code> أو <code>default</code> سيُعطّل التكاملات والخدمات والأدوات المساعدة وبُريمِجات البناء والإصدار التي يستخدمها مستودعك.
لذا عليك التشاور مع زملائك في المشروع قبل الإقدام على هذا الأمر.
وعليك كذلك أن تبحث بحثًا وافيًا في مستودعك وتحدّث أيّ إشارة إلى الاسم القديم للفرع في الكود والبُريمِجات.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>غيّر اسم فرع <code>master</code> المحلي إلى <code>main</code> بالأمر:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch --move master main</code></pre>
</div>
</div>
<div class="paragraph">
<p>لم يعد لدينا أي فرع محلي <code>master</code>، لأننا غيّرنا اسمه إلى <code>main</code>.</p>
</div>
<div class="paragraph">
<p>ولجعل الآخرين يرون فرع <code>main</code> الجديد، عليك دفعه إلى المستودع البعيد.
هذا يجعل الفرع الجديد متاحًا هناك:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push --set-upstream origin main</code></pre>
</div>
</div>
<div class="paragraph">
<p>نجد الآن أنفسنا في الحالة التالية:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch --all
* main
  remotes/origin/HEAD -&gt; origin/master
  remotes/origin/main
  remotes/origin/master</code></pre>
</div>
</div>
<div class="paragraph">
<p>اختفى فرعك المحلي <code>master</code>، وحلّ محله الفرع <code>main</code>.
وصار <code>main</code> في المستودع البعيد.
ولكن فرع <code>master</code> القديم بقى موجودًا في المستودع البعيد.
فسيظل المشاركون الآخرون يتّخِذون فرع <code>master</code> أساسًا لأعمالهم، حتى تتّخذَ إجراءً آخر.</p>
</div>
<div class="paragraph">
<p>بين يديك الآن عددٌ من المهام لاجتياز تلك المرحلة الانتقالية:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>على جميع المشروعات المعتمِدة على هذا المشروع تحديث كودها و/أو إعداداتها.</p>
</li>
<li>
<p>عليك تحديث أي مِلفات إعدادات خاصة بالاختبارات.</p>
</li>
<li>
<p>عليك مواءمة بُريمِجات البناء والإصدار.</p>
</li>
<li>
<p>عليك مواءمة إعدادات خادوم مستودعك، مثل الفرع المبدئي وقواعد الدمج والأمور الأخرى التي تعتمد على أسماء الفروع.</p>
</li>
<li>
<p>عليك تحديث الإشارات إلى الفرع القديم في التوثيق.</p>
</li>
<li>
<p>عليك إغلاق أو دمج كل طلبات الجذب الموجهة إلى الفرع القديم.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>بعد فعل جميع هذه المهام، والتيقن أن فرع <code>main</code> يقوم بعمله تمامًا مثل فرع <code>master</code>، يمكنك حذف فرع <code>master</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin --delete master</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_أساليب_العمل_التفريعية">أساليب العمل التفريعية</h3>
<div class="paragraph">
<p>بما أنك الآن تعلم أسس التفريع والدمج، ماذا يمكنك أو يجدر بك فعله بهما؟
سنتناول في هذا الفصل بعض أشهر أساليب العمل التي يجعلها هذا التفريع الخفيف ممكنة، لكي تقرر إذا ما كنت تود أن تجعلها جزءًا من دورة التطوير التي تتبعها.</p>
</div>
<div class="sect3">
<h4 id="_الفروع_طويلة_العمر">الفروع طويلة العمر</h4>
<div class="paragraph">
<p>
يستعمل جت دمجا ثلاثيا غير معقد، فيسهّل الدمج بين فرعين مرات عديدة عبر مدة زمنية طويلة.
يتيح لك هذا وجود عدد من الفروع المفتوحة دائما لتستعملها لمراحل مختلفة من دورة التطوير، لأنك تستطيع أن تدمج باستمرار فيما بينها.</p>
</div>
<div class="paragraph">
<p>الكثيرون من المطورين مستخدمي جت يعتمدون هذا النهج في أسلوب سير العمل، فيخصصون مثلا الفرع الرئيس للمصدر المستقر تماما وحسب، أو للذي أُصدر فعلا، أو للذي سيُصدر.
ويكون لديهم فرعا موازيا اسمه <code>develop</code> أو <code>next</code> مثلا، ليعملوا منه أو ليستعملوه لاختبار الاستقرار، فليس بالضرورة أن يكون مستقرا دوما، ولكن عند استقراره، يمكن دمجه في الفرع الرئيس.
ويستعملون هذا الفرع ليجذبوا فيه فروع المواضيع (الفروع قصيرة العمر، مثل فرع <code>iss53</code> المذكور سابقا) عندما تكون جاهزة، لضمان اجتيازها جميع الاختبارات وأنها لا تُحدِث عللًا.</p>
</div>
<div class="paragraph">
<p>نحن فعليا نتحدث عن إشارات ترتقي في سلّم ايداعاتك.
فالفروع المستقرة في أسفله، أما طليعة التطوير ففي أعلاه.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/lr-branches-1.png" alt="منظور خطي لتفريع الاستقرار المتزايد">
</div>
<div class="title">شكل ٢٦. منظور خطي لتفريع الاستقرار المتزايد</div></div>
<div class="paragraph">
<p>لعل الأسهل تصور أنها صومعات عمل منعزلة، فتتخرج دفعة من الإيداعات إلى صومعة أخرى أكثر استقرارا عندما تجتاز جميع الاختبارات.</p>
</div>
<div id="lrbranch_b" class="imageblock">
<div class="content">
<img src="images/lr-branches-2.png" alt="منظور «صومعي» لتفريع الاستقرار المتزايد">
</div>
<div class="title">شكل ٢٧. منظور «صومعي» لتفريع الاستقرار المتزايد</div></div>
<div class="paragraph">
<p>يمكنك فعل هذا بعدة مستويات من الاستقرار.
فلدى بعض المشروعات الكبيرة فرع <code>proposed</code> أو <code>pu</code> («تحديثات مقترحة») ويدمجوا فيه فروعا قد لا تكون جاهزة لأن تكون في فرع <code>next</code> أو <code>master</code>.
فالأمر أن فروعك في مستويات مختلفة من الاستقرار، فعندما يصل أحدها إلى مستوى استقرار أعلى، فإنه يُدمج في الفرع الأعلى.
ونكرر: ليس ضروريا استعمال عدد من الفروع طويلة العمر، ولكنه كثيرا ما يفيد، خصوصا عندما تتعامل مع مشروعات معقدة أو كبيرة جدا.</p>
</div>
</div>
<div class="sect3">
<h4 id="_topic_branch">فروع المواضيع</h4>
<div class="paragraph">
<p>
لكن فروع المواضيع تفيد جميع المشروعات بغض النظر عن حجمها.
فرع الموضوع هو فرع قصير العمر تنشئه وتستعمله لميزة واحدة أو ما يخصها من عمل.
لعلك لم تفعل هذا قط مع نظام إدارة نسخ آخر، لأن التفريع والدمج غالبا ما يكونا بطيئين جدا في الأنظمة الأخرى.
ولكن الشائع مع جت هو إنشاء فروع والعمل عليها ودمجها وحذفها عدة مرات في اليوم الواحد.</p>
</div>
<div class="paragraph">
<p>وقد رأيت هذا في الفصل السابق في فرعَي <code>iss53</code> و <code>hotfix</code> اللذين أنشأتهما،
فقد صنعت بضعة إيداعات فيهما ثم حذفتهما فور دمجهما في فرعك الرئيس.
يسمح لك هذا الأسلوب بـ«تبديل السياق» سريعا وبالكامل، لأنك قسّمت عملك إلى صومعات، وكل صومعة (فرع) ليس فيها إلا التعديلات التي تخص موضوعا واحدا،فيسهّل ذلك رؤيتها عند المراجعة (code review) وغير ذلك.
ويمكنك إبقاء التعديلات هناك دقائق أو أياما أو شهورا، ثم دمجها عندما تكون جاهزة، بغض النظر عن ترتيب إنشائها أو العمل عليها.</p>
</div>
<div class="paragraph">
<p>لنقُل مثلا إنك عملت (في <code>master</code>)، ثم تفرّعت لإصلاح علة (<code>iss91</code>)، وعملت عليها قليلا، ثم تفرّعت مجددا (من الفرع الثاني) لتجرب طريقة أخرى لإصلاح العلة نفسها (<code>iss91v2</code>)، ثم عدت إلى فرعك الرئيس (<code>master</code>) وعملت فيه قليلا، ثم تفرّعت منه لتجربة شيء لست واثقا أنه جيد (فرع <code>dumbidea</code>).
سيبدو تاريخ إيداعك الآن مثل هذا:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/topic-branches-1.png" alt="فروع مواضيع متعددة">
</div>
<div class="title">شكل ٢٨. فروع مواضيع متعددة</div></div>
<div class="paragraph">
<p>لنقُل إنك الآن وجدت إصلاحك الثاني للعلة (<code>iss91v2</code>) أفضل، وأنك أريت زملاءك فرع <code>dumbidea</code> فأخبروك أنه عبقري.
فيمكنك إذًا إلقاء فرع <code>iss91</code> الأصلي (وفقد الإيداعين <code>C5</code> و <code>C6</code>)، ودمج الفرعين الآخرين في الفرع الرئيس.
سيبدو تاريخك الآن كهذا:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/topic-branches-2.png" alt="التاريخ بعد دمج `dumbidea` و `iss91v2`">
</div>
<div class="title">شكل ٢٩. التاريخ بعد دمج <code>dumbidea</code> و <code>iss91v2</code></div></div>
<div class="paragraph">
<p>سنتحدث بتفصيل أكبر عن مختلف أساليب سير العمل الممكنة في مشروعات جت في <s>جت الموزع</s>، فعليك قراءة هذا الفصل قبل أن تقرر أي أسلوب تفريع سيتبعه مشروعك التالي.</p>
</div>
<div class="paragraph">
<p>من المهم تذكر أنك عندما تفعل أيًّا من هذا فإن هذه الفروع تبقى محلية بالكامل.
فعندما تتفرّع وتدمج، يحدث كل شيء داخل مستودع جت الخاص بك وحسب؛ لا يحدث أي تواصل مع الخادوم.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_remote_branches">الفروع البعيدة</h3>
<div class="paragraph">
<p>
الإشارات البعيدة هي تلك الإشارات الموجودة في مستودعاتك البعيدة، كالفروع والوسوم.
يمكنك سرد جميع الإشارات البعيدة بالأمر <code>git ls-remote &lt;البعيد&gt;</code>، أو سرد الفروع البعيدة ومعلوماتها بالأمر <code>git remote show &lt;البعيد&gt;</code> (حيث <code>&lt;البعيد&gt;</code> هو الاسم المختصر المستودع البعيد).
ولكن الشائع هو الانتفاع بـ«الفروع المتعقِّبة للبعيد».</p>
</div>
<div class="paragraph">
<p>الفرع المتعقِّب لبعيد هو إشارة إلى حالة فرع بعيد.
أي أنه إشارة محلية (أي في المستودع الذي على حاسوبك) لكن لا يمكنك تحريكها؛ إن جت يحركها لك عند الاتصال مع الخادوم، حتى يضمن أنها دائما تمثل حالة المستودع البعيد.
اعتبرها إشارات مرجعية مثل علامات المتصفح، لتذكرك أين كانت فروع مستودعك البعيد عندما تواصلت معها آخر مرة.</p>
</div>
<div class="paragraph">
<p>يكون شكل أسماء الفروع المتعقِّبة للبعيد <code>&lt;remote&gt;/&lt;branch&gt;</code> (أيْ اسم المستودع البعيد ثم شرطة مائلة ثم اسم الفرع).
فمثلا إذا أردت رؤية كيف بدا فرع <code>master</code> في مستودعك البعيد <code>origin</code> عندما اتصلت به آخر مرة، فانتقل إلى فرع <code>origin/master</code>.
وإذا كنت تعمل مع زميل على مسألةٍ ودفَعَ فرع <code>iss53</code> إلى المستودع البعيد، فقد يكون لديك فرع محلي بالاسم نفسه، ولكن الفرع الذي على الخادوم سيمثله عندك الفرع المتعقِّب للبعيد الذي اسمه <code>origin/iss53</code>.</p>
</div>
<div class="paragraph">
<p>لعل الكلام غامض، فدعنا ننظر إلى مثال.
لنقُل إن لديك خادوم جت على شبكتك عنوانه <code>git.ourcompany.com</code>.
إذا استنسخته، فإن أمر الاستنساخ سيسميه <code>origin</code> لك، ويجذب كل ما فيه من بيانات، وينشئ إشارة إلى ما يشير إليه فرع <code>master</code> عليه ويسميه <code>origin/master</code> محليا.
وسيعطيك جت أيضا فرع <code>master</code> محلي خاص بك بادئا من المكان نفسه الذي فيه فرع <code>master</code> الخاص بالأصل، حتى يتسنّى لك البدء بالعمل.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">الاسم ‪&#8220;origin&#8221;‬ ليس مميزا</div>
<div class="paragraph">
<p>تماما مثلما أن اسم الفرع الرئيس ‪&#8220;master&#8221;‬ لا يحمل أي معنى خاص في جت، فكذلك اسم المستودع البعيد الأصل ‪&#8220;origin&#8221;‬.
فإن ‪&#8220;master&#8221;‬ هو الاسم المبدئي لأول فرع ينشئه جت عندما تستخدم <code>git init</code> (وهو السبب الوحيد لشيوعه)، وكذلك ‪&#8220;origin&#8221;‬ هو الاسم المبدئي للمستودع البعيد عندما تستخدم <code>git clone</code>.
فإذا استخدمت <code>git clone -o yalla</code> مثلا، فإنك ستجد أن <code>yalla/master</code> هو اسم الفرع البعيد المبدئي.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-branches-1.png" alt="المستودعان البعيد والمحلي بعد الاستنساخ">
</div>
<div class="title">شكل ٣٠. المستودعان البعيد والمحلي بعد الاستنساخ</div></div>
<div class="paragraph">
<p>إذا عملت في فرعك الرئيس المحلي، ودفع أحد إلى الفرع الرئيس في المستودع البعيد، فإن تاريخَي الفرعين سيتقدمان مفترقين.
وإن تجنبت الاتصال مع مستودعك البعيد على الخادوم الأصل، فلن تتحرك إشارة <code>origin/master</code> التي لديك.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-branches-2.png" alt="قد يفترق العمل المحلي والبعيد">
</div>
<div class="title">شكل ٣١. قد يفترق العمل المحلي والبعيد</div></div>
<div class="paragraph">
<p>لمزامنة عملك مع مستودع بعيد، نفّذ الأمر <code>git fetch &lt;البعيد&gt;</code> (في حالتنا <code>git fetch origin</code>).
فهذا الأمر يبحث عن المستودع المسمى ‪&#8220;origin&#8221;‬ (في حالتنا <code>git.ourcompany.com</code>)، ويستحضر البيانات التي عليه وليست عندك بعد، ويحدّث قاعدة بياناتك المحلية، ويحرك إشارة <code>origin/master</code> الخاص بك لتشير إلى موقعها الجديد المحدَّث.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-branches-3.png" alt="يحدّث أمر الاستحضار `git fetch` فروعك المتعقِّبة للبعيد">
</div>
<div class="title">شكل ٣٢. يحدّث أمر الاستحضار <code>git fetch</code> فروعك المتعقِّبة للبعيد</div></div>
<div class="paragraph">
<p>لتمثيل وجود خواديم بعيدة عديدة ولإيضاح منظر الفروع المتعقِّبة لهذه المستودعات البعيدة، لنقُل إن لديك خادوم جت داخلي آخر، والذي لا يستخدمه إلا فريق واحد من أجل التطوير،
وإن عنوانه هو <code>git.team1.ourcompany.com</code>.
يمكنك إضافته إشارةً بعيدة جديدة في مشروعك، بأمر <code>git remote add</code> كما رأينا في <a href="#ch02-git-basics-chapter">أسس جت</a>،
وتسميته <code>teamone</code>، والذي يُعتبر اسما مختصرا لرابطه الكامل.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-branches-4.png" alt="إضافة إشارة إلى خادوم بعيد آخر">
</div>
<div class="title">شكل ٣٣. إضافة إشارة إلى خادوم بعيد آخر</div></div>
<div class="paragraph">
<p>والآن، نفّذ أمر <code>git fetch teamone</code> لاستحضار كل ما لدى خادوم <code>teamone</code> البعيد وليس لديك بعد.
ولأن ليس لديه من البيانات إلا جزءًا من التي لدى خادومك الأصلي (<code>origin</code>) الآن، فلن يستحضر جت شيئا، ولكنه سيضبط فرعا متعقبا للبعيد يسمى <code>teamone/master</code> ليشير إلى الإيداع الذي يشير إليه فرع <code>master</code> في مستودع <code>teamone</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-branches-5.png" alt="فرع متعقب للبعيد للفرع `teamone/master`">
</div>
<div class="title">شكل ٣٤. فرع متعقب للبعيد للفرع <code>teamone/master</code></div></div>
<div class="sect3">
<h4 id="_pushing_branches">الدفع</h4>
<div class="paragraph">
<p>
عندما تريد أن تشارك فرعا مع العالَم، فعليك دفعه إلى مستودع بعيد لديك إذن تحريره.
ففروعك المحلية لا تُزامَن آليًّا إلى المستودعات البعيدة، حتى التي دفعت إليها؛ عليك دفع الفروع التي تريد مشاركتها بأمر صريح.
يسمح لك هذا أن تستعمل فروعا خصوصية للأعمال التي لا تريد مشاركتها، وألا تدفع إلا فروع المواضيع التي تريد التعاون عليها.</p>
</div>
<div class="paragraph">
<p>مثلا إذا كان لديك فرعا اسمه <code>serverfix</code> وتريد العمل عليه مع الآخرين، يمكنك دفعه بالطريقة نفسها التي دفعت بها فرعك الأول؛
نفّذ <code>git push &lt;remote&gt; &lt;branch&gt;</code> (أي اسم المستودع البعيد ثم الفرع):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin serverfix
Counting objects: 24, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (15/15), done.
Writing objects: 100% (24/24), 1.91 KiB | 0 bytes/s, done.
Total 24 (delta 2), reused 0 (delta 0)
To https://github.com/schacon/simplegit
 * [new branch]      serverfix -&gt; serverfix</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا اختصار،
لأن جت يفك اسم الفرع <code>serverfix</code> إلى <code>refs/heads/serverfix:refs/heads/serverfix</code>، الذي يعني «ادفع فرعي المحلي <code>serverfix</code> إلى المستودع البعيد <code>origin</code> لتحدّث فرع <code>serverfix</code> عليه».
سنفصّل شرح جزء <code>refs/heads/</code> في <s>دواخل جت</s>، ولكن عامةً يمكنك تركه.
كذلك يمكنك تنفيذ <code>git push origin serverfix:serverfix</code> الذي يفعل الشيء نفسه؛ إنه يقول: «خذ فرعي المسمى <code>serverfix</code> واجعله فرع <code>serverfix</code> في المستودع البعيد».
هذه الصياغة مفيدة لدفع فرع محلي إلى فرع بعيد باسم مختلف.
فمثلا إن لم تُرِده أن يسمى <code>serverfix</code> في المستودع البعيد، فنفّذ <code>git push origin serverfix:awesomebranch</code>، فهذا يدفع فرعك المحلي <code>serverfix</code> إلى فرع <code>awesomebranch</code> في المستودع البعيد.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">لا تكتب كلمة مرورك كل مرة</div>
<div class="paragraph">
<p>إذا كنت تستعمل رابط HTTPS للدفع، فإن خادوم جت سيسألك عن اسم مستخدمك وكلمة مرورك للاستيثاق.
المعتاد أن عميل جت سيسألك عن هذا في الطرفية حتى يعرف الخادوم إذا ما كان مسموحا لك بالدفع.</p>
</div>
<div class="paragraph">
<p>إذا لم تشأ أن تكتب كلمة مرورك في كل مرة تدفع فيها، فعليك إعداد «تذكُّر مؤقت للاستيثاق» (‪&#8220;credential cache&#8221;‬).
أسهل خيار هو جعله في ذاكرة الحاسوب لعدة دقائق، والذي يمكنك إعداده بالأمر <code>git config --global credential.helper cache</code>.</p>
</div>
<div class="paragraph">
<p>لمعلومات أكثر عن خيارات تذكر الاستيثاق المتاحة، انظر <s>Credential Storage</s>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>وفي المرة التالية التي يستحضر أحد زملائك من الخادوم، سيحصل على إشارة إلى حيث يشير فرع <code>serverfix</code> على الخادوم؛ سيجدها عنده في الفرع البعيد <code>origin/serverfix</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git fetch origin
remote: Counting objects: 7, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 0), reused 3 (delta 0)
Unpacking objects: 100% (3/3), done.
From https://github.com/schacon/simplegit
 * [new branch]      serverfix    -&gt; origin/serverfix</code></pre>
</div>
</div>
<div class="paragraph">
<p>من المهم ملاحظة أنك عندما تستحضر، يجلب لك هذا فروعًا جديدة متعقبة للبعيد، أي أنك لا تحصل تلقائيًّا على نسخ محلية منها يمكنك تعديلها.
بلفظ آخر، لا تحصل آليًّا على فرع <code>serverfix</code> جديد في هذه الحالة: لم تُعطَ إلا إشارة <code>origin/serverfix</code> التي لا يمكنك التعديل فيها.</p>
</div>
<div class="paragraph">
<p>لدمج هذا العمل في فرعك الحالي، يمكنك تنفيذ <code>git merge origin/serverfix</code>.
وإذا أردت فرع <code>serverfix</code> خاصًا بك تستطيع العمل فيه، يمكنك تفريعه من الفرع المتعقب للبعيد:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b serverfix origin/serverfix
Branch serverfix set up to track remote branch serverfix from origin.
Switched to a new branch 'serverfix'</code></pre>
</div>
</div>
<div class="paragraph">
<p>يعطيك هذا فرعًا محليًا يمكنك العمل فيه، والذي يبدأ من حيث يقف <code>origin/serverfix</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tracking_branches">تعقب الفروع</h4>
<div class="paragraph">
<p>
إن سحب فرع محلي من فرع متعقب للبعيد ينشئ آليًّا ما يسمى «فرع متعقِّب» (والفرع الذي يتعقبه يسمى «الفرع المنبع»).
الفروع المتعقبة هي فروع محلية ذات علاقة مباشرة بفرع بعيد.
فإذا كنت في فرع متعقب وكتبت <code>git pull</code>، فسيعرف جت تلقائيا أي مستودع بعيد يستحضر منه وأي فرع يدمج فيه.</p>
</div>
<div class="paragraph">
<p>عندما تستنسخ مستودعًا، ينشئ جت فرعًا باسم الفرع المبدئي فيه (مثل <code>master</code>) ويجعله يتعقب الفرع المبدئي في المستودع الأصل (<code>origin/master</code>).
ولكن يمكنك إعداد فروع متعقبة أخرى إذا أردت، لتعقب مستودعات بعيدة أخرى، أو لتعقب فرع غير الرئيس.
أيسر حالة مثلما رأيتَ آنفًا، عند اتحاد اسم الفرع المحلي والبعيد، أيْ <code>git checkout -b &lt;branch&gt; &lt;remote&gt;/&lt;branch&gt;</code>.
وهذه العملية شائعة بما يكفي أن جت يتيح اختصارها بالخيار <code>--track</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout --track origin/serverfix
Branch serverfix set up to track remote branch serverfix from origin.
Switched to a new branch 'serverfix'</code></pre>
</div>
</div>
<div class="paragraph">
<p>وفي الحقيقة أن هذا شائع جدا حتى إن جت يتيح اختصارا لهذا الاختصار.
فإذا كان اسم الفرع الذي تريد سحبه، أولا غير موجود محليًّا بالفعل، وثانيا يطابق تماما اسما في مستودع بعيد واحد، فسينشئ لك جت فرعا متعقِّبا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout serverfix
Branch serverfix set up to track remote branch serverfix from origin.
Switched to a new branch 'serverfix'</code></pre>
</div>
</div>
<div class="paragraph">
<p>ولإعداد فرع محلي باسم مختلف عن الفرع البعيد، فسهلٌ استعمال الصيغة الأولى مع اسم فرع محلي مختلف:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b sf origin/serverfix
Branch sf set up to track remote branch serverfix from origin.
Switched to a new branch 'sf'</code></pre>
</div>
</div>
<div class="paragraph">
<p>الآن، فرعك المحلي <code>sf</code> سيجذب آليًّا من <code>origin/serverfix</code>.</p>
</div>
<div class="paragraph">
<p>إذا كان لديك بالفعل فرعا محليا وتريد ضبطه ليجذب من فرع بعيد جذبته للتو، أو تريد تغيير الفرع المنبع الذي تتعقبه، استعمل الخيار <code>-u</code> أو <code>--set-upstream-to</code> مع أمر التفريع <code>git branch</code> لضبطه بأمر صريح في أي وقت.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -u origin/serverfix
Branch serverfix set up to track remote branch serverfix from origin.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">الاسم المختصر للمنبع</div>
<div class="paragraph">
<p>عندما يكون لديك فرع متعقب مضبوط، يمكنك الإشارة إلى فرعه المنبع بالاختصار <code>@{upstream}</code> أو <code>@{u}</code>.
فإذا كنت في <code>master</code> وكان يتعقب <code>origin/master</code>، يمكنك تنفيذ أمر مثل <code>git merge @{u}</code> بدلا من <code>git merge origin/master</code> إن أردت.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>لرؤية الفروع المتعقِّبة التي ضبطتها، استعمل الخيار <code>-vv</code> مع أمر التفريع <code>git branch</code>،
ليسرد لك فروعك المحلية مع معلومات مزيدة فيها ما يتعقبه كل فرع وإذا كان فرعك متقدما عنه (<code>ahead</code>) أو متأخرا (<code>behind</code>) أو كليهما.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -vv
  iss53     7e424c3 [origin/iss53: ahead 2] Add forgotten brackets
  master    1ae2a45 [origin/master] Deploy index fix
* serverfix f8674d9 [teamone/server-fix-good: ahead 3, behind 1] This should do it
  testing   5ea463a Try something new</code></pre>
</div>
</div>
<div class="paragraph">
<p>فنرى هنا أن فرع <code>iss53</code> يتعقب <code>origin/iss53</code> وأنه «متقدم» (<code>ahead</code>) باثنين، أي أن لدينا إيداعين محليين ولم ندفعهما إلى الخادوم بعد.
ونرى أيضا أن فرع <code>master</code> يتعقب <code>origin/master</code> وأنه محدَّث.
ثم نرى بعدهما أن فرع <code>serverfix</code> يتعقب فرع <code>server-fix-good</code> على خادوم <code>teamone</code> وأنه متقدم عنه بثلاثة ومتأخر بواحد، أي أن لدى الخادوم إيداعا لم ندمجه في فرعنا بعد، وأن لدينا ثلاثة إيداعات محلية لم ندفعها إليه.
ثم نرى في النهاية أن فرع <code>testing</code> لا يتعقب أي فرع بعيد.</p>
</div>
<div class="paragraph">
<p>مهم ملاحظة أن هذه الأعداد ليست إلا منذ آخر استحضار (<code>fetch</code>) من كل خادوم نتعقبه.
فلا يحاول هذا الأمر الاتصال بالخواديم؛ إنما يخبرك بما يحفظه على حاسوبك عما فيها.
فإذا أردت من أعداد التقدم والتأخر أن تكون أحدث ما يكون، فعليك الاستحضار من جميع خواديمك البعيدة قبل تنفيذ هذا الأمر مباشرةً.
ويمكنك فعل ذلك هكذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git fetch --all; git branch -vv</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_الجذب">الجذب</h4>
<div class="paragraph">
<p>
نعلم أن أمر الاستحضار <code>git fetch</code> يستحضر التعديلات التي في المستودع البعيد وليست لديك بعد، ولكنه لا يعدّل مجلد عملك إطلاقا؛
إنما يجلب البيانات لك ويتركك تدمجها بنفسك.
ولكن لدى جت أمر يسمى أمر الجذب <code>git pull</code>، وهذا الأمر عمليًّا يكافئ استحضارًا <code>git fetch</code> متبوعًا مباشرةً بدمج <code>git merge</code>، في معظم الحالات.
فإذا كان لديك فرع متعقِّب مضبوط كما في الفصل السابق، إما بضبطه صراحةً وإما بأن يضبطه لك أمر الاستنساخ <code>git clone</code> أو أمر السحب <code>git checkout</code>، فإن أمر الجذب <code>git pull</code> سينظر أيّ مستودع وأيّ فرع يتعقبهما فرعك الحالي، ويستحضر ما في المستودع البعيد ويحاول دمجه في فرعك.</p>
</div>
<div class="paragraph">
<p>الأفضل عمومًا هو الاستخدام الصريح لأمرَي الاستحضار <code>fetch</code> والدمج <code>merge</code>، فالسحر الذي يقوم به أمر الجذب كثيرًا ما يكون مُلغِزًا.</p>
</div>
</div>
<div class="sect3">
<h4 id="_delete_branches">حذف فروع بعيدة</h4>
<div class="paragraph">
<p>
لنقُل إنك قضيت ما تريد من فرع بعيد، مثلا انتهيت أنت وزملاؤك من إضافة ميزة جديدة ودمجتموها في الفرع الرئيس.
يمكنك حذف فرع بعيد بالخيار <code>--delete</code> مع أمر الدفع <code>git push</code>.
فإذا أردت حذف فرع <code>serverfix</code> من الخادوم، يمكنك تنفيذ الأمر التالي:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin --delete serverfix
To https://github.com/schacon/simplegit
 - [deleted]         serverfix</code></pre>
</div>
</div>
<div class="paragraph">
<p>لا يفعل هذا الأمر سوى أنه يحذف الإشارة من على الخادوم.
ولكن خواديم جت عمومًا تبقى البيانات موجودة وقتًا، إلى أن يعمل جامع المهملات، فغالبًا ستستطيع استعادته بسَهولة إن حذفته بالخطأ.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rebasing">إعادة التأسيس</h3>
<div class="paragraph">
<p>
توجد طريقتان في جت لضم التعديلات من فرع إلى آخر: الدمج <code>merge</code> وإعادة التأسيس <code>rebase</code>.
سنتعلم في هذا الفصل ما هي إعادة التأسيس، وكيف نفعلها، ولماذا هي أداة مذهلة فعلا، ومتى لن تود استخدامها.</p>
</div>
<div class="sect3">
<h4 id="_أسس_إعادة_التأسيس">أسس إعادة التأسيس</h4>
<div class="paragraph">
<p>إذا عدت إلى مثال سابق في <a href="#_basic_merging">أسس الدمج</a>، ستجد أن عملك افترق إلى إيداعات في فرعين مختلفين.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-rebase-1.png" alt="تاريخ بسيط مفترق">
</div>
<div class="title">شكل ٣٥. تاريخ بسيط مفترق</div></div>
<div class="paragraph">
<p>أسهل طريقة لضم الفرعين، كما ناقشنا بالفعل، هي أمر الدمج <code>merge</code>،
والذي يقوم بدمج ثلاثي بين آخر لقطتين في الفرعين (<code>C3</code> و <code>C4</code>) وآخر سلف مشترك لهما (<code>C2</code>)، وينشئ لقطة جديدة (وإيداعًا).</p>
</div>
<div id="rebasing-merging-example" class="imageblock">
<div class="content">
<img src="images/basic-rebase-2.png" alt="الدمج لضم تاريخ العمل المفترق">
</div>
<div class="title">شكل ٣٦. الدمج لضم تاريخ العمل المفترق</div></div>
<div class="paragraph">
<p>لكن توجد طريقة أخرى: يمكنك أخذ رُقعة التعديلات (‪&#8220;patch&#8221;‬) التي صنعتها في هذا الإيداع (<code>C4</code>) وإعادة تطبيقها على الإيداع الآخر (<code>C3</code>).
هذه ما نسميها «إعادة التأسيس» (‪&#8220;rebasing&#8221;‬) في جت.
فبأمر إعادة التأسيس <code>rebase</code> يمكنك أخذ جميع التعديلات التي أودعتها في فرعٍ ما، وإعادة صنعها في فرع آخر.</p>
</div>
<div class="paragraph">
<p>في هذا المثال سنسحب فرع <code>experiment</code>، ثم نعيد تأسيسه على الفرع الرئيس <code>master</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout experiment
$ git rebase master
First, rewinding head to replay your work on top of it...
Applying: added staged command</code></pre>
</div>
</div>
<div class="paragraph">
<p>تتم هذه العملية بالذهاب إلى السلف المشترك للفرعين (الفرع الحالي الذي تقف فيه وتريد إعادة تأسيسه، والفرع الذي تريد إعادة التأسيس عليه)،
وحساب التعديلات التي تمت في كل إيداع في الفرع الحالي وحفظها في ملفات مؤقتة،
ثم ضبط الفرع الحالي إلى الإيداع الذي عنده الفرع الذي تريد إعادة التأسيس عليه،
وأخيرا تطبيق كل تعديل عليه بالترتيب.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-rebase-3.png" alt="إعادة تأسيس تعديلات `C4` على `C3`">
</div>
<div class="title">شكل ٣٧. إعادة تأسيس تعديلات <code>C4</code> على <code>C3</code></div></div>
<div class="paragraph">
<p>يمكنك الآن العودة إلى الفرع الرئيس وعمل دمج تسريع (‪&#8220;fast-forward&#8221;‬).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge experiment</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-rebase-4.png" alt="تسريع فرع `master`">
</div>
<div class="title">شكل ٣٨. تسريع فرع <code>master</code></div></div>
<div class="paragraph">
<p>اللقطة التي يشير إليها إيداع <code>C4'</code> الآن مطابقة تماما لتلك التي كان يشير إليها <code>C5</code> في <a href="#rebasing-merging-example">مثال الدمج</a>.
لا فرق في الناتج النهائي، ولكن تعطينا إعادة التأسيس تاريخًا أنظف.
فإذا نظرت إلى سجل فرع مُعاد تأسيسه، ستجده تاريخًا خطيًّا: يبدو أن كل العمل تم على التوالي، ولو أنه في الأصل قد تم على التوازي.</p>
</div>
<div class="paragraph">
<p>غالبا ستفعل هذا لضمان أن إيداعاتك ستُطبّق بنظافة على فرعٍ بعيد&#8201;&#8212;&#8201;مثلا في مشروع تريد المشاركة فيه لكنك لست مطورًا فيه.
فستعمل في هذه الحالة في فرع، ثم تعيد تأسيسه على <code>origin/master</code> عندما تكون جاهزًا لتسليم رُقعتك إليهم.
فهكذا لن يُجهِد المطورين ضمُ عملك، فما الأمر إلا تسريعًا، أو تطبيقًا نظيفًا للرقعة.</p>
</div>
<div class="paragraph">
<p>لاحظ أن اللقطة التي يشير إليها الإيداع النهائي، سواء كان آخر الإيداعات المعاد تأسيسها أو كان الإيداع النهائي لدمج، هي اللقطة نفسها؛ ليس الاختلاف إلا في التاريخ.
فإعادة التأسيس تعيد صنع تعديلات تاريخ عمل في تاريخ عمل آخر بترتيبها نفسه، لكن الدمج يدمج آخر نقطتين معًا.</p>
</div>
</div>
<div class="sect3">
<h4 id="_إعادات_تأسيس_شيقة_أكثر">إعادات تأسيس شيقة أكثر</h4>
<div class="paragraph">
<p>يمكنك أيضا جعل إعادة التأسيس تطبّق التعديلات على فرع غير «الفرع المستهدف».
لنرَ مثلا تاريخا مثل «<a href="#rbdiag_e">تاريخ فيه فرع موضوع متفرع من فرع موضوع آخر</a>».
لقد أنشأت فرع موضوع (<code>server</code>) لإضافة ميزات في جزء الخادوم في مشروعك، وصنعت إيداعا.
بعدئذٍ أنشأت فرعا من هذا الفرع لعمل تعديلات في جزء العميل (<code>client</code>) وصنعت بضعة إيداعات.
ثم في آخر الأمر عدت إلى فرع <code>server</code> وصنعت بضعة إيداعات أخرى.</p>
</div>
<div id="rbdiag_e" class="imageblock">
<div class="content">
<img src="images/interesting-rebase-1.png" alt="تاريخ فيه فرع موضوع متفرع من فرع موضوع آخر">
</div>
<div class="title">شكل ٣٩. تاريخ فيه فرع موضوع متفرع من فرع موضوع آخر</div></div>
<div class="paragraph">
<p>لنقُل إنك قررت أنك تريد دمج تعديلاتك الخاصة بجزء العميل في المسار الرئيس لكي تصدرها، ولكنك تريد الإبقاء على تعديلات جزء الخادوم حتى تختبرها أكثر.
إن التعديلات التي في <code>client</code> وليست في <code>server</code> (وهي <code>C8</code> و <code>C9</code>) تستطيع إعادة تطبيقها على فرع <code>master</code> بالخيار <code>--onto</code> مع أمر <code>git rebase</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rebase --onto master server client</code></pre>
</div>
</div>
<div class="paragraph">
<p>إنما يقول هذا: «احسب فروقات فرع <code>client</code> (التعديلات التي سُجّلت فيه) منذ أن افترق عن فرع <code>server</code>، ثم أعد تطبيقها في فرع <code>client</code> كأنه قد تفرّع من فرع <code>master</code> وليس من <code>server</code>.»
صعبة قليلا، لكن النتيجة عظيمة.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/interesting-rebase-2.png" alt="إعادة تأسيس فرع موضوع على فرع موضوع آخر">
</div>
<div class="title">شكل ٤٠. إعادة تأسيس فرع موضوع على فرع موضوع آخر</div></div>
<div class="paragraph">
<p>عندئذٍ يمكنك تسريع الفرع الرئيس <code>master</code> (انظر «<a href="#rbdiag_g">تسريع الفرع الرئيس لضم تعديلات فرع <code>client</code></a>»):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge client</code></pre>
</div>
</div>
<div id="rbdiag_g" class="imageblock">
<div class="content">
<img src="images/interesting-rebase-3.png" alt="تسريع الفرع الرئيس لضم تعديلات فرع `client`">
</div>
<div class="title">شكل ٤١. تسريع الفرع الرئيس لضم تعديلات فرع <code>client</code></div></div>
<div class="paragraph">
<p>لنقُل إنك قررت جذب فرع <code>server</code> كذلك.
يمكنك إعادة تأسيس فرع <code>server</code> على الفرع الرئيس بلا حاجة إلى سحبه أولا، بالأمر <code>git rebase &lt;basebranch&gt; &lt;topicbranch&gt;</code> (أي الفرع الأساس ثم فرع الموضوع)، وهذا يسحب لك فرع الموضوع (<code>server</code> في حالتنا) ويعيد تطبيق ما فيه من عمل على الفرع الأساس (<code>master</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rebase master server</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا يُعيد تطبيق العمل الذي في فرع الخادوم <code>server</code> على العمل الذي في الفرع الرئيس <code>master</code>، كما يظهر في «<a href="#rbdiag_h">إعادة تأسيس فرع <code>server</code> على الفرع الرئيس</a>».</p>
</div>
<div id="rbdiag_h" class="imageblock">
<div class="content">
<img src="images/interesting-rebase-4.png" alt="إعادة تأسيس فرع `server` على الفرع الرئيس">
</div>
<div class="title">شكل ٤٢. إعادة تأسيس فرع <code>server</code> على الفرع الرئيس</div></div>
<div class="paragraph">
<p>عندئذٍ يمكنك تسريع الفرع الأساس (<code>master</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge server</code></pre>
</div>
</div>
<div class="paragraph">
<p>ثم تستطيع حذف الفرعين <code>client</code> و <code>server</code> لأن كل ما فيهما قد ضُمَّ بالفعل ولم تعد بحاجة إليهما، فيصير تاريخك في نهاية هذه العملية كما في «<a href="#rbdiag_i">تاريخ الإيداعات في النهاية</a>»:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d client
$ git branch -d server</code></pre>
</div>
</div>
<div id="rbdiag_i" class="imageblock">
<div class="content">
<img src="images/interesting-rebase-5.png" alt="تاريخ الإيداعات في النهاية">
</div>
<div class="title">شكل ٤٣. تاريخ الإيداعات في النهاية</div></div>
</div>
<div class="sect3">
<h4 id="_rebase_peril">محذورات إعادة التأسيس</h4>
<div class="paragraph">
<p>
ولكن… نعيم إعادة التأسيس ليس بغير عيوب، والتي يمكن اختصارها في سطر واحد:</p>
</div>
<div class="paragraph">
<p><strong>لا تعد تأسيس إيداعات لها وجود خارج مستودعك فربما قد بنى الناس عليها عملا.</strong></p>
</div>
<div class="paragraph">
<p>إذا اتبعت هذه النصيحة الإرشادية، فستكون بخير.
وإن لم تفعل، فسيكرهك الناس ويحتقرك الأهل والأصحاب.</p>
</div>
<div class="paragraph">
<p>فعندما تعيد التأسيس، فإنك تهجر الإيداعات الموجودة وتصنع إيداعات جديدة شبيهة بالقديمة لكن مختلفة عنها.
وإذا دفعت هذه الإيداعات إلى مستودعٍ ما وجذبها الآخرون وبنوا عليها أعمالا، ثم جئت فأعدت ك‍تابة هذه الإيداعات بأمر <code>git rebase</code> ثم دفعتها من جديد، فسيضطر زملاؤك إلى إعادة دمج أعمالهم، وستؤول الأمور إلى فوضى عندما تحاول جذب أعمالهم إلى عملك.</p>
</div>
<div class="paragraph">
<p>لنرَ كيف يمكن لإعادة تأسيس عملٍ منشور أن تسبب مشاكل.
لنقُل إنك استنسخت من خادوم مركزي، ثم بنيت عليه عملا.
سيبدو تاريخ إيداعك مثل هذا:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/perils-of-rebasing-1.png" alt="استنسخ مستودعا، وابنِ عملا عليه">
</div>
<div class="title">شكل ٤٤. استنسخ مستودعا، وابنِ عملا عليه</div></div>
<div class="paragraph">
<p>ثم جاء شخصٌ آخر وصنع المزيد من الإيداعات، والتي شملت دمجًا، ثم دفعها إلى الخادوم المركزي.
فقمت باستحضار (<code>fetch</code>) الفرع البعيد الجديد ودمجه في عملك، فصار تاريخك مثل الآتي:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/perils-of-rebasing-2.png" alt="استحضر المزيد من الإيداعات، وادمجها في عملك">
</div>
<div class="title">شكل ٤٥. استحضر المزيد من الإيداعات، وادمجها في عملك</div></div>
<div class="paragraph">
<p>بعدئذ، قرر الذي دفع العمل المدموج أن يتراجع ويعيد تأسيس عمله بدل دمجه، فدفع بالقوة (<code>git push --force</code>) لإعادة ك‍تابة التاريخ على الخادوم.
ثم استحضرت (<code>fetch</code>) من هذا الخادوم، جالبًا الإيداعات الجديدة.</p>
</div>
<div id="_pre_merge_rebase_work" class="imageblock">
<div class="content">
<img src="images/perils-of-rebasing-3.png" alt="شخصٌ يدفع إيداعات معاد تأسيسها، هاجرًا بذلك الإيداعات التي بنيت عليها عملك">
</div>
<div class="title">شكل ٤٦. شخصٌ يدفع إيداعات معاد تأسيسها، هاجرًا بذلك الإيداعات التي بنيت عليها عملك</div></div>
<div class="paragraph">
<p>كلاكما الآن في مأزق.
فإذا جذبت، ستصنع إيداع دمج يضم كلا التاريخين، وسيبدو مستودعك مثل هذا:</p>
</div>
<div id="_merge_rebase_work" class="imageblock">
<div class="content">
<img src="images/perils-of-rebasing-4.png" alt="عندما تدمج العمل نفسه مجددا في إيداع دمج جديد">
</div>
<div class="title">شكل ٤٧. عندما تدمج العمل نفسه مجددا في إيداع دمج جديد</div></div>
<div class="paragraph">
<p>فإذا نظرت في السجل <code>git log</code> عندما يصير تاريخك كهذا، فسترى إيداعين متطابقين في اسم المؤلف وتاريخ الإيداع ورسالته، فيسبب اللَبس.
وأضف إلى ذلك أنك إذا دفعت هذا التاريخ إلى الخادوم، فستعيد تقديم كل هذه الإيداعات المعاد تأسيسها إلى الخادوم المركزي من جديد، والذي سيسبّب لبسًا لأكثر للناس.
يمكننا الافتراض أن المطور الآخر لا يريد الإيداعين <code>C4</code> و <code>C6</code> في التاريخ، ولذا أعاد تأسيسهما.</p>
</div>
</div>
<div class="sect3">
<h4 id="_rebase_rebase">أعد التأسيس عندما تعيد التأسيس</h4>
<div class="paragraph">
<p>إذا <strong>وجدت</strong> نفسك في مثل هذا الموقف، فلدى جت وسائل سحرية أخرى قد تساعدك.
فلو أن زميلك دفع بالقوة تعديلاتٍ تعيد ك‍تابة عمل بنيتَ عليه، فالتحدي هو أن تعرف ما هو عملك وما الذي أعاد ك‍تابته ذاك الشخص.</p>
</div>
<div class="paragraph">
<p>الخبر الجميل أن جت لا يحسب للإيداع وحده بصمة SHA-1، ولكن يحسبها أيضا للرُقعة (الفروقات) التي صنعها ذلك الإيداع.
وهذه البصمة تسمى «معرِّف الرقعة» (‪&#8220;patch-id&#8221;‬).</p>
</div>
<div class="paragraph">
<p>فإذا جذبت عملا معاد ك‍تابته وأعدت تأسيسه على الإيداعات الجديدة من زميلك، فغالبا سينجح جت في تمييز ما هو عملك الفريد ويطبّقه على الفرع الجديد.</p>
</div>
<div class="paragraph">
<p>فمثلا في الموقف الافتراضي السابق، لو أننا أعدنا التأسيس (بالأمر <code>git rebase teamone/master</code>)، بدل الدمج عندما كنا في خطوة «<a href="#_pre_merge_rebase_work">شخصٌ يدفع إيداعات معاد تأسيسها، هاجرًا بذلك الإيداعات التي بنيت عليها عملك</a>»، فإن جت سوف:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>يحدد العمل الذي تفرّد به فرعنا (<code>C2</code>،&#x200f; <code>C3</code>،&#x200f; <code>C4</code>،&#x200f; <code>C6</code>،&#x200f; <code>C7</code>)</p>
</li>
<li>
<p>يحدد ما الذي ليس بإيداعات دمج (<code>C2</code>،&#x200f; <code>C3</code>،&#x200f; <code>C4</code>)</p>
</li>
<li>
<p>يحدد ما الذي لم تُعد ك‍تابته في الفرع المستهدف (فقط <code>C2</code> و <code>C3</code>، لأن <code>C4</code> له رقعة <code>C4'</code> نفسها)</p>
</li>
<li>
<p>يطبّق هذه الإيداعات على فرع <code>teamone/master</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>فبدلا مما رأينا في «<a href="#_merge_rebase_work">عندما تدمج العمل نفسه مجددا في إيداع دمج جديد</a>»، سنحصل على نتيجة مثل «<a href="#_rebase_rebase_work">أعد التأسيس على عمل معاد تأسيسه ومدفوع بالقوة</a>».</p>
</div>
<div id="_rebase_rebase_work" class="imageblock">
<div class="content">
<img src="images/perils-of-rebasing-5.png" alt="أعد التأسيس على عمل معاد تأسيسه ومدفوع بالقوة">
</div>
<div class="title">شكل ٤٨. أعد التأسيس على عمل معاد تأسيسه ومدفوع بالقوة</div></div>
<div class="paragraph">
<p>لن ينجح هذا إلا إذا كان الإيداعان <code>C4</code> و <code>C4'</code> اللذين صنعهما زميلك لهما الرقعة نفسها تقريبا،
وإلا فلن يعرف جت عندما يعيد التأسيس أنهما متطابقين وسيضيف رقعة أخرى شبيهة بالإيداع <code>C4</code> (والتي غالبا ستفشل في أن تُطبَّق بنظافة، لأن تعديلاتها ستكون مطبقة بالفعل ولو جزئيا).</p>
</div>
<div class="paragraph">
<p>ويمكنك أن تختصر هذا باستعمال خيار إعادة التأسيس <code>--rebase</code> مع أمر الجذب، أي تنفيذ <code>git pull --rebase</code> بدلا من <code>git pull</code> المجرد.
أو يمكنك فعل ذلك يدويا بالاستحضار <code>git fetch</code> ثم إعادة التأسيس، أي تنفيذ <code>git rebase teamone/master</code> في هذه الحالة.</p>
</div>
<div class="paragraph">
<p>وإذا كنت تستخدم <code>git pull</code> وتريد جعل خيار <code>--rebase</code> خيارًا مفترضًا دومًا، يمكنك تفعيل قيمة التهيئة <code>pull.rebase</code> بأمر مثل <code>git config --global pull.rebase true</code>.</p>
</div>
<div class="paragraph">
<p>إذا كنت أبدا لا تعيد تأسيس إلا الإيداعات التي لم تغادر حاسوبك، فستكون بخير.
وإن كنت تعيد تأسيس إيداعات قد دفعتها، ولكن لم يبنِ عليها أحدٌ آخر إيداعاتٍ، فستكون بخير أيضا.
أما إن كنت تعيد تأسيس إيداعات قد دفعتها إلى العالَم وربما بنى عليها الناس أعمالا، فقد تجد نفسك في ورطة مُغيظة منهِكة، ثم ازدراء زملائك لك.</p>
</div>
<div class="paragraph">
<p>إن وجدت أنت أو زميلٌ لك أن ذلك ضروري يومًا ما، تأكد أن الجميع يعرفون استخدام <code>git pull --rebase</code>، لكي تحاول جعل معاناة ما بعد الحادثة أقل سوءًا ولو قليلا.</p>
</div>
</div>
<div class="sect3">
<h4 id="_بين_إعادة_التأسيس_والدمج">بين إعادة التأسيس والدمج</h4>
<div class="paragraph">
<p>
الآن وقد رأيت إعادة التأسيس والدمج عمليًّا، قد تتساءل أيهما أفضل.
قبل أن نستطيع الإجابة عن هذا السؤال، لنرجع إلى الوراء قليلا ونتحدث عن معنى التاريخ.</p>
</div>
<div class="paragraph">
<p>إحدى وجهتَي النظر أن تاريخ إيداعات مستودعك هي <strong>سجل لما حدث فعلا.</strong>
أي أنها وثيقة تاريخية، ولها قيمة في ذاتها، ويجب ألا يُعبث بها.
فمن هذا المنظور، يكاد يُعدّ تغيير تاريخ الإيداعات استهزاءً ومسبّة، لأنك <em>تكذب</em> بشأن ما حدث فعلا.
إذًا ماذا لو كانت لدينا فوضى من إيداعات الدمج؟
هكذا جرت الأمور، ويجب أن يحتفظ بها المستودع من أجل الأجيال القادمة.</p>
</div>
<div class="paragraph">
<p>وجهة النظر المقابلة هي أن تاريخ الإيداعات هو <strong>قصة صناعة مشروعك.</strong>
ولأنك لا تنشر المسودة الأولى من ك‍تاب، فلم إذًا تنشر عملًا أشعث أغبر؟
ففي أثناء عملك على مشروع، قد تحتاج سجلا لجميع عثراتك وطرقك المسدودة. ولكن عندما يحين وقت إظهار عملك إلى العالم، فقد تود أن تحكي قصةً متماسكة عن كيفية الوصول من «أ» إلى «ب».
ولذلك يستخدم أصحاب هذا المذهب أدوات مثل إعادة التأسيس وتصفية الفروع لإعادة ك‍تابة إيداعاتهم قبل دمجها في الفرع الرئيس،
يستخدمون <code>rebase</code> و <code>filter-branch</code> ليحكون القصة بالطريقة الأنسب للقراء في المستقبل.</p>
</div>
<div class="paragraph">
<p>لنعد الآن إلى السؤال عن التفضيل بين الدمج وإعادة التأسيس: لعلك وجدت أنه أعقد من أن تكون له إجابة يسيرة.
فإن جت أداةٌ قوية، ويتيح لك فعل الكثير بتاريخ مستودعك، ولكن كل فريق وكل مشروع هو حالة خاصة.
الآن وقد علمت الأسلوبين وطريقة عملهما، عليك أن تقرر بنفسك ما الأنسب لحالتك الخاصة.</p>
</div>
<div class="paragraph">
<p>ويمكنك الجمع بين ميزات كليهما: أعد تأسيس التعديلات المحلية قبل دفعها حتى تنظف عملك، ولكن لا تعد أبدًا تأسيس أي شيء دفعته إلى مستودعٍ ما.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_الخلاصة_3">الخلاصة</h3>
<div class="paragraph">
<p>تناولنا أسس التفريع والدمج في جت.
ينبغي أن يَسهُل عليك الآن إنشاء فروع جديدة والانتقال إليها والانتقال بين الفروع ودمج فروع محلية معًا.
ستقدر أيضا على مشاركة فروعك بدفعها إلى مستودع مشترك، وعلى العمل مع آخرين على فروع مشتركة، وعلى إعادة تأسيس فروعك قبل مشاركتها.
التالي: سنتحدث عما تحتاج لتشغيل خادومك الخاص بك لاستضافة مستودعات جت.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch04-git-on-the-server">الباب الرابع: جت على الخادوم</h2>
<div class="sectionbody">
<div class="paragraph">
<p>
تستطيع الآن فعل معظم مهامك اليومية التي تستخدم فيها جت.
ولكن عليك استعمال مستودع بعيد لأي عمل تعاوني به.
ومع أنك نظريا تستطيع دفع التعديلات إلى مستودعات الآخرين الشخصية المحلية والجذب منها، إلا أن فعل هذا متجنَّب لأن من السهل التسبب في خلط الأمور ومَن يعمل على ماذا، إن لم تكن حذرا.
وكذلك إذا أردت أن يصل زملاؤك إلى مستودعك حتى عندما يكون حاسوبك مغلقًا أو غير متصل بالشبكة؛ فكثيرا ما يفيد وجود مستودع مشترك مضمون.
لذا فالمستحب للتعاون مع غيرك أن تعدّ مستودعًا وسيطًا يستطيع كلاكما الوصول إليه، وتجذبا منه وتدفعا إليه.</p>
</div>
<div class="paragraph">
<p>تشغيل خادوم جت عملية يسيرة.
أولًا تحدد الموافيق (البروتوكولات) التي تريد منه دعمها.
وسيتناول الفصل الأول من هذا الباب الموافيق المتاحة ومزايا وعيوب كل منها.
ثم تشرح الفصول التالية بعض الترتيبات المعتادة العاملة بهذه الموافيق وكيف تشغّل خادومك بها.
وأخيرا سنرى بعض الخيارات المستضافة، إذا لم تمانع استضافة مشاريعك البرمجية على خواديم الآخرين وكنت لا تريد المعاناة بإعداد خادومك الخاص ورعايته.</p>
</div>
<div class="paragraph">
<p>إن لم تكن مهتمًا بتشغيل خادومك الخاص، فيمكنك تخطي هذه الفصول والانتقال إلى الفصل الأخير من هذا الباب، الذي يريك بعض الخيارات لإعداد حساب مستضاف، ثم انتقل إلى الباب التالي، الذي نناقش فيه التفاصيل الدقيقة المختلفة للعمل في بيئة إدارة موزعة للنسخ.</p>
</div>
<div class="paragraph">
<p>المستودع البعيد هو عموما مستودع <em>مجرد</em>، أيْ مستودع جت ليس له مجلد عمل.
ولأن المستودع لا يُستعمل إلا ملتقًى للتعاون، فلا داعي إلى سحب لقطة منه على الحاسوب؛ إنما هو لبيانات جت وحدها.
أي بأيسر الكلمات: المستودع المجرد هو محتويات مجلد <code>.git</code> الخاص بمشروعك، ولا شيء غير ذلك.</p>
</div>
<div class="sect2">
<h3 id="_الموافيق_البروتوكولات">الموافيق (البروتوكولات)</h3>
<div class="paragraph">
<p>يتيح جت أربعة موافيق مختلفة لنقل البيانات: المحلي، و HTTP، و SSH (أي Secure Shell)، و Git.
سنناقش ما هم وما الظروف التي فيها ستود (أو لا تود) استعمالهم.</p>
</div>
<div class="sect3">
<h4 id="_الميفاق_المحلي">الميفاق المحلي</h4>
<div class="paragraph">
<p>
الأكثر بدائية هو <em>الميفاق المحلي</em> (‪&#8220;Local protocol&#8221;‬)، الذي يكون المستودع البعيد فيه هو مجلد آخر على الحاسوب نفسه.
ويُستعمل غالبا إذا كان كل مَن في فريقك لديه وصول إلى نظام ملفات مشترك مثل <a href="https://en.wikipedia.org/wiki/Network_File_System" target="_blank" rel="noopener">NFS</a> مضموم (mounted)، أو في الحالة الأندر أن يكون كل شخص مستخدما لحاسوب واحد.
ولكن تلك الأخيرة ليست حالة مثالية لأن وقتئذٍ ستبيت كل مشاريعك البرمجية على جهاز واحد، وهذا يُزيد احتمال فقد البيانات فقدا كارثيا.</p>
</div>
<div class="paragraph">
<p>إذا كان لديك نظام ملفات مشترك مضموم، فيمكنك إذًا استنساخ مستودع محلي مكوَّن من ملفات عادية، والدفع إليه، والجذب منه.
فلاستنساخ مستودع مثل هذا، أو لإضافته مستودعًا بعيدًا في مشروع موجود بالفعل، فاستعمل مسار المستودع كأنه رابط URL.
مثلا، لاستنساخ مستودع محلي، يمكنك فعل شيء مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone /srv/git/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>أو مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone file:///srv/git/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>ولكن تصرف جت يختلف قليلا إذا بدأت العنوان بالميفاق <code>file://</code> صريحا.
فإذا كتبت المسار فقط، فإن جت يحاول صنع روابط صلبة (hardlinks) أو نسخ الملفات التي يحتاجها مباشرةً.
أما إذا كتبت <code>file://</code>، فإن جت ينفّذ العمليات التي يستعملها في المعتاد لنقل الملفات عبر الشبكة، ويكون هذا في الغالب أقل كثيرا في الكفاءة.
السبب الرئيسي لك‍تابة البادئة <code>file://</code> هي إذا كنت تريد نسخة نظيفة من المستودع بغير الإشارات أو الكائنات الإضافية&#8201;&#8212;&#8201;وغالبا ما يكون ذلك بعد الاستيراد من نظام إدارة نسخ آخر أو أمر شبيه (انظر <s>دواخل جت</s> لعمليات الصيانة).
سنستعمل المسار العادي هنا لأنه أسرع في أغلب الأحيان.</p>
</div>
<div class="paragraph">
<p>لإضافة مستودع محلي إلى مشروع جت موجود، نفّذ أمرًا مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote add local_proj /srv/git/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>عندئذٍ يمكنك الدفع إلى ذلك البعيد والجذب منه بالاسم المختصر الجديد <code>local_proj</code> كما كنت تفعل تمامًا عبر الشبكة.</p>
</div>
<div class="sect4">
<h5 id="_المزايا">المزايا</h5>
<div class="paragraph">
<p>مزايا المستودعات «الملفاتية» أنها سهلة وتستعمل تصاريح الملفات واتصال الشبكة الموجودين فعلا.
وإذا كان لديك نظام ملفات مشترك يصل إليه جميع فريقك، فإعداد مستودع عملية سهلة جدا:
تضع نسخة المستودع المجرد في مكانٍ يستطيع الجميع الوصول إليه، وتضبط أذونات القراءة والتحرير كما تفعل لأي مجلد مشترك آخر.
سنناقش كيفية تصدير نسخة مستودع مجردة لهذا الهدف في <a href="#_getting_git_on_a_server">تثبيت جت على خادوم</a>.</p>
</div>
<div class="paragraph">
<p>هذا أيضا خيار ظريف وسريع لجلب عمل شخص آخر من مستودعه.
فإذا كنت وزميلك تعملان على مشروع واحد ويريدك أن تسحب شيئا ما، فتنفيذ أمر مثل <code>git pull <nobr>/home/badr/project</nobr></code> أسهل كثيرا في الغالب من أن يدفع عمله إلى خادوم بعيد ثم تستحضره أنت بعد ذلك.</p>
</div>
</div>
<div class="sect4">
<h5 id="_العيوب">العيوب</h5>
<div class="paragraph">
<p>عيوب هذه الطريقة هي أن الوصول المشترك غالبا ما يكون أصعب كثيرا من الوصول الشبكي العادي، في إعداده وفي الوصول إليه من أماكن مختلفة.
فإذا أردت أن تدفع من حاسوبك المحمول عندما تكون في المنزل، فستحتاج إلى ضم القرص البعيد، وهذا قد يكون صعبًا وبطيئًا مقارنةً بوصول عبر الشبكة.</p>
</div>
<div class="paragraph">
<p>من المهم ذكر أن هذا ليس بالضرورة الخيار الأسرع إذا كنت تستعمل نوعًا من الضم (mount) المشترك.
فالمستودع المحلي لا يكون سريعا إلا إذا كان لديك وصول سريع إلى البيانات.
فإن مستودع على NFS يكون في الغالب أبطأ من مستودع عبر SSH على الخادوم نفسه، بفرض أن جت يعمل من الأقراص المحلية في كل نظام.</p>
</div>
<div class="paragraph">
<p>وأخيرا، لا يحمي هذا الميفاق المستودعَ من الإتلاف غير المقصود.
فكل مستخدم لديه وصول صَدفي كامل للمجلد «البعيد»، فلا شيء يمنعه من تعديل ملفات جت الداخلية أو إزالتها وتخريب المستودع.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ميفاقا_http">ميفاقا HTTP</h4>
<div class="paragraph">
<p>يستطيع جت التواصل عبر HTTP بطريقتين مختلفتين.
لم يعرف جت قبل النسخة 1.6.6 منه إلا واحدة منهما، وكانت ساذجة جدا وعموما للقراءة فقط.
ولكن في نسخة 1.6.6، جاء ميفاق جديد جعل جت يتفاوض بذكاء في شأن نقل البيانات، بطريقة تشبه ما كان يفعل عبر SSH.
وصار ميفاق HTTP الجديد هذا في الأعوام الأخيرة أشهر كثيرا لأنه أيسر للمستخدم وأذكي في تواصله.
فانتشرت تسمية النسخة الجديدة «ميفاق HTTP <em>الذكي</em>» (Smart HTTP)، والقديمة «ميفاق HTTP <em>البليد</em>» (Dumb HTTP).
وسنتناول الميثاق الذكي أولا.</p>
</div>
<div class="sect4">
<h5 id="_ميفاق_http_الذكي">ميفاق HTTP الذكي</h5>
<div class="paragraph">
<p>
يعمل الميفاق الذكي بطريقة كبيرة الشبه بميفاقَي SSH و Git، لكنه يعمل عبر منافذ HTTPS (الآمن) المعيارية ويستعمل آليّات استيثاق HTTP المتنوعة، ما يعني أنه غالبا أسهل للمستخدم من شيء مثل SSH، لأنك مثلا تستطيع استعمال اسم المستخدم وكلمة المرور بدلا من الاضطرار إلى إعداد مفاتيح SSH.</p>
</div>
<div class="paragraph">
<p>لعله أشهر طريقة لاستعمال جت اليوم، لأن من الممكن إعداده ليتيح المستودع بغير هُوية مثل ميفاق Git، وكذلك ليتيح الدفع إليه بهُوية وتعمية مثل ميفاق SSH.
فبدلا من الاضطرار إلى إعداد رابطَين (URL) مختلفين للعمليتين، يمكنك الآن استعمال رابط واحد لكليهما.
وإذا حاولت الدفع فطلبَ المستودعُ الاستيثاقَ منك (وهو ما يجب أن يحدث في المعتاد)، فسيسألك الخادوم عن اسم المستخدم وكلمة المرور.
والأمر نفسه للقراءة وحدها.</p>
</div>
<div class="paragraph">
<p>وفي الواقع، في خدمات مثل جت‌هب، الرابط الذي تستعمله لتصفح المستودع عبر المتصفح (مثلا <a href="https://github.com/schacon/simplegit" class="bare" target="_blank" rel="noopener">https://github.com/schacon/simplegit</a>) يمكنك استعماله هو نفسه للاستنساخ، وكذلك للدفع إليه إذا كان لديك الإذن.</p>
</div>
</div>
<div class="sect4">
<h5 id="_ميفاق_http_البليد">ميفاق HTTP البليد</h5>
<div class="paragraph">
<p>
إن لم يستجب الخادوم لطلب ميفاق HTTP الذكي من جت، فسيحاول عميل جت استعمال ميفاق HTTP <em>البليد</em> الأيسر.
يتوقع الميفاق البليد أن يقدَّم له مستودع جت المجرد كما تُقدَّم الملفات العادية من خادوم الوب.
فجمال الميفاق البليد هو سهولة إعداده.
فليس عليك إلا وضع مستودع جت مجرد في مكانٍ ما في جذر مستندات HTTP، وإعداد خطاف <code>post-update</code>، وتكون قد أتممت المهمة (انظر <s>خطاطيف جت</s>).
عندئذٍ يستطيع استنساخ المستودع كل مَن يستطيع الوصول إلى خادوم الوب الذي وضعته عليه.
فللسماح بقراءة مستودعك عبر HTTP، افعل شيئًا مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /var/www/htdocs/
$ git clone --bare /path/to/git_project gitproject.git
$ cd gitproject.git
$ mv hooks/post-update.sample hooks/post-update
$ chmod a+x hooks/post-update</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا كل ما في الأمر.
وخطاف <code>post-update</code> الذي يأتي مبدئيا مع جت ينفذ الأمر المناسب (<code>git update-server-info</code>) لجعل الاستحضار والاستنساخ عبر HTTP يعمل بطريقة صحيحة.
ويعمل هذا الأمر عندما تدفع إلى المستودع (عبر SSH مثلا). عندئذٍ يستطيع الآخرون الاستنساخ بمثل هذا الأمر:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://example.com/gitproject.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>نستعمل في حالتنا هذه مسار <code>/var/www/htdocs</code> وهو الشائع مع خواديم Apache. لكن يمكنك استعمال أي خادوم وب سكونيّ (استاتيكي)؛ ليس عليك سوى وضع المستودع المجرد في مساره،
فبيانات جت تقدَّم لطالبها مثل أي ملفات ساكنة عادية (انظر باب <s>دواخل جت</s> للتفاصيل عن كيف تُقدَّم بالتحديد).</p>
</div>
<div class="paragraph">
<p>وفي العموم ستختار إما تشغيل خادوم HTTP ذكي للقراءة والتحرير، وإما جعل الملفات متاحة للقراءة فقط بالطريقة البليدة.
فمن النادر تشغيل نوعَي الخدمتين معا.</p>
</div>
</div>
<div class="sect4">
<h5 id="_المزايا_2">المزايا</h5>
<div class="paragraph">
<p>سنركز على مزايا النسخة الذكية من ميفاق HTTP.</p>
</div>
<div class="paragraph">
<p>بساطة الرابط الواحد للوصول بنوعيه تسهّل الأمور كثيرا على المستخدم النهائي، وكذلك عدم الاستثياق إلا عند الحاجة.
والاستيثاق باسم مستخدم وكلمة مرور لهو أيضا مزية كبيرة فيه على SSH، فلا يحتاج المستخدمون أن يوّلدوا مفاتيح SSH محليًّا ثم يرفعوا مفاتيحهم العمومية إلى الخادوم ليسمح لهم بالتواصل.
وإن هذه لمزية عظيمة في قابلية الاستخدام، للمستخدمين الأقل حنكة، وللمستخدمين على أنظمة عليها SSH غير موجود أو غير شائع.
وهو أيضا كفؤ وسريع جدا، مثل SSH.</p>
</div>
<div class="paragraph">
<p>ويمكنك كذلك إتاحة مستودعاتك للقراءة فقط عبر HTTPS الآمن، ما يعني أن بإمكانك تعمية المحتوى خلال نقله، أو حتى جعل العملاء يستعملون شهادات SSL موقّعة مخصوصة.</p>
</div>
<div class="paragraph">
<p>شيء جميل آخر هو أن HTTP و HTTPS مستعملان بكثرة حتى إن الجدران النارية (firewalls) الخاصة بالمؤسسات تُضبط في الغالب لتتيح مرورهما عبر منافذها.</p>
</div>
</div>
<div class="sect4">
<h5 id="_العيوب_2">العيوب</h5>
<div class="paragraph">
<p>قد يكون إعداد جت عبر HTTPS أصعب قليلا من SSH على بعض الخواديم.
ولكن غير ذلك، فلا تكاد توجد مزية لأحد الموافيق الأخرى على HTTP الذكي في تقديم محتوى جت.</p>
</div>
<div class="paragraph">
<p>فإذا كنت تستعمل HTTP للدفع المستوثَق، فإعطاء اسم المستخدم وكلمة المرور قد يكون في بعض الأحيان أعقد قليلا من استعمال المفاتيح عبر SSH.
ولكن توجد عدة أدوات للاحتفاظ بهما يمكنك استعمالها لجعل العملية أخف كثيرا، مثل Keychain Acess على نظام ماك أو إس و Credential Manager على نظام ويندوز.
اقرأ <s>Credential Storage</s> لترى كيف تضبط نظامك للاحتفاظ بكلمة مرور HTTP آمن على نظامك.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ميفاق_ssh">ميفاق SSH</h4>
<div class="paragraph">
<p>
النقل عبر SSH شائع عند استضافة جت ذاتيا.
هذا لأن معظم الخواديم مُعدَّة فعلا لقَبول الوصول عبره، وإن لم تكن معدة فإعدادها سهل.
أيضا SSH هو ميفاق شبكي استيثاقي، ويوجد في كل مكان، وسهل عموما إعداده واستعماله.</p>
</div>
<div class="paragraph">
<p>لاستنساخ مستودع جت عبر SSH، استعمل رابط <code>ssh://</code> مثل:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone ssh://[user@]server/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>أو استعمل الصيغة المختصرة شبيهة <code>scp</code> لميفاق SSH:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone [user@]server:project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>وفي كلتا الحالتين، إن لم تحدد اسم المستخدم الاختياري، فسيعدّه جت مطابقًا لاسم مستخدم النظام الحالي على حاسوبك.</p>
</div>
<div class="sect4">
<h5 id="_المزايا_3">المزايا</h5>
<div class="paragraph">
<p>مزايا SSH عديدة.
أولا، سهل الإعداد نسبيا؛ فعفاريته (daemons) منتشرة، ولأكثر مديري الشبكات خبرة فيها، وأغلب أنظمة التشغيل تأتي بها معدَّة أو بأدوات لإدراتها.
ثانيا، التواصل عبره آمن؛ فكل البيانات تُنقل بعد التعمية والاستيثاق.
وأخيرا، إنه كفؤ، فيجعل البيانات ذات أقل حجم ممكن قبل نقلها، مثل موافيق HTTPS و Git والمحلي.</p>
</div>
</div>
<div class="sect4">
<h5 id="_العيوب_3">العيوب</h5>
<div class="paragraph">
<p>نقيصة SSH أنه لا يدعم وصول المجهولين إلى مستودعك.
فإذا كنت تستعمل SSH، <em>فيجب</em> على الناس الحصول على وصول SSH لجهازك، حتى لرؤيتها فحسب، وهذا لا يجعل SSH مستحسَنًا للمشروعات المفتوحة، التي يود الناس أن يستنسخوها للنظر فيها فقط.
أما إذا كنت لا تستعمله إلا داخل شبكة مؤسستك، فقد يكون SSH هو الميفاق الوحيد الذي تحتاج إلى التعامل معه.
وإذا وددت أن تأذن للمجهولين بالاطلاع فقط على مشروعاتك ولكن تريد SSH أيضا، فعليك إعداد SSH للدفع ثم إعداد ميفاق آخر للآخرين حتى يستحضروا منه.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ميفاق_git">ميفاق Git</h4>
<div class="paragraph">
<p>
أخيرا، لدينا ميفاق Git.
هذا عفريت (daemon) مخصوص مرفق مع جت، ويستمع على منفذ مخصص (9418) ليتيح خدمة شبيهة بميفاق SSH، لكن بغير استيثاق أو تعمية.
وعليك إنشاء ملف اسمه <code>git-daemon-export-ok</code> في مستودعك لتجعل جت يقدّمه عبر ميفاق Git؛ فالعفريت لن يقدّم مستودعًا ليس فيه هذا الملف، ولكن غير ذلك لا يوجد أمان.
إما أن يكون المستودع متاحا للجميع لاستنساخه، وإما لا يكون.
هذا يعني أنه عموما لا يمكن الدفع عبر هذا الميفاق.
يمكنك تفعيل إذن الدفع، ولكن لانعدام الاستيثاق، فأي شخص على الإنترنت يجد رابط مشروعك يستطيع الدفع إليه.
يكفي أن نقول أن هذا نادر.</p>
</div>
<div class="sect4">
<h5 id="_المزايا_4">المزايا</h5>
<div class="paragraph">
<p>ميفاق Git غالبا ما يكون أسرع ميفاق نقل شبكي متاح.
فإن كنت تخدم كمًّا كبيرًا من النقل الشبكي لمشروع عمومي، أو تقدّم مشروعًا كبيرًا لا يحتاج استيثاق المستخدمين للاطلاع عليه، فغالبا ستودّ إعداد عفريت جت ليقدّمه.
فهو يستعمل الآلية نفسها التي يستعملها SSH لنقل البيانات، لكن بغير عبء التعمية والاستيثاق.</p>
</div>
</div>
<div class="sect4">
<h5 id="_العيوب_4">العيوب</h5>
<div class="paragraph">
<p>بسبب عدم وجود TLS أو أي نوع من التعمية، فإن الاستنساخ عبر <code>git://</code> قد يسبب ثغرة تنفيذ تعليمات برمجية عشوائية (arbitrary code execution)، لذا ينبغي تجنبه إلا إن كنت تعي جيدا ماذا تفعل.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>عندما تنفذ <code>git clone git://example.com/project.git</code>، فإن مخترقا يتحكم في جهاز التوجيه (router) الخاص بك سيستطيع تعديل المستودع الذي استنسخته للتو، مثلا يضيف تعليمات برمجية خبيثة فيه.
وعندما تصرّف (compile) أو تشغل ما في هذا المستودع الذي استنسخته للتو، فستنفذ تلك التعليمات البرمجية الخبيثة.
 ابتعد عن تنفيذ <code>git clone http://example.com/project.git</code> للسبب نفسه (أي ميفاق HTTP غير الآمن).</p>
</li>
<li>
<p>تنفيذ <code>git clone https://example.com/project.git</code> (الآمن) لا يعاني من تلك العلة (إلا إن استطاع المخترق أن يحضر شهادة TLS للنطاق الذي تتصل به، <code>example.com</code> في هذا المثال).<br>
تنفيذ <code>git clone git@example.com:project.git</code> (بميفاق SSH) لا يعاني من تلك العلة أيضا، إلا إن كنت قبلت بصمة مفتاح SSH خاطئة.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>وكذلك لا يدعم الاستيثاق، فأي أحد سيستطيع استنساخ المستودع (ولكن غالبا هذا ما تريده بالتحديد).
ولعله أيضا من أصعب الموافيق في الإعداد.
فيجب أن يشغّل عفريته الخاص، الذي يحتاج تهيئة <code>xinetd</code> أو <code>systemd</code> أو ما يشبههما. وليس هذا يسيرًا دائما.
ويحتاج أيضا وصولًا عبر الجدار الناري إلى منفذ 9418، وهذا ليس منفذًا معتادًا تسمح به دائما الجدران النارية الخاصة بالمؤسسات؛
فخلف تلك الجدران الكبيرة، هذا المنفذ الغامض غالبا ما يُحظر.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_getting_git_on_a_server">تثبيت جت على خادوم</h3>
<div class="paragraph">
<p>سنتناول الآن إعداد خدمة جت لتشغيل هذه الموافيق على خادومك.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>سنعرض هنا الأوامر والخطوات اللازمة لتثبيت أساسي مبسط على خادوم لينكسي، لكن ممكن أيضا تشغيل هذه الخدمات على ماك أو إس أو ويندوز.
وفي الحقيقة إعداد خادوم إنتاجي ضمن بنيتك التحتية بالتأكيد سيشمل اختلافات في التدابير الأمنية أو أدوات نظام التشغيل، ولكننا نرجو أن يعطيك هذا فكرة عامة عما ينطوي عليه الأمر.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>حتى تعد أي خادوم جت، عليك أولا تصدير مستودع موجود إلى مستودع جديد مجرد، والمستودع المجرد هو مستودع ليس فيه مجلد عمل.
هذا في المعتاد عملية سهلة.
فلاستنساخ مستودع لإنشاء مستودع جديد مجرد، نفّذ أمر الاستنساخ بالخيار <code>--bare</code> («مجرد»):
والعُرف أن أسماء مجلدات المستودعات المجردة تنتهي باللاحقة <code>.git</code>، مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone --bare my_project my_project.git
Cloning into bare repository 'my_project.git'...
done.</code></pre>
</div>
</div>
<div class="paragraph">
<p>سيكون لديك الآن نسخة من بيانات مجلد جت في مجلد <code>my_project.git</code>.</p>
</div>
<div class="paragraph">
<p>هذا يكافئ تقريبا شيئا مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cp -Rf my_project/.git my_project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>توجد بعض الاختلافات الطفيفة في ملف التهيئة (‪&#8220;config&#8221;‬)، ولكن لغرضنا اليوم فيكادا يتطابقان.
فهذا الأخير يأخذ مستودع جت وحده بغير مجلد عمله وينشئ مجلدا مخصصا له وحده.</p>
</div>
<div class="sect3">
<h4 id="_bare_repo">وضع المستودع المجرد على خادوم</h4>
<div class="paragraph">
<p>الآن وقد صار لديك نسخة مجردة من مستودعك، فلا تحتاج سوى وضعه على الخادوم وضبط الموافيق (البروتوكولات).
لنقُل إنك أعددت خادوما يسمى <code>git.example.com</code>، ولديك وصول SSH له، وتريد تخزين كل مستودعات جت الخاصة بك في مجلد <code>/srv/git</code> فيه.
إذا كان مجلد <code>/srv/git</code> موجودا على هذا الخادوم، يمكنك إعداد مستودعك الجديد بنسخ مستودعك المجرد إليه:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ scp -r my_project.git user@git.example.com:/srv/git</code></pre>
</div>
</div>
<div class="paragraph">
<p>يستطيع الآن المستخدمين الذين لديهم إذن قراءة مجلد <code>/srv/git</code> عبر SSH أن يستنسخوا مستودعك بالأمر:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone user@git.example.com:/srv/git/my_project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>وإذا كان لمستخدمٍ إذن تحرير هذا المجلد، ودخل عبر SSH إلى الخادوم، فسيستطيع الدفع إليه متى شاء.</p>
</div>
<div class="paragraph">
<p>وسيضيف جت إذن التحرير للمجموعة إلى المستودع بطريقة صحيحة إذا استخدمت خيار <code>--shared</code> («مشترك») مع أمر الابتداء <code>git init</code>.
لاحظ أن هذا لن يُتلف أي إيداعات أو إشارات أو أي شيء آخر.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ssh user@git.example.com
$ cd /srv/git/my_project.git
$ git init --bare --shared</code></pre>
</div>
</div>
<div class="paragraph">
<p>قد رأيت كم هو سهل إنشاء نسخة مجردة من مستودع جت ووضعها على خادوم عندكم وصول SSH إليه.
فيمكنكم الآن التعاون في مشروع واحد.</p>
</div>
<div class="paragraph">
<p>مهمٌ ملاحظة أنك حقا لا تحتاج غير هذا لتشغيل خادوم جت مفيد يصل إليه العديدون: تنشئ حسابات SSH، وتضع مستودعًا مجردًا في مكانٍ للجميع إذن قراءته وتحريره.
وتمت العملية بنجاح؛ لا شيء آخر مطلوب.</p>
</div>
<div class="paragraph">
<p>سنرى في الفصول القليلة التالية كيف يمكنك التوسع لإعدادات أكثر تعقيدا.
وسيشمل هذا عدم الاضطرار إلى إنشاء حساب مستخدم لكل مستخدم، وإضافة إذن القراءة للجميع للمستودعات، وإعداد واجهات الوب، والمزيد.
لكن تذكر أن للتعاون مع بعض الناس على مشروع خصوصي، كل ما <em>تحتاجه</em> هو خادوم SSH ومستودع مجرد.</p>
</div>
</div>
<div class="sect3">
<h4 id="_الترتيبات_الصغيرة_fixme">الترتيبات الصغيرة</h4>
<div class="paragraph">
<p>إذا كانت شركتك صغيرة أو كنت تجرب جت في مؤسسة ولستم إلا عددا قليلا من المطورين، فقد تكون الأمور يسيرة عليك.
فأحد أعقد مناحي إعداد خادوم جت هو إدارة المستخدمين.
فإن أردت لبعض المستودعات ألا يقرأها إلا مستخدمون معينون وألا يحررها إلا جماعة أخرى، فقد تجد ترتيب الأذونات والوصول أصعب.</p>
</div>
<div class="sect4">
<h5 id="_الوصول_عبر_ssh">الوصول عبر SSH</h5>
<div class="paragraph">
<p>
إذا كان لديك خادومٌ يستطيع جميع المطورين الوصول إليه عبر SSH، فمن الأسهل عموما إعداد مستودعك الأول عليه، لأنك بهذا لن تحتاج إلى عمل شيء تقريبا (كما شرحنا في الفصل السابق).
وإذا احتجت إلى أذونات وصول أعقد لمستودعاتك، فيمكنك تحقيقها بأذونات نظام الملفات العادية الخاص بنظام تشغيل خادومك.</p>
</div>
<div class="paragraph">
<p>وإذا أردت وضع مستودعاتك على خادوم ليس فيه حساب لكل مطور يحتاج إذن التحرير في فريقك، فعليك إعداد وصول SSH لكلٍ منهم.
إذا كنت تريد فعل هذا على خادوم لديك، فسنفترض أن لديك بالفعل خادوم SSH مثبت عليه، وأنه وسيلتك للتواصل مع الخادوم الجهاز.</p>
</div>
<div class="paragraph">
<p>توجد أكثر من طريقة لإعطاء إذن الوصول لكل واحد في فريقك.
الأولى هي إعداد حساب لكل واحد، وهي عملية سهلة لكن قد تكون مرهقة.
فربما لا تريد تنفيذ <code>adduser</code> (أو بديله المحتمل <code>useradd</code>) والاضطرار إلى ضبط كلمة مرور مؤقتة لكل مستخدم جديد.</p>
</div>
<div class="paragraph">
<p>الطريقة الثانية هي إنشاء حساب مستخدم <code>git</code> واحد على الجهاز، وطلب مفتاح SSH العمومي من كل مستخدم تريد إعطاءه إذن التحرير، ثم إضافة هذه المفاتيح إلى ملف <code>~/.ssh/authorized_keys</code> في حساب <code>git</code> الجديد هذا.
وعندئذٍ سيستطيع كل شخص الوصول إلى ذلك الجهاز عبر حساب <code>git</code>.
وهذا لا يؤثر على بيانات الإيداعات بأي شكل؛ فحساب مستخدم SSH الذي تتصل عبره لا يؤثر على الإيداعات التي تسجلها.</p>
</div>
<div class="paragraph">
<p>طريقة أخرى هي أن يستوثق خادوم SSH الخاص بك من خادوم LDAP أو مصدر استيثاق مركزي آخر أعددته.
وما دام لكل مستخدم وصول صَدَفي إلى الجهاز، فأي آلية استيثاق SSH تخطر على بالك ستعمل.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_generate_ssh_key">توليد مفتاح SSH عمومي لك</h3>
<div class="paragraph">
<p>
العديد من خواديم جت تستوثق باستعمال مفاتيح SSH العمومية.
فعلى كل مستخدم توليد مفتاح إن لم يكن لديه مفتاح فعلا.
تتشابه هذه العملية عبر أنظمة التشغيل المختلفة.
أولا عليك التحقق أنك لا تملك مفتاحًا فعلا.
المكان المبدئي لتخزين مفاتيح SSH الخاصة بالمستخدم هو مجلد <code>~/.ssh</code>.
فانظر فيه لتعرف إذا كان لديك مفتاحٌ فعلا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~/.ssh
$ ls
authorized_keys2  id_dsa       known_hosts
config            id_dsa.pub</code></pre>
</div>
</div>
<div class="paragraph">
<p>عليك البحث عن ملفين اسم أحدهما يشبه <code>id_dsa</code> أو <code>id_rsa</code>، والآخر هو الاسم نفسه لكن بالامتداد <code>.pub</code>.
فملف <code>.pub</code> هو مفتاحك العمومي، والملف الآخر هو نظيره الخصوصي.
وإذا لم يكن لديك هذين الملفين (أو لم يكن لديك مجلد <code>.ssh</code> من الأساس)، فيمكنك إنشاءهما بتشغيل برنامج يسمى <code>ssh-keygen</code> («توليد مفتاح SSH»)، والذي يأتي مع حزمة SSH على أنظمة لينكس وماك أو إس ومع Git for Windows على ويندوز:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ssh-keygen -o
Generating public/private rsa key pair.
Enter file in which to save the key (/home/schacon/.ssh/id_rsa):
Created directory '/home/schacon/.ssh'.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/schacon/.ssh/id_rsa.
Your public key has been saved in /home/schacon/.ssh/id_rsa.pub.
The key fingerprint is:
d0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local</code></pre>
</div>
</div>
<div class="paragraph">
<p>هو أولا يتحقق المكان الذي تريد حفظ المفتاح فيه (<code>.ssh/id_rsa</code>)، ثم يطلب مرتين إدخال عبارة المرور (passphrase)، ويمكنك تركها فارغة إذا لم تشأ إدخال عبارة مرور عند استعمال المفتاح.
أما إذا أردتها، فعليك إضافة الخيار <code>-o</code>؛ فهو يحفظ المفتاح الخصوصي بصيغة أفضل من الصيغة المبدئية في مقاومة كسر عبارات المرور بالقوة العمياء.
ويمكنك أيضا استخدام أداة <code>ssh-agent</code> («عميل SSH») لمنع الحاجة إلى إدخال عبارة المرور في كل مرة.</p>
</div>
<div class="paragraph">
<p>الآن، على كل مستخدم فَعَلَ هذا أن يرسل مفتاحه العمومي إليك أو إلى من يدير خادوم جت (بفرض أنك أعدت خادوم SSH ليستعمل المفاتيح العمومية).
وليس عليهم سوى نسخ محتويات ملف <code>.pub</code> وإرسالها إليك بالبريد الإلكتروني.
تبدو المفاتيح العمومية مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat ~/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU
GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3
Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA
t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En
mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx
NrRFi9wrf+M7Q== schacon@mylaptop.local</code></pre>
</div>
</div>
<div class="paragraph">
<p>لشرح أعمق لإنشاء مفتاح SSH على أنظمة التشغيل المختلفة، انظر دليل جت‌هب لمفاتيح SSH (بالإنجليزية):<br>
<a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent" class="bare" target="_blank" rel="noopener">https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_server">إعداد الخادوم</h3>
<div class="paragraph">
<p>لنعدّ معا وصولَ SSH على الخادوم.
سنستعمل في هذا المثال طريقة <code>authorized_keys</code> («المفاتيح المستوثَقة») لاستيثاق مستخدميك.
سنفترض أيضا أنك تستعمل توزيعة لينكس معتادة مثل أوبنتو.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>معظم المشروح هنا يمكن عمله آليًّا بأمر <code>ssh-copy-id</code>، بدلا من نسخ المفاتيح العمومية وتثبيتها يدويا.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>أولا، أنشئ حساب مستخدم باسم <code>git</code> وأنشئ مجلد <code>.ssh</code> له.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo adduser git
$ su git
$ cd
$ mkdir .ssh &amp;&amp; chmod 700 .ssh
$ touch .ssh/authorized_keys &amp;&amp; chmod 600 .ssh/authorized_keys</code></pre>
</div>
</div>
<div class="paragraph">
<p>سنحتاج الآن إلى إضافة بعض مفاتيح SSH العمومية للمطورين إلى ملف المفاتيح المستوثَقة الخاص بالمستخدم <code>git</code>.
لنفرض أن لديك بعض المفاتيح الموثوقة وأنك حفظتها في ملفات مؤقتة.
للتذكير، تبدو المفاتيح العمومية هكذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /tmp/id_rsa.badr.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCB007n/ww+ouN4gSLKssMxXnBOvf9LGt4L
ojG6rs6hPB09j9R/T17/x4lhJA0F3FR1rP6kYBRsWj2aThGw6HXLm9/5zytK6Ztg3RPKK+4k
Yjh6541NYsnEAZuXz0jTTyAUfrtU3Z5E003C4oxOj6H0rfIF1kKI9MAQLMdpGW1GYEIgS9Ez
Sdfd8AcCIicTDWbqLAcU4UpkaX8KyGlLwsNuuGztobF8m72ALC/nLF6JLtPofwFBlgc+myiv
O7TCUSBdLQlgMVOFq1I2uPWQOkOWQAHukEOmfjy2jctxSDBQ220ymjaNsHT4kgtZg2AYYgPq
dAv8JggJICUvax2T9va5 gsg-keypair</code></pre>
</div>
</div>
<div class="paragraph">
<p>ليس عليك إلا إضافتها إلى ملف <code>authorized_keys</code> الخاص بالمستخدم <code>git</code> الموجود في مجلد <code>.ssh</code> الخاص به:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /tmp/id_rsa.badr.pub &gt;&gt; ~/.ssh/authorized_keys
$ cat /tmp/id_rsa.shams.pub &gt;&gt; ~/.ssh/authorized_keys
$ cat /tmp/id_rsa.wafaa.pub &gt;&gt; ~/.ssh/authorized_keys</code></pre>
</div>
</div>
<div class="paragraph">
<p>أعدّ الآن مستودع مجرد لهم بأمر الابتداء <code>git init</code> مع الخيار <code>--bare</code>، لتنشئ المستودع بلا مجلد عمل:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /srv/git
$ mkdir project.git
$ cd project.git
$ git init --bare
Initialized empty Git repository in /srv/git/project.git/</code></pre>
</div>
</div>
<div class="paragraph">
<p>عندئذٍ يستطيع بدر أو شمس أو وفاء دفع النسخة الأولى من مشروعهم إلى المستودع بإضافته مستودعًا بعيدًا في نسختهم المحلية، ودفع الفرع الذي لديهم إليه.
لاحظ أن في كل مرة تريد فيها إضافة مشروع، على شخصٍ ما الوصول إلى الجهاز عبر الصدفة وإنشاء مستودع مجرد.
لنجعل <code>gitserver</code> اسم المضيف (‪&#8220;hostname&#8221;‬) للخادوم الذي أعددت عليه المستودع ومستخدم <code>git</code>.
إذا كنت تشغّل الخادوم داخليا وأعددت DNS ليشير الاسم <code>gitserver</code> إلى هذا الخادوم، فيمكنك استعمال الأوامر كما هي تقريبا (بفرض أن <code>myproject</code> هو مشروع موجود وفيه مِلفات):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"># على حاسوب بدر
$ cd myproject
$ git init
$ git add .
$ git commit -m 'Initial commit'
$ git remote add origin git@gitserver:/srv/git/project.git
$ git push origin master</code></pre>
</div>
</div>
<div class="paragraph">
<p>الآن سيستطيع الآخرون استنساخه إلى أجهزتهم ودفع تعديلاتهم إليه بالسَهولة نفسها:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone git@gitserver:/srv/git/project.git
$ cd project
$ vim README
$ git commit -am 'Fix for README file'
$ git push origin master</code></pre>
</div>
</div>
<div class="paragraph">
<p>بهذه الطريقة ستحصل سريعا على خادوم جت يتيح إذنَي القراءة والتحرير لبضعة مطورين.</p>
</div>
<div class="paragraph">
<p>عليك أيضا ملاحظة أن حتى الآن، أولئك المستخدمين جميعهم يمكنهم أيضا الولوج إلى الخادوم والحصول على صدفة المستخدم <code>git</code>.
إذا أردت تقييد هذا، فعليك تغيير الصدفة إلى شيء آخر في ملف <code>/etc/passwd</code>.</p>
</div>
<div class="paragraph">
<p>يمكنك بسَهولة تقييد حساب المستخدم <code>git</code> إلى الأنشطة المرتبطة بـجت باستعمال أداة صدفة مقيَّدة اسمها <code>git-shell</code> («صدفة جت») وهي مرفقة مع جت.
فإذا ضبطتها لتكون صدفة ولوج لحساب المستخدم <code>git</code> فإن هذا الحساب لن يكون له وصول صدفة طبيعي إلى خادومك.
لاستعمالها، حدد <code>git-shell</code>  لتكون صدفة ولوج لهذا الحساب بدلا من <code>bash</code> أو <code>csh</code>.
ولفعل هذا، عليك أولا إضافة المسار الكامل لأمر <code>git-shell</code> إلى مِلف <code>/etc/shells</code> إذا لم يكن موجودا فيه بالفعل:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /etc/shells      # انظر إن كانت صدفة جيت هنا، وإلا…‏
$ which git-shell      # فتحقق أن صدفة جيت مثبتة على نظامك
$ sudo -e /etc/shells  # ثم أضف مسارها من الأمر السابق إلى ملف الصدفات</code></pre>
</div>
</div>
<div class="paragraph">
<p>يمكنك الآن تغيير صدفة المستخدم بالأمر <code>chsh &lt;username&gt; -s &lt;shell&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo chsh git -s $(which git-shell)</code></pre>
</div>
</div>
<div class="paragraph">
<p>عندئذٍ يستطيع المستخدم <code>git</code> استعمال SSH للدفع والجذب من مستودعات جت، بغير أن يكون له وصولًا صدفيًّا إلى خادومك.
وإن حاول، فسيرى رسالة رفض ولوج مثل هذه:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ssh git@gitserver
fatal: Interactive git shell is not enabled.
hint: ~/git-shell-commands should exist and have read and execute access.
Connection to gitserver closed.</code></pre>
</div>
</div>
<div class="paragraph">
<p>ولكن حتى الآن لدى المستخدمين القدرة على توجيه منفذ SSH (أي ‪&#8220;port forwarding&#8221;‬) للوصول إلى أي خادوم آخر يستطيع ذلك الخادوم الاتصال به.
فإذا أردت منع هذا، فأضف الخيارات التالية في أول كل مفتاح تريد تقييده في ملف المفاتيح المستوثقة (<code>authorized_keys</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">no-port-forwarding,no-X11-forwarding,no-agent-forwarding,no-pty</code></pre>
</div>
</div>
<div class="paragraph">
<p>ستبدو نتيجة التعديل مثل هذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat ~/.ssh/authorized_keys
no-port-forwarding,no-X11-forwarding,no-agent-forwarding,no-pty ssh-rsa
AAAAB3NzaC1yc2EAAAADAQABAAABAQCB007n/ww+ouN4gSLKssMxXnBOvf9LGt4LojG6rs6h
PB09j9R/T17/x4lhJA0F3FR1rP6kYBRsWj2aThGw6HXLm9/5zytK6Ztg3RPKK+4kYjh6541N
YsnEAZuXz0jTTyAUfrtU3Z5E003C4oxOj6H0rfIF1kKI9MAQLMdpGW1GYEIgS9EzSdfd8AcC
IicTDWbqLAcU4UpkaX8KyGlLwsNuuGztobF8m72ALC/nLF6JLtPofwFBlgc+myivO7TCUSBd
LQlgMVOFq1I2uPWQOkOWQAHukEOmfjy2jctxSDBQ220ymjaNsHT4kgtZg2AYYgPqdAv8JggJ
ICUvax2T9va5 gsg-keypair

no-port-forwarding,no-X11-forwarding,no-agent-forwarding,no-pty ssh-rsa
AAAAB3NzaC1yc2EAAAADAQABAAABAQDEwENNMomTboYI+LJieaAY16qiXiH3wuvENhBG...</code></pre>
</div>
</div>
<div class="paragraph">
<p>عندئذٍ ستظل تعمل أوامر جت الشبكية، ولكن المستخدمين لن يعودوا قادرين على الوصول إلى صدفة.
وكما ترى في رسالة الرفض، يمكنك أيضا إعداد مجلد في مجلد منزل المستخدم <code>git</code> لتخصيص أمر <code>git-shell</code> قليلا.
فيمكنك مثلا تقييد أوامر جت التي يقبلها الخادوم، أو تخصيص الرسالة التي يراها المستخدمين عندما يحاولون الوصول عبر SSH.
نفّذ الأمر <code>git help shell</code> للحصول على معلومات مزيدة عن تخصيص الصدفة.</p>
</div>
</div>
<div class="sect2">
<h3 id="_عفريت_جت">عفريت جت</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>(من المترجم) كلمة ‪&#8220;daemon&#8221;‬ ظهرت في MIT اسمًا للعمليات الخدمية التي تعمل في خلفية نظام التشغيل ولا يلاحظها المستخدم. جاءت التسمية نسبة إلى <a href="https://ar.wikipedia.org/wiki/عفريت_ماكسويل">«عفريت ماكسويل»</a> في الفيزياء، الذي يستعمل المعنى القديم للكلمة (في اليونانية والعربية)، وهو الكائن الغَيْبي الذي يعمل في الخفاء، وليس بالضرورة شيطانًا. فأترجمها «عفريت»، وأترجم فعل الصيرورة منها (‪&#8220;daemonize&#8221;‬) إلى «عفرتة». الاسم المناظر على ويندوز هو «خدمة» (‪&#8220;service&#8221;‬)، وقد بدأ استخدامه حديثًا في لينكس كذلك.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>
سنعدّ الآن عفريتًا ليقدِّم المستودعات بميفاق ‪&#8220;Git&#8221;‬.
هذا هو الخيار الشائع لإتاحة وصول سريع بغير استيثاق لبيانات جت.
تذكر أنه غير مستوثَق، فأي شيء تتيحه عبر هذا الميفاق سيكون عموميا للجميع داخل الشبكة.</p>
</div>
<div class="paragraph">
<p>فإذا كنت تستخدمه على خادوم خارج جدارك الناري، فعليك ألا تستخدمه إلا للمشروعات التي يمكن أن يراها العالم.
وإذا كان خادومك داخل جدارك الناري، فيمكنك استخدامه للمشروعات التي يحتاج الكثير من الناس أو الأجهزة الوصولَ إليه وصول قراءة فقط (مثل خواديم البناء أو التكامل المستمر)، إن لم تكن تريد إضافة مفتاح SSH لكلٍ منهم.</p>
</div>
<div class="paragraph">
<p>وفي جميع الأحوال، إن ميفاق Git سهل الإعداد نسبيا.
فلستَ تحتاج إلا إلى عفرتة هذا الأمر:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git daemon --reuseaddr --base-path=/srv/git/ /srv/git/</code></pre>
</div>
</div>
<div class="paragraph">
<p>خيار <code>--reuseaddr</code> («أعد استخدام العنوان») يسمح بإعادة تشغيل الخادوم بغير انتظار انتهاء وقت (timeout) الاتصالات القديمة. وخيار <code>--base-path</code> («أساس المسار») يتيح للناس استنساخ المشروعات بغير تحديد المسار بكامله. أما المسار الذي في آخر الأمر يخبر عفريت جت مكان المستودعات التي سيُصدِّرها.
وإذا كنت تستخدم جدارا ناريا، فستحتاج أيضا إلى فتح منفذ 9418 فيه على الجهاز الذي تعدّه عليه.</p>
</div>
<div class="paragraph">
<p>طريقة عفرتة هذه العملية تختلف حسب نظام تشغيلك.</p>
</div>
<div class="paragraph">
<p>لأن <code>systemd</code> هو نظام الابتداء (init) الأكثر شيوعا على توزيعات لينكس الحديثة، فيمكنك استخدامه لهذا الغرض.
ليس عليك سوى إنشاء الملف <code>/etc/systemd/system/git-daemon.service</code> بهذه المحتويات:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">[Unit]
Description=Start Git Daemon

[Service]
ExecStart=/usr/bin/git daemon --reuseaddr --base-path=/srv/git/ /srv/git/

Restart=always
RestartSec=500ms

StandardOutput=syslog
StandardError=syslog
SyslogIdentifier=git-daemon

User=git
Group=git

[Install]
WantedBy=multi-user.target</code></pre>
</div>
</div>
<div class="paragraph">
<p>ربما لاحظت أن اسم المستخدم واسم المجموعة اللذين يشتغل تحتهما عفريت جت هما <code>git</code>.
يمكنك تغييرهما إلى ما يناسبك، ولكن تأكد من وجود اسم المستخدم المختار على نظامك.
وتأكد أيضا من أن الملف التنفيذي لبرنامج جت موجود فعلا في المسار <code>/usr/bin/git</code> وإلا فغيّره إلى ما يناسب.</p>
</div>
<div class="paragraph">
<p>وأخيرا، نفّذ <code>systemctl enable git-daemon</code> لبَدء تشغيل الخدمة (العفريت) آليًّا مع بدء تشغيل النظام، ويمكنك تشغيل الخدمة بالأمر <code>systemctl start git-daemon</code> وإيقافها بالأمر <code>systemctl stop git-daemon</code>.</p>
</div>
<div class="paragraph">
<p>على الأنظمة الأخرى، قد يناسبك <code>xinetd</code> أو بُرَيمج في نظام <code>sysvinit</code> أو شيئًا آخر&#8201;&#8212;&#8201;طالما أنك جعلت هذا الأمر مُعَفرَت ومُراقَب بطريقةٍ ما.</p>
</div>
<div class="paragraph">
<p>ثم تحتاج إلى إخبار جت بأي المستودعات التي يسمح بالوصول إليها بغير استيثاق عبر خادوم جت.
يمكنك فعل هذا بإنشاء ملف اسمه <code>git-daemon-export-ok</code> في كل مستودع.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /path/to/project.git
$ touch git-daemon-export-ok</code></pre>
</div>
</div>
<div class="paragraph">
<p>وجود هذا الملف يخبر جت بقَبول إتاحة هذا المشروع بغير استيثاق.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ميفاق_http_الذكي_2">ميفاق HTTP الذكي</h3>
<div class="paragraph">
<p>
لدينا الآن وصولا مستوثَقا عبر SSH ووصولا غير مستوثَق عبر <code>git://</code>، ولكن يوجد أيضا ميفاق يمكنه عمل كِلا الأمرين في وقت واحد.
إعداد HTTP الذكي هو ببساطة مجرد تفعيل بُرَيمج CGI الآتي مع جت المسمى <code>git-http-backend</code> على الخادوم.
يقرأ هذا البريمج المسار والترويسات (headers) التي يرسلها أمر الاستحضار <code>git fetch</code> أو الدفع <code>git push</code> إلى رابط HTTP ويحدد إذا كان العميل يستطيع التواصل عبر HTTP (وهذا صحيح لأي عميل جت منذ الإصدارة 1.6.6).
وإذا رأي البريمج أن العميل ذكي، فسيتواصل معه بذكاء؛ وإلا فسيتواصل معه بالميفاق البليد (ولذا فهو متوافق مع الإصدارات القديمة التي تريد القراءة فحسب).</p>
</div>
<div class="paragraph">
<p>لنرَ إعدادا بسيطا جدا.
سنستخدم فيه أباتشي (Apache) كخادوم CGI.
إن لم يكن لديك أباتشي مُعدًّا، فيمكنك إعداده على حاسوب لينكسي بفعل شيءٍ كهذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo apt-get install apache2 apache2-utils
$ a2enmod cgi alias env</code></pre>
</div>
</div>
<div class="paragraph">
<p>هذا أيضا يفعّل وِحدات <code>mod_cgi</code> و <code>mod_alias</code> و <code>mod_env</code>، والتي تحتاجها جميعها حتى يعمل هذا الإعداد بشكل صحيح.</p>
</div>
<div class="paragraph">
<p>سنحتاج أيضا إلى ضبط مجموعة المستخدمين اليونكسية الخاصة بمجلدات <code>/srv/git</code> إلى <code>www-data</code>، حتى يتسنّى لخادوم الوب قراءة المستودعات وتحريرها، لأن عملية أباتشي التي تشغّل بُريمج CGI الخاص بنا تعمل (مبدئيا) تحت هذا المستخدم:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ chgrp -R www-data /srv/git</code></pre>
</div>
</div>
<div class="paragraph">
<p>وكذلك سنحتاج إلى إضافة بعض الأشياء إلى تهيئة أباتشي لتشغيل <code>git-http-backend</code> معالجًا (‪&#8220;handler&#8221;‬) لأي شيء يأتي من المسار <code>/git</code> على خادومك.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">SetEnv GIT_PROJECT_ROOT /srv/git
SetEnv GIT_HTTP_EXPORT_ALL
ScriptAlias /git/ /usr/lib/git-core/git-http-backend/</code></pre>
</div>
</div>
<div class="paragraph">
<p>إن أهملت متغير البيئة <code>GIT_HTTP_EXPORT_ALL</code>، فلن يتيح جت للعملاء غير المستوثَقين إلا تلك المستودعات التي فيها الملف <code>git-daemon-export-ok</code>، تماما مثلما فعل عفريت جت.</p>
</div>
<div class="paragraph">
<p>وأخيرا سنحتاج إلى إخبار أباتشي أن يسمح بالطلبات إلى <code>git-http-backend</code> وأن يستوثق عمليات التحرير بطريقةٍ ما، مثلا بك‍تلة <code>Auth</code> كهذه:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">&lt;Files "git-http-backend"&gt;
    AuthType Basic
    AuthName "Git Access"
    AuthUserFile /srv/git/.htpasswd
    Require expr !(%{QUERY_STRING} -strmatch '*service=git-receive-pack*' || %{REQUEST_URI} =~ m#/git-receive-pack$#)
    Require valid-user
&lt;/Files&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>يتطلب هذا إنشاء ملف <code>.htpasswd</code> فيه كلمات المرور لجميع المستخدمين المقبولين.
هذا مثال على إضافة المستخدم ‪&#8220;schacon&#8221;‬ إليه:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ htpasswd -c /srv/git/.htpasswd schacon</code></pre>
</div>
</div>
<div class="paragraph">
<p>لدى أباتشي طرائق عديدة لاستيثاق المستخدمين؛ عليك اختيار إحداها وتطبيقها.
ليس هذا إلا أيسر مثال استطعنا الإتيان به.
ومن شبه المؤكد أنك أيضا ستحتاج إلى إعداد هذا عبر SSH حتى تكون هذه البيانات كلها معمّاة.</p>
</div>
<div class="paragraph">
<p>لا نود الخوض عميقا في دوامة دقائق تهيئة أباتشي، لأنك قد تستخدم خادوما آخر أو أن لديك احتياجات استيثاق مختلفة.
وإنما الأمر أن مع جت بريمج CGI اسمه <code>git-http-backend</code>، والذي عند ندائه يفعل كل المفاوضات لإرسال واستقبال البيانات عبر HTTP.
ولكنه لا ينفذ أي استيثاق بنفسه. لكن هذا سهل التحكم فيه في مرحلة خادوم الوب الذي يناديه.
يمكنك فعل هذا مع ربما أي خادوم وب يدعم CGI، لذا فانطلق مع الخادوم الذي تعرفه حق المعرفة.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>لمزيد من المعلومات عن تهيئة الاستيثاق في أباتشي، انظر وثائق أباتشي (بالإنجليزية) هنا: <a href="https://httpd.apache.org/docs/current/howto/auth.html" class="bare" target="_blank" rel="noopener">https://httpd.apache.org/docs/current/howto/auth.html</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_gitweb">GitWeb</h3>
<div class="paragraph">
<p>
تستطيع الآن الوصول إلى مشروعك مع إذن التحرير أو مع إذن القراءة فقط. وقد تود الآن إعداد واجهة وب رسومية يسيرة له.
يأتي جت مع بُريْمج CGI يسمى جت‌وِب والذي يُستخدم أحيانا لهذا الغرض.</p>
</div>
<div id="gitweb" class="imageblock">
<div class="content">
<img src="images/git-instaweb.png" alt="واجهة وب جت‌وب">
</div>
<div class="title">شكل ٤٩. واجهة وب جت‌وب</div></div>
<div class="paragraph">
<p>فإذا أردت رؤية كيف يبدو جت‌وب لمشروعك، فمع جت أمر يشغّل نسخة مؤقتة منه إذا كان لديك خادوم وب خفيف على نظامك مثل <code>lighttpd</code> أو <code>webrick</code>.
على الأنظمة اللينكسية غالبا يكون <code>lighttpd</code> مثبتًا، فقد تستطيع تشغيله بتنفيذ <code>git instaweb</code> في مجلد مشروعك.
وإن كنت على ماك، فإن نسخة Leopard تأتي بلغة Ruby مثبتة مبدئيا، فيكون <code>webrick</code> هو الظن الأقرب.
لـبَدء <code>instaweb</code> بشيء غير <code>lighttpd</code>، فعليك تشغيله بخيار <code>--httpd</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git instaweb --httpd=webrick
[2009-02-21 10:02:21] INFO  WEBrick 1.3.1
[2009-02-21 10:02:21] INFO  ruby 1.8.6 (2008-03-03) [universal-darwin9.0]</code></pre>
</div>
</div>
<div class="paragraph">
<p>فهذا يشغّل خادوم HTTPD على منفذ 1234 ويفتح متصفح الوب على تلك الصفحة آليًّا.
فهو يسهّل عليك.
وعندما تقضي ما تريد وتود إيقاف الخادوم، نفّذ الأمر نفسه لكن بالخيار <code>--stop</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git instaweb --httpd=webrick --stop</code></pre>
</div>
</div>
<div class="paragraph">
<p>وإذا كنت تود تشغيل واجهة الوب على خادوم طوال الوقت لفريقك أو لمشروع مفتوح تستضيفه، فستحتاج إلى إعداد بريمج الـ CGI ليقدّمه خادوم الوب العادي الذي تستخدمه.
بعض توزيعات لينكس تأتي بحزمة <code>gitweb</code> والتي قد تستطيع تثبيتها بأمر مثل <code>apt</code> أو <code>dnf</code>، لذا فقد تود تجربة هذا أولا.
سنمر سريعا جدا على تثبيت جت‌وب يدويا.
عليك أولا الحصول على مصدر جت، الذي فيه جت‌وب، ثم توليد بُرَيمج CGI المخصص:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://git.kernel.org/pub/scm/git/git.git
$ cd git/
$ make GITWEB_PROJECTROOT="/srv/git" prefix=/usr gitweb
    SUBDIR gitweb
    SUBDIR ../
make[2]: `GIT-VERSION-FILE' is up to date.
    GEN gitweb.cgi
    GEN static/gitweb.js
$ sudo cp -Rf gitweb /var/www/</code></pre>
</div>
</div>
<div class="paragraph">
<p>لاحظ أنك تحتاج إلى إخبار هذا الأمر بمكان مستودعاتك في المتغير <code>GITWEB_PROJECTROOT</code>.
والآن، تحتاج إلى جعل أباتشي يستخدم CGI لهذا البريمج، ويمكنك فعل ذلك بإضافة مستضيف وهمي (VirtualHost) له:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">&lt;VirtualHost *:80&gt;
    ServerName gitserver
    DocumentRoot /var/www/gitweb
    &lt;Directory /var/www/gitweb&gt;
        Options +ExecCGI +FollowSymLinks +SymLinksIfOwnerMatch
        AllowOverride All
        order allow,deny
        Allow from all
        AddHandler cgi-script cgi
        DirectoryIndex gitweb.cgi
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>مجددا، لتقديم جت‌وب تستطيع استخدام أي خادوم وب يدعم CGI أو Perl. وإذا أردت شيئا آخر فليس إعداده بالصعب.
يمكنك الآن زيارة <code><a href="http://gitserver/" class="bare">http://gitserver/</a></code> لرؤية مستودعاتك على الشابكة.</p>
</div>
</div>
<div class="sect2">
<h3 id="_gitlab">GitLab</h3>
<div class="paragraph">
<p>
لعلك وجدت أن جت‌وب GitWeb ساذجا قليلا أو كثيرا.
فإذا كنت تبحث عن خادوم جت حديث ومكتمل الخصائص، فيوجد عدد من الحلول مفتوحة المصدر والتي يمكنك تثبيتها بدلا منه.
ولأن جت‌لاب من أشهرها، فإننا سنتناول تثبيته واستخدامه مثالا.
هذا الخيار أصعب من جت‌وب وسيحتاج منك رعاية أكثر، لكنه مكتمل الخصائص.</p>
</div>
<div class="sect3">
<h4 id="_التثبيت">التثبيت</h4>
<div class="paragraph">
<p>جت‌لاب هو تطبيق وب مبني على قاعدة بيانات، لذا فتثبيته أعقد من بعض خواديم جت الأخرى.
لكن لحسن الحظ هذه العملية موثقة بالكامل ومدعومة جيدا.
يوصي جت‌لاب بقوة بتثبيته على خادومك عبر الحزمة الرسمية الحافلة، المسماة حزمة ‪&#8220;Omnibus GitLab&#8221;‬.</p>
</div>
<div class="paragraph">
<p>خيارات التثبيت الأخرى هي:</p>
</div>
<div class="ulist tight">
<ul class="tight">
<li>
<p>GitLab Helm chart، لاستخدامه مع Kubernetes.</p>
</li>
<li>
<p>حزم Docker لـ GitLab، لاستخدامها مع Docker.</p>
</li>
<li>
<p>من مِلفات المصدر.</p>
</li>
<li>
<p>موفِّرو الخدمات السحابية، مثل AWS و Google Cloud Platform و Azure و OpenShift و Digital Ocean.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>للمزيد من المعلومات (بالإنجليزية) انظر <a href="https://gitlab.com/gitlab-org/gitlab-foss/-/blob/master/README.md" target="_blank" rel="noopener">GitLab Community Edition (CE) readme</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_الإدارة">الإدارة</h4>
<div class="paragraph">
<p>واجهة إدارة جت‌لاب هي واجهة وب.
ليس عليك إلا توجيه متصفحك إلى اسم المُضيف (‪&#8220;hostname&#8221;‬) أو عنوان IP الذي ثبتَّ عليه جت‌لاب، ثم لُج بحساب المدير.
اسم المستخدم المبدئي هو <code>admin@local.host</code>، وكلمة المرور المبدئية هي <code>5iveL!fe</code> (والتي عليك تغييرها فورا).
بعد الولوج، اضغط على رمز ‪&#8220;Admin area&#8221;‬ (منطقة الإدارة) في القائمة التي على اليمين بالأعلى.</p>
</div>
<div id="gitlab_menu" class="imageblock">
<div class="content">
<img src="images/gitlab-menu.png" alt="زر “Admin area” (منطقة الإدارة) في قائمة جت‌لاب">
</div>
<div class="title">شكل ٥٠. زر ‪&#8220;Admin area&#8221;‬ (منطقة الإدارة) في قائمة جت‌لاب</div></div>
<div class="sect4">
<h5 id="_المستخدمون">المستخدمون</h5>
<div class="paragraph">
<p>على كل من يريد استخدام خادوم جت‌لاب الخاص بك الحصول على حساب مستخدم.
حسابات المستخدمين أمر يسير؛ هي في الأساس معلومات شخصية مرتبطة ببيانات الولوج.
كل حساب مستخدم لديه <strong>مساحة أسماء</strong> (‪&#8220;namespace&#8221;‬)، وهي تجميع منطقي للمشروعات الخاصة به.
فمثلا إذا كان لدى المستخدم <code>shams</code> مشروع اسمه <code>project</code>، فإن رابط ذلك المشروع سيكون <code>http://server/shams/project</code>.</p>
</div>
<div id="gitlab_users" class="imageblock">
<div class="content">
<img src="images/gitlab-users.png" alt="شاشة إدارة المستخدمين على جت‌لاب">
</div>
<div class="title">شكل ٥١. شاشة إدارة المستخدمين على جت‌لاب</div></div>
<div class="paragraph">
<p>يمكنك إزالة حساب مستخدم بطريقتين:
«حظر» (‪&#8220;block&#8221;‬) حساب مستخدم يمنعه من الولوج إلى خادومك، ولكن كل بياناته التي في مساحة أسمائه ستبقى، والإيداعات الموقَّعة ببريده ستظل تشير إلى صفحته الشخصية على خادومك.</p>
</div>
<div class="paragraph">
<p>أما «محو» (‪&#8220;destroy&#8221;‬) مستخدمٍ فيزيله تماما من قاعدة البيانات ومن نظام الملفات؛
ستُزال كل المشروعات والبيانات التي في مساحة أسمائه، وكذلك كل المجموعات التي يملكها.
طبعا هذا الفعل مستديم الأثر وأشد إتلافا، ونادرا ما ستحتاجه.</p>
</div>
</div>
<div class="sect4">
<h5 id="_gitlab_groups_section">المجموعات</h5>
<div class="paragraph">
<p>المجموعة في جت‌لاب هي تجميعة من المشروعات، مع معلومات عن كيفية وصول المستخدمين إلى هذه المشروعات.
كل مجموعة لديها «مساحة أسماء مشروعات»، تماما مثلما للمستخدمين، لذا فإن كان في المجموعة <code>training</code> مشروع اسمه <code>materials</code>، فسيكون رابطه <code>http://server/training/materials</code>.</p>
</div>
<div id="gitlab_groups" class="imageblock">
<div class="content">
<img src="images/gitlab-groups.png" alt="شاشة إدارة المجموعات على جت‌لاب">
</div>
<div class="title">شكل ٥٢. شاشة إدارة المجموعات على جت‌لاب</div></div>
<div class="paragraph">
<p>ترتبط كل مجموعة بعدد من المستخدمين، ولكل منهم مستوى من الصلاحيات لمشروعات المجموعة وكذلك المجموعة نفسها.
وتتراوح هذه المستويات من ‪&#8220;Guest&#8221;‬ («زائر»: للمسائل ‪&#8220;issues&#8221;‬ والمحادثات ‪&#8220;chat&#8221;‬ فقط)، إلى ‪&#8220;Owner&#8221;‬ («مالك»: للتحكم الكامل في المجموعة وأعضائها ومشروعاتها).
وهذه المستويات كثيرة يصعب سردها هنا، لكنّ شاشة الإدارة في جت‌لاب فيها رابطا مفيدا.</p>
</div>
</div>
<div class="sect4">
<h5 id="_المشروعات">المشروعات</h5>
<div class="paragraph">
<p>المشروع في جت‌لاب هو تقريبا مستودع جت واحد.
ينتمي كل مشروع إلى مساحة أسماء واحدة، إما لمستخدم وإما لمجموعة.
وإذا كان المشروع ينتمي إلى مستخدم، فلدى مالك المشروع تحكم مباشر في من لديه حق الوصول إلى المشروع. وإذا كان ينتمي إلى مجموعة، فصلاحيات أعضاء المجموعة هي التي تحدد.</p>
</div>
<div class="paragraph">
<p>كل مشروع له مستوى ظهور، ليحدد من يستطيع رؤية صفحات هذا المشروع ومستودعه.
فإذا كان المشروع «خصوصيا» (‪&#8220;Private&#8221;‬)، فلا يظهر إلا لمن يحددهم مالك المشروع بالاسم.
وإذا كان «داخليا» (‪&#8220;Internal&#8221;‬)، فإنه لا يظهر إلا للمستخدمين الوالِجين. وإذا كان «عموميا» (‪&#8220;Public&#8221;‬) فإنه يظهر للجميع.
لاحظ أن هذا يتحكم في الوصول عبر <code>git fetch</code> وكذلك عند الوصول عبر واجهة الوب لهذا المشروع.</p>
</div>
</div>
<div class="sect4">
<h5 id="_الخطاطيف">الخطاطيف</h5>
<div class="paragraph">
<p>يدعم جت‌لاب الخطاطيف، على مستوى المشروع وعلى مستوى النظام ككل.
سيرسل خادوم جت‌لاب طلب HTTP بطريقة POST مع JSON وصفي كلما حدثَ حدثٌ مناسب.
وهذه طريقة عظيمة لربط مستودعات جت وخادوم جت‌لاب بباقي الأدوات الآلية التي تستخدمها ضمن التطوير، مثل خواديم التكامل المستمر CI، وغرف المحادثة، وأدوات النشر (‪&#8220;deployment&#8221;‬).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_الاستخدام_الأساسي">الاستخدام الأساسي</h4>
<div class="paragraph">
<p>أول ما قد تود عمله على جت‌لاب هو إنشاء مشروع،
وذلك بالضغط على رمز ‪&#8220;+&#8221;‬ على شريط الأدوات.
ستُسأل عن اسم المشروع، ومساحة الأسماء التي ينتمي إليها، ومستوى ظهوره.
معظم ما تحدده هنا ليس مستديمًا، فتستطيع تغييره فيما بعد من واجهة الإعدادات.
اضغط على ‪&#8220;Create Project&#8221;‬ («إنشاء المشروع») لإتمام العملية.</p>
</div>
<div class="paragraph">
<p>وما إن يكون المشروع حيًّا، قد تود ربطه بمستودع محلي.
يمكن التواصل مع أي مشروع عبر HTTPS أو SSH. ويمكنك استعمال أي منهما لإضافة مستودع جت بعيد في مستودعك المحلي.
ستجد الروابط في أعلى الصفحة الرئيسية للمشروع.
فمثلا تنفيذ هذا الأمر في مستودع محلي سينشئ بعيدا بالاسم <code>gitlab</code> مربوطا بالمشروع المستضاف:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote add gitlab https://server/namespace/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>أما إذا لم يكن لديك نسخة محلية من المستودع، فيمكنك استنساخه بسهولة هكذا:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://server/namespace/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>أيضا تتيح واجهة الوب طرائق مختلفة مفيدة للنظر إلى المستودع نفسه.
فتُظهر الصفحة الرئيسية لكل مشروع آخر الأنشطة، والروابط التي في أعلى الصفحة تُريك ملفات المشروع وتاريخ إيداعاته.</p>
</div>
</div>
<div class="sect3">
<h4 id="_التعاون_fixme">التعاون</h4>
<div class="paragraph">
<p>أسهل طريقة للتعاون على مشروع على جت‌لاب هي إعطاء كل مستخدم إذن الدفع مباشرةً إلى المستودع.
يمكنك إضافة المستخدمين إلى المشروع بالذهاب إلى قسم الأعضاء (‪&#8220;Members&#8221;‬) في إعدادات هذا المشروع، وربط المستخدمين الجدد بمستويات الوصول المناسبة. (مررنا على مستويات الوصول في <a href="#_gitlab_groups_section">المجموعات</a>).
إذا كان للمستخدم مستوى وصول «مطور» (‪&#8220;Developer&#8221;‬) فيستطيع دفع الإيداعات والفروع مباشرةً إلى المستودع.</p>
</div>
<div class="paragraph">
<p>لكن طريقة أخرى للتعاون بغير ضم المطورين إلى المستودع هي طلبات الدمج (‪&#8220;merge request&#8221;‬).
فتتيح هذه الميزة لأي مستخدم يستطيع رؤية المشروع أن يساهم فيه بطريقة محكومة.
فالمستخدمون ذوو الوصول المباشر يمكنهم إنشاء فرع ودفع إيداعاتهم إليه ثم إنشاء طلب لدمج فرعهم في الفرع الرئيس أو أي فرع آخر.
أما المستخدمون الذين ليس لديهم إذن الدفع للمستودع، فيمكنهم «اشتقاق» (‪&#8220;fork&#8221;‬) المستودع لإنشاء نسختهم الخاصة منه، ودفع إيداعاتهم إلى نسختهم <em>الخاصة بهم</em>، ثم إنشاء طلب لدمج  اشتقاقهم في المشروع الأصلي.
يسمح هذا النموذج للمالك بالتحكم الكامل في كل ما يدخل المستودع ومتى يدخل، وفي الوقت نفسه يسمح بمساهمات المستخدمين غير الموثوق فيهم.</p>
</div>
<div class="paragraph">
<p>طلبات الدمج والمسائل هما أهم وحدات النقاشات الطويلة في جت‌لاب.
فكل طلب دمج يسمح بنقاش على كل سطر من سطور التعديل المقترح (والذي يدعم نوعا خفيفا من مراجعة الكود)، إضافةً إلى نقاش عام.
يمكن تكليف مستخدم بإتمام طلب دمج أو مسألة، أو جعلهما ضمن مرحلة (‪&#8220;milestone&#8221;‬).</p>
</div>
<div class="paragraph">
<p>ركّز هذا الفصل في معظمه على خصائص جت‌لاب المرتبطة بـجت. ولكنه مشروع ناضج ومكتمل الخصائص، ويتيح ميزات أخرى ليساعد فريقك في العمل معا، مثل موسوعات المشروعات وأدوات رعاية الأنظمة.
من محاسن جت‌لاب أنك ما إن تتم إعداد الخادوم وتشغيله، فيندر أن تحتاج إلى تعديل ملف تهيئة أو الوصول إلى الخادوم عبر SSH؛ فواجهة الوب تتيح معظم أفعال الإدارة والاستخدام العام.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_خيارات_الاستضافة_الخارجية">خيارات الاستضافة الخارجية</h3>
<div class="paragraph">
<p>إن لم تشأ خوض غمار العمل المطلوب لإعداد خادوم جت الخاص بك، فلديك عدة خيارات لاستضافة مشروعاتك على مواقع استضافة خارجية متخصصة.
لهذا منافع عديدة: أن مواقع الاستضافة عموما أسرع في الإعداد وأسهل في بدء المشروعات عليها، وليس عليك رعاية الخادوم ولا صيانته ولا مراقبته.
حتى إن أعددت وشغّلت خادومك الخاص داخليا، فقد تود استخدام موقع استضافة عمومي لمشاريعك البرمجية المفتوحة؛ فهذا يسهّل على المجتمع أن يجدها ويساعدك فيها.</p>
</div>
<div class="paragraph">
<p>لدينا اليوم عدد مهول من الاستضافات، كلٌ له مزايا وعيوب مختلفة.
تجد قائمة محدَّثة في صفحة الاستضافات في موسوعة جت الرسمية:
<a href="https://archive.kernel.org/oldwiki/git.wiki.kernel.org/index.php/GitHosting.html" class="bare" target="_blank" rel="noopener">https://archive.kernel.org/oldwiki/git.wiki.kernel.org/index.php/GitHosting.html</a>.</p>
</div>
<div class="paragraph">
<p>سنتناول جت‌هب بالتفصيل في <s>GitHub</s>، لأنه أكبر استضافة جت مطلقا، وقد تحتاج إلى التعامل مع مشروعات مستضافة عليه على أيّ حال، ولكن توجد عشرات الخيارات الأخرى إذا لم تشأ إعداد خادوم جت الخاص بك.</p>
</div>
</div>
<div class="sect2">
<h3 id="_الخلاصة_4">الخلاصة</h3>
<div class="paragraph">
<p>لديك عدة خيارات لإعداد وتشغيل مستودع جت بعيد حتى يمكنك التعاون من الآخرين أو مشاركة عملك.</p>
</div>
<div class="paragraph">
<p>يتيح لك تشغيل خادومك الخاص تحكمًا كبيرًا ويسمح لك بتشغيله داخل جدارك الناري (firewall) الخاص، لكن مثل هذا الخادوم يحتاج قدرًا لا بأس به من الوقت لإعداده ورعايته.
أما إذا وضعت مشاريعك البرمجية على خادوم مستضاف، فستجده أسهل إعدادًا ورعايةً. لكن يجب أن يكون مسموحًا لك بذلك، فإن بعض المؤسسات لا تسمح.</p>
</div>
<div class="paragraph">
<p>نتوقع أن من السهل نسبيا تحديد الحل أو توليفة الحلول الأنسب لك ولمؤسستك.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="D-terms">الملحق الرابع: دليل المصطلحات</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">وصول، إذن</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access control level</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مستوى الوصول(؟)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">advantage</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مزيّة (ج:&nbsp;مزايا) (وليس <span class="line-through">ميزة/ميزات</span>؛ هذه feature؛ انظر <a href="#_terms_mz">الفرق في الملحق الآخر</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">alias</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">كُنية (ج:&nbsp;كُنيات)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">amend</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تصحيح</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">annotated tag</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">وسم معنون (انظر&nbsp;أيضا&nbsp;lightweight&nbsp;tag)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">أباتشي</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">archive, archived file</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ملف مضغوط</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">argument</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مُعامِل (ج:&nbsp;مُعامِلات)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assign, assignment</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إسناد</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">خاصية</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">authentication</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">استيثاق، يستوثق</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">autocompletion</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إكمال آلي</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">automatically</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تلقائيا، آليا</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">avatar</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">صورة شخصية، صورة تشخيصية</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">backward compatibility</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">التوافقية مع الإصدارات السابقة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bare</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مجرد</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">blob</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ك‍تلة (ج:&nbsp;ك‍تل)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch, branching</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">فرع، تفريع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bug</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">عِلة (ج:&nbsp;علل)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">change</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تعديل</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">chapter (in the book)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">باب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">character</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مَحْرِف (ج:&nbsp;مَحارف)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">check</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تحقّق [الشيء] (بغير «من»)، تفقّد [الشيء]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">check out</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">سحب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">checksum</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">[قيمة] بصمة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">clone</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">استنساخ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">command</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">أمر</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">command line</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">سطر أوامر</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">commit, commit, committed, do/make a commit</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">يودع، إيداع، مودع، يصنع إيداعا</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">compress, compression, compressed</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">يضغط، ضغط، مضغوط</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">computer</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">حاسوب (ج:&nbsp;حواسيب)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">configure, configuration</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ضبط، تهيئة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">continuous integration</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تكامل مستمر</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contribute, contribution</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">يساهم، مساهمة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مخصص</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">customized</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مخصص، مفضل</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">daemon</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">عفريت (ج:&nbsp;عفاريت)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">daemonize</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">عفرتة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dashboard</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">صفحة رئيسية</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">default</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مبدئي، مفترض</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delta</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">فرق (ج:&nbsp;فروقات)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">detached HEAD [state]</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">¯/_(ツ)_\¯</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">develop, development</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تطوير</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">developer</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مطوِّر</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">directory</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مجلد</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disk</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">قرص</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">distributed</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">موزع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">download</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تنزيل</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">downstream</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مصب (انظر&nbsp;أيضا&nbsp;upstream)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">entry</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بيان</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">environment</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بيئة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">environment variable</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">متغير بيئة (ج:&nbsp; متغيرات بيئة)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error-prone</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">خطّاء، عُرضة للخطأ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">exit non-zero (verb, intransitive)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إنهاء التنفيذ بقيمة خروج غير الصفر</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">experience (previous knowledge)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">خبرة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">experience (usage, like user&nbsp;∿&nbsp;(UX), developer&nbsp;∿&nbsp;(DX))</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تجربة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fast-forward</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تسريع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fast-forward merge</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">دمج تسريع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">feature</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">خصيصة (ج:&nbsp;خصائص)، ميزة (ج:&nbsp;ميزات) (وليس <span class="line-through">مزية/مزايا</span>؛ هذه advantage؛ انظر <a href="#_terms_mz">الفرق في الملحق الآخر</a>) (انظر&nbsp;أيضا&nbsp;killer feature)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">folder</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مجلد</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fork</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">اشتق، يشتق، اشتقاق</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fully featured</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مكتمل الخصائص (انظر&nbsp;أيضا&nbsp; feature)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Git</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">جت</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GitHub</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">جت‌هب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GitLab</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">جت‌لاب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GitWeb</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">جت‌وب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">glob</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">أنماط توسيع [المسارات]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">graphical user interface, GUI</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">واجهة رسومية</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hacker (1. expert or eager learner: meanings <nobr>1–7</nobr> in <a href="http://catb.org/esr/jargon/html/H/hacker.html">the Jargon File</a>)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">خارق</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hacker (2. cracker: meaning 8 in the the Jargon File or <a href="http://catb.org/esr/jargon/html/C/cracker.html">the standalone entry</a>)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مخترق</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">handler (Apache)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">معالج</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hard disk</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">قرص [صلب]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hardlink</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">رابط صلب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hash</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بصمة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HEAD branch</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">الفرع الرأس(؟)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">header</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ترويسة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HEAD [pointer]</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إشارة الرأس</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hierarchical</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">شجري</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">history</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تاريخ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hook</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">خطاف (ج:&nbsp;خطاطيف)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hook script</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بريمج خطاف</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host, hosting</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">يستضيف، استضافة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hostname</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">اسم المضيف(؟)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">include</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ضم</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">index (in Git)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">الفهرس</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inode</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مؤشر فهرسة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">install, installation (1. software)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تثبيت</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">install, installation (2. non-software)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تركيب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">integrated development environment, IDE</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بيئة تطوير [متكاملة]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">integrity</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">سلامة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">issue</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مشكلة، مسألة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">killer feature</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ميزة قاتلة للمنافسة (انظر&nbsp;أيضا&nbsp;feature)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">landing page</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">صفحة استقبال</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">license</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">رخصة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lightweight tag</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">وسم خفيف (انظر&nbsp;أيضا&nbsp;annotated&nbsp;tag)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">limit (v)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تقييد</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">list (n)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">قائمة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">list (v)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">سرد</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">login</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ولوج</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">log (n)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">سجل</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maintain, maintenance</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تطوير، رعاية</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">merge commit</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إيداع دمج</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">merged</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مدموج</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">merge [to]</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">دمج [في]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">metadata</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بيانات وصفية</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mirror [copy]</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">نسخة مقابلة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mirror [server]</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">خادوم مرآة(؟)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">model</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">نموذج</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">modify</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تعديل</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mount, mounted</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ضم، مضموم</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">namespace</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مساحة أسماء</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nonlinear</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">لاخطي (كلمة واحدة، بغير مسافة)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">normalize, normalization</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">استنظام</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">open source</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مصادر مفتوحة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">output</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ناتج</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pack</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">عُلبة (ج:&nbsp;عُلب)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">packfile</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ملف عُلبة (ج:&nbsp;ملفات عُلبة)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pager</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">[برنامج] عارض</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">patch</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">رُقعة (ج:&nbsp;رُقع)، ترقيع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pipe (n)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">قناة [يونكسية]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">platform</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">منصة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pointer</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إشارة (متحد مع ref)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">policy</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">سياسة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">port forwarding</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">توجيه منفذ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">private</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">خصوصي (وليس «خاص»)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">prompt</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مُوَجِّه (ج:&nbsp;مُوَجِّهات)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">proprietary</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">احتكاري</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">protocol</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ميفاق (ج:&nbsp;موافيق)، بروتوكول</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">public</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">عمومي (وليس «عام»)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pull</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">جذب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pull request</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">طلب جذب، طلب دمج</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">push</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">دفع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">read access</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إذن القراءة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">read/write access</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إذن التحرير</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rebase [on]</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إعادة تأسيس [على]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reflog</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">سجل الإشارات</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ref, reference</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إشارة (انظر التفصيل في الملحق الآخر: <a href="#_terms_reference">إشارة الرأس وإشارات الكائنات</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">release</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إصدار، إصدارة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remote</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">[مستودع] بعيد</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remote-tracking branch</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">فرع متعقب لبعيد</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إزالة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rename</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تغيير اسم</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repo, repository</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مستودع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reset</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إرجاع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">restore</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">استعادة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revert</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">نقض</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مراجعة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision control</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">التحكم في المراجعات</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rollback</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إعادة(؟)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">root</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">جذر، جذري</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">root directory</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مجلد جذر</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">script</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بُريمِج (ج:&nbsp;بُريمِجات)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scripting</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">برمجة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">section (in a Git project)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">قسم</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">section (in the book)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">فصل</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">serve</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">قدّم، يقدِّم، تقديم، يتيح، إتاحة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">خادوم (ج:&nbsp;خواديم)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">setup (arrangement)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ترتيب (ج:&nbsp;ترتيبات)، تركيب، تكوين</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">setup (installation)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تثبيت</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set up, setting</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إعداد</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shell</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">صَدَفة، طرفية</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shell access</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">وصول صَدَفي</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sign [sth]</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">توقيع [شيء]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">single point of failure</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">نقطة انهيار حاسمة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">snapshot</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">لقطة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stage, staging, staged</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">يؤهل، تأهيل، مؤهل</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">staging area</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">منطقة التأهيل</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">standard</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">معيار</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">switch (v)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">انتقال</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">system</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">نظام (ج:&nbsp;أنظمة)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tab (char)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مسافة جدولة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tab-completion</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إكمال بزر الجدولة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tab (key)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">زر الجدولة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tab (UI)</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تبويب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag, annotated</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">وسم معنون</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag, lightweight</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">وسم خفيف</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">team</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">فِرقة (ج:&nbsp;فِرَق)(؟)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">teammate</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">زميل (ج:&nbsp;زملاء)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">terminal [emulator]</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">طرفية</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">خَتم زمني</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">track, tracking</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تعقب، متعقِّب (انظر التفصيل في الملحق الآخر: <a href="#_terms_tracking">التعقب والمتابعة: tracking</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transaction</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">معاملة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">two factor authentication, 2FA</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">استيثاق ثنائي</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">undo</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تراجع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">untracked</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">غير متعقَّب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">upload</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">رفع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">upstream</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">منبع (انظر&nbsp;أيضا&nbsp;downstream)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verify [sth]</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">توثيق [شيء]، تحقق [شيء] (بغير «من»)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">version</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">نسخة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">version control</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إدارة النسخ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">version control system, VCS</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">نظام إدارة نسخ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">versioned</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مراقَب [للتغييرات]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">virtual private network, VPN</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">شبكة وهمية خاصة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">web</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">وب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">workflow</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">[أسلوب] سير عمل</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">working copy</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">نسخة عمل</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">working tree</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">شجرة العمل</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="E-arabic-reference">الملحق الخامس: المصطلحات والمفاهيم باللغتين</h2>
<div class="sectionbody">
<div class="paragraph">
<p>يضم هذا الملحق أوامر جيت مثل الملحق الثالث، ولكنه أيضا يضم مفاهيم جيت وأنظمة إدارة النسخ الموزعة، ويتناولها جميعًا بشرح موجز مع توضيح أسمائها باللغتين وأسباب هذه الأسماء، ويضم ملاحظات متفرقة للمترجم.</p>
</div>
<div class="sect2">
<h3 id="_الإيداع_والسحب">الإيداع والسحب</h3>
<div class="paragraph">
<p>الغرض الأساسي في أنظمة إدارة النسخ هو أنك تحفظ النسخة الحالية من مجلد العمل كما تحفظ الأموال في المصرف، ثم عندما تحتاجها تأخذها منه. ولكنك لا تأخذها للأبد، بل «تستلفها» مؤقتا مثلما تستلف كتبا من المكتبة العامة.</p>
</div>
<div class="paragraph">
<p>فعملية السحب هذه لها اسم واحد شائع: check out.
أما عملية الحفظ فلها اسمان في الأنظمة المختلفة: check in أو commit.</p>
</div>
<div class="paragraph">
<p>انظر أيضا: <a href="https://stackoverflow.com/q/12510574" class="bare">https://stackoverflow.com/q/12510574</a></p>
</div>
<div class="paragraph">
<p>وانظر: <a href="https://www.noureddin.dev/ysmu/link/commit" class="bare">https://www.noureddin.dev/ysmu/link/commit</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_terms_push_pull_fetch">الدفع والجذب والاستحضار</h3>
<div class="paragraph">
<p>لأن «سحب» محجوز لـcheck out، فكان علينا الإتيان بلفظ آخر ليعني pull.</p>
</div>
<div class="paragraph">
<p>العملية المرافقة لـpull هي push، وكلاهما يعرفان بالدفع والجذب، فكان هذان اللفظان مناسبين.</p>
</div>
<div class="paragraph">
<p>ولكن عملية الجذب pull عمليتان في الحقيقة، أولهما fetch، لإحضار الكائنات (objects) والإشارات (refs) من المستودع البعيد. فكان اللفظ المناسب لها تنزيل أو إحضار، فاخترت استحضار (طلب الحضور) لتمييزها عن الكلمة العامة «إحضار».</p>
</div>
</div>
<div class="sect2">
<h3 id="_terms_reset_restore_revert">الإرجاع والاستعادة والنقض</h3>
<div class="paragraph">
<p>يفرّق جيت بين الإرجاع reset، والاستعادة restore، والنقض revert، وطبعا إعادة التأسيس rebase.</p>
</div>
<div class="paragraph">
<p>وقد حاولت أن أجعل أسماءهم العربية متباعدة، تقليلا للخلط الأكيد بينهم.</p>
</div>
<div class="paragraph">
<p>والخلط بينهم وارد حتى إن دليل (‪&#8220;manpage&#8221;‬) جت نفسه يخصص فصلا للفرق بينهم، ثم يشير إلى هذا الفصل في دليل كل أمر منهم. فنجد في دليل <code>git</code> فصلا بعنوان ‪&#8220;Reset, restore and revert&#8221;‬، هذه ترجمته:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>في جت ثلاثة أوامر بأسماء متشابهة: الإرجاع <code>git reset</code>، والاستعادة <code>git restore</code>، والنقض <code>git revert</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>أمر النقض <code>git revert</code> يصنع إيداعا جديدا ينقض (يعكس) فيه التعديلات التي قدّمتها إيداعات سابقة معينة.</p>
</li>
<li>
<p>أمر الاستعادة <code>git restore</code> يستعيد ملفات في شجرة العمل من الفهرس (منطقة التأهيل) أو من إيداع سابق. هذا الأمر لا يحدّث الفرع الحالي. يمكن استعمال هذا الأمر كذلك لاستعادة ملفات في الدليل من إيداع سابق.</p>
</li>
<li>
<p>أمر الإرجاع <code>git reset</code> يحدّث الفرع الحالي بتحريك رأس الفرع ليضيف أو يزيل إيداعات منه. هذه العملية تغيّر تاريخ الإيداعات.</p>
<div class="paragraph">
<p>يمكن استعمال أمر الإرجاع <code>git reset</code> لاستعادة الفهرس، وهو استعمال يشترك فيه مع أمر الاستعادة <code>git restore</code>.</p>
</div>
</li>
</ul>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>ثم يذكر هذا في دليل أمر النقض <code>git revert</code> :</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>لاحظ: يُستعمل أمر النقض <code>git revert</code> لتسجيل إيداعات جديدة تنقض (تعكس) تأثير إيداعات سابقة معينة (غالبا إيداعات خاطئة).
إن أردت نبذ التعديلات غير المؤهلة جميعا من مجلد العمل، فانظر أمر الإرجاع <code>git reset</code>، تحديدا الخيار <code>--hard</code>.
إذا أردت استخلاص ملفات معينة من إيداع سابق، فانظر أمر الاستعادة <code>git restore</code>، تحديدا الخيار <code>--source</code>.
كن حذرا في استعمالك هذين البديلين، فكلاهما يلغي التعديلات غير المؤهلة التي في مجلد عملك.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>لم أسمِّ أي أمر منهم باسم «إعادة» خشية خلطه على الناس مع «استعادة»، وكذلك لم أسمِّ أمرًا «تراجع» خشية خلطه مع «إرجاع»، بل آثرت جذرا مختلفا لكلٍ منهم.</p>
</div>
</div>
<div class="sect2">
<h3 id="_terms_commands">أسماء أوامر جت</h3>
<div class="paragraph">
<p>نسمي أوامر جت، وخصوصا الأوامر العلوية (انظر <s>الأوامر السفلية والعلوية (السباكة والبورسلين)</s>)، بأسماء عربية، فمثلا أمر <code>git commit</code> اسمه أمر الإيداع، وأمر <code>git branch</code> اسم أمر التفريع، وهكذا.</p>
</div>
<div class="paragraph">
<p>وأذكر أسماء الأوامر هنا مع وجودها في الملحق الثالث لسببين: الأول أن الملحق الثالث غير منشور لأنه غير مكتمل بعد (فذلك ما في الجدول الأول)، والآخِر لأن من الأوامر المذكورة في الك‍تاب ما لم يُذكر في الملحق الثالث (بعد)، مثل الأوامر الجديدة كأمر الاستعادة <code>git restore</code> وأمر الانتقال <code>git switch</code>، ومثل بعض الأوامر السفلية مثل أمر سرد الملفات <code>git ls-files</code> وأمر استعراض الملف <code>git cat-file</code> (وذلك ما في الجدول الآخِر).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">add</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إضافة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">apply</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تطبيق</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">archive</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ضغط</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bisect</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تفتيش</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">blame</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">عتاب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">الفرع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">checkout</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">سحب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cherry-pick</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">اصطفاء</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">clean</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تنظيف</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">clone</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">استنساخ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">commit</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إيداع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">config</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تهيئة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">describe</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">وصف</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">diff</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">الفرق</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">difftool</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">أداة الفرق</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fast-import</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">استيراد سريع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fetch</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">استحضار</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">format-patch</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تنسيق رقعة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fsck</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">فحص نظام الملفات</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">gc</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">جامع المهملات</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">grep</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">بحث</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">help</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">مساعدة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">init</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">ابتداء</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">log</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">السجل</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">merge</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">دمج</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mergetool</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">أداة الدمج</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mv</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">نقل</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pull</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">جذب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">push</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">دفع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rebase</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إعادة تأسيس</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reflog</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">سجل الإشارات</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remote</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">البعيد</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">request-pull</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">طلب جذب</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reset</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">استعادة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revert</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إرجاع</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rm</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إزالة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">send-email</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">أرسل بريد</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shortlog</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">السجل الموجز</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">show</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">إظهار</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stash</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">تخبئة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">الحالة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">submodule</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">وحدة فرعية</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">وسم</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>من الأوامر غير المذكورة في الملحق الثالث:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cat-file</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">استعراض الملف</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">daemon</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">العفريت</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ls-files</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">سرد الملفات</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ls-remote</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">سرد البُعداء</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ls-tree</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">سرد الأشجار</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">restore</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">استعادة</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">switch</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">انتقال</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_terms_reference">إشارة الرأس وإشارات الكائنات</h3>
<div class="paragraph">
<p>يقول جيت أحيانا pointer وأحيانا ref أو reference، لكن خلافا لبعض لغات البرمجة، <a href="https://github.com/progit/progit2/issues/1460">هذه جميعا تعني الشيء نفسه</a>، وهو الشيء الذي «يُشير» إلى كائن أو شيء آخر.</p>
</div>
<div class="paragraph">
<p>عند التحدث عن الفأرة مثلا، فكلمة «مؤشر» (pointer أو cursor) صحيحة لأنها اسم الفاعل من الفعل «يؤشر» أيْ ذلك الشيء الذي «يضع إشارة». أما عند التحدث عن البرمجة، فإن pointer <strong>لا تعني</strong> «مؤشر»، لإن الـpointer لا يضع إشارة على شيء، بل يشير إلى شيء، فاللفظ الصحيح هو «مُشِير». وهو اللفظ المستخدم في لغة كلمات.</p>
</div>
<div class="paragraph">
<p>أما كلمة reference، ففي سياق الكتب تعني الك‍تاب الذي نرجع إليه للبحث عن معلومة، فترجمته إلى «مرجع» عندئذٍ صحيحة. لكن في سياق البرمجة، الـreference لا يَرجع إلى شيء، بل يُرجعنا نحن أو يُحيلنا إلى شيء (refer to)، فترجمته إلى «مُحيل» أفضل.</p>
</div>
<div class="paragraph">
<p>ولكن المشير والمحيل اسمان لمسمى واحد في جت، فالأفضل توحيد الاسم.</p>
</div>
<div class="paragraph">
<p>استعملت «مشيرًا» في البدء، ثم وجدت أن الأقرب في الاستعمال هو «إشارة»، فهي ما استعملت في الك‍تاب.</p>
</div>
<div class="paragraph">
<p>ولمنع اللبس، أقول «إشارة الرأس» غالب الوقت للفظ HEAD.</p>
</div>
<div class="paragraph">
<p>ولكن جت يفرق بين head وHEAD؛ انظر <code>man gitglossary</code> أو <a href="https://git-scm.com/docs/gitglossary#Documentation/gitglossary.txt-aiddefhashahash">على الشابكة</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_terms_tracking">التعقب والمتابعة: tracking</h3>
<div class="paragraph">
<p>يستعمل الفعل tracking في المشاريع البرمجية استعمالين رئيسيين، ويترجم بلفظ مختلف حسب استعماله:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>«المتابعة»، وهي أن يتابع الإنسانُ العللَ (bugs) والمسائل (issues) والأهداف (milestones) وغير ذلك. ومنها متابع العلل (bug tracker) أو متابع المسائل (issue tracker).</p>
</li>
<li>
<p>«التعقب»، وهي (١) أن يتعقب جت ملفًا، أي أن يتابع تغييراته ويرصدها ويسجلها، (٢) وأن تجعل جت يتعقب فرعًا بعيدًا، أن أي يجعل جت فرعا محليا (يسمى «فرعا متعقِّبا») أو إشارة محلية (تسمى «فرعا متعقِّبا لبعيد») تتابع التغييرات الحادثة في الفرع البعيد. (انظر الفصل التالي لتفصيل هذا الأمر.)</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_terms_tracking_branches">الفروع البعيدة والفروع المتعقِّبة لبعيد والفروع المتعقِّبة</h3>
<div class="paragraph">
<p>يفرق جت وك‍تاب احترف جت بين الفروع المتعقبة (tracking branch) والفروع المتعقبة لبعيد (remote-tracking branch)؛ انظر <a href="#_tracking_branches">تعقب الفروع</a>.</p>
</div>
<div class="paragraph">
<p>لكن لا يبدو أن الك‍تاب يفرق بين الفروع البعيدة (remote branch) والفروع المتعقبة لبعيد (remote-tracking branch)، إلا قليلا، فكلاهما نظرتان للشيء نفسه: الفرع <code>origin/master</code> مثلا هو الفرع الرئيس في المستودع البعيد، فهو في مستودعي المحلي فرع متعقب لبعيد، لكنه يشير إلى الفرع البعيد نفسه. فيجوز قول «الفرع البعيد» للفرع المتعقب لبعيد من باب المجاز المرسل أغلب الوقت. وهذا استعمال الك‍تاب إلا قليلا. (من أمثلة هذا القليل: <a href="#_delete_branches">حذف فروع بعيدة</a>.)</p>
</div>
</div>
<div class="sect2">
<h3 id="_terms_read_write">إذنا القراءة والتحرير</h3>
<div class="paragraph">
<p>أقترح تعريب ‪&#8220;read-only&#8221;‬ بـ«القراءة»، و ‪&#8220;read/write&#8221;‬ بـ«التحرير»، والاسم ‪&#8220;access&#8221;‬ المرتبط بهما غالبا بـ«إذن» (وجمعه «أذون»).</p>
</div>
<div class="paragraph">
<p>واخترت هذين الفعلين لأنهما متعديان بغير حرف جر، فلا نحتاج أن نقول «الك‍تابة على/إلى/في المستودع»، بل نقول «تحرير المستودع» بغير وسيط. ومثله في القراءة.</p>
</div>
<div class="paragraph">
<p>و«التحرير» أقوى من «الك‍تابة» المجردة، فهو يعني التعديل والتقويم، وحديثا يشمل المراجعة والإنشاء. فمعناه واضح فيه أنه ‪&#8220;read/write&#8221;‬، فغالبا لا يوجد إذن «ك‍تابة فقط»، فالأنسب كلمة تدل على القراءة والك‍تابة معا.</p>
</div>
<div class="paragraph">
<p>وقد استعملت وقتًا قصيرا كلمة «اطلاع» تعريبًا لـ ‪&#8220;read&#8221;‬، لكني عدلت عنها إلى «قراءة» لحاجة «اطلاع» إلى حرف جر، وعدم وجود منفعة من «اطلاع» (مثل شمول معنى «تحرير»، فصار أنفع من «ك‍تابة»)، ولشهرة «قراءة».</p>
</div>
</div>
<div class="sect2">
<h3 id="_terms_code">تعريب كلمة كود</h3>
<div class="paragraph">
<p>لهذه الكلمة معانٍ كثيرة في غير البرمجة، منها رمز ورقم ومعيار وغيرهم.</p>
</div>
<div class="paragraph">
<p>ومعناها في البرمجة شديد الاتساع ويستعصي على النقل إلى لغة أخرى،
فأبى أكثر الناس إلا أن يأخذوا هذه الكلمة بكل معانيها البرمجية.
فمنهم من نقلها صوتيا («كود») ومنهم من أتى بكلمة من جذر الكلمة الإنجليزية الأصلية («رمز») في لغتهم،
فقال السوريون «رِماز» (على وزن «ك‍تاب») وقال الصينيون 代码 (رمز تبديل(؟)).</p>
</div>
<div class="paragraph">
<p>ولا أرى في هذا خيرا كثيرا، فهذا لفظ أعجمي في أصله ومعناه واستعماله،
وليس فيه من العربية إلا حرفه.</p>
</div>
<div class="paragraph">
<p>ففي هذا الك‍تاب نحاول تعريب هذه الكلمة في مواضعها المختلفة تعريبا يفهمه العربي بغير شرح وبغير معرفة الاستعمال الإنجليزي وبغير معرفة الاصطلاح السوري.</p>
</div>
<div class="paragraph">
<p>وصعوبة الأمر أن هذه الكلمة شديدة العموم، فنحتاج إلى تخصيصها في كل سياق قبل تعريبها،
فغالبا نعتبرها صفة (=«برمجية») لاسم محذوف، ونرد هذا الاسم عند الترجمة.</p>
</div>
<div class="paragraph">
<p>فهذه أشهر تعريباتها حسب السياق:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>«مصدر برمجي» (= ‪&#8220;source code&#8221;‬) أو «مصدر» فحسب ←</p>
<div class="ulist">
<ul>
<li>
<p>«قاعدة المصدر» = ‪&#8220;code base&#8221;‬ (أو «مصدر برمجي» أيضا)</p>
</li>
</ul>
</div>
</li>
<li>
<p>«مشروع برمجي» (مثل العبارة: ‪&#8220;hosting your code&#8221;‬ وما في معناها)</p>
</li>
<li>
<p>«برمجيات» ←</p>
<div class="ulist">
<ul>
<li>
<p>«محرر برمجيات» = ‪&#8220;code editor&#8221;‬</p>
</li>
</ul>
</div>
</li>
<li>
<p>«تعليمات برمجية» ←</p>
<div class="ulist">
<ul>
<li>
<p>«ثغرة تنفيذ تعليمات برمجية عشوائية» = ‪&#8220;arbitrary code execution vulnerability&#8221;‬</p>
</li>
<li>
<p>«تعليمات برمجية خبيثة» = ‪&#8220;malicious code&#8221;‬</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>ولم نفرغ من هذه الكلمة بعد.</p>
</div>
</div>
<div class="sect2">
<h3 id="_terms_general_tips">إصلاحات لغوية عامة ونصائح أسلوبية</h3>
<div class="paragraph">
<p>بعض هذه النصائح إصلاحات حقيقية، وبعضها ليست سوى اقتراحات لاتساق الترجمة.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>قل «يستعمل» أغلب الوقت، ولا تقل «يستخدم» إلا للضرورة، فالاستخدام يكون للعاقل. (وتبقى ‪&#8220;user&#8221;‬ «مستخدما».)
ويستثنى من ذلك ما يقدّم خدمة، فنستخدم جت‌هب، ونستخدم الخواديم، ونستخدم جت نفسه تشبيهًا له بالعاقل. ولا بأس من استعمال «استعمال» مع أيٍّ منهم.
ولكن قلل من كليهما، لأن <span class="line-through">استعمال</span> هذا الفعل يكثر في الإنجليزية المعاصرة بغير حاجة. ومثله الفعل «يستطيع».</p>
</li>
<li>
<p>لا تقل «نفس الشيء» وقل «الشيء نفسه». (أو «شيء واحد» أو «الشيء الواحد» عند إرادة الإبهام، مثل «يمكنكم الآن التعاون في مشروع واحد» أو «ستبيت كل مشاريعك البرمجية على جهاز واحد».)</p>
</li>
<li>
<p>لا تقل «بسيط» إلا عندما تعني «غير معقد»، وقلل منها عموما.</p>
</li>
<li>
<p>قلل من «فقط» واستعمل الاستثناء أو «إنما» متى أمكن.</p>
</li>
<li>
<p>قل «يبقى» و«يظل» و«لا يزال» و«ما زال»، لكن لا تقل «لا زال»، فاستعمال «لا» مع الماضي يعني الدعاء، مثل «لا أراك الله مكروها».</p>
</li>
<li>
<p>لا تقل «استبدل» لشيوع الخطأ فيه، وقل «أبدل القديم بالجديد»، فلا خلاف فيه، أو «أبدل من القديم الجديدَ»، أو ائت بفعل من جذر آخر مثل «يحل محل». (الصحاح في مادة بدل: «والأَبْدالُ: قومٌ من الصالحين لا تخلُو الدنيا منهم، إذا مات واحدٌ أَبْدَلَ الله مكانَهُ بآخر.»)</p>
</li>
<li>
<p>لا تستعمل حرف الجر الكاف إلا للتشبيه، وعلامة ذلك استقامة المعنى وثبوته عندما تبدلها بـ«مثل»، وإلا فغيّر تركيب الجملة واستعمل شيئا غير الجر بالكاف، كالتمييز والحال والمفعول به.</p>
</li>
<li>
<p>لا تقل «بداية»، فهي عامية، وفصيحها «بَداءة» لكنه غير مألوف، فقل «بَدء» أو «ابتداء» أو «أول». (قال فيها المصباح المنير: «و"البِدَايَةُ" بالياء مكان الهمز عامي نصّ عليه ابن بري وجماعة». وقال العباب الزاخز: «وقَوْلُ العامَّةِ: البِدايَةُ - مؤازاةً للنِّهاية: لَحْنٌ، ولا تُقاس على الغَدَايا والعَشايا؛ فإنَّها مَسْموعةٌ بخلاف البِداية».)</p>
</li>
<li>
<p>لا تقل «تحقّق من [شيء <em>أو</em> فِعل <em>أو</em> أن تفعل]»؛ قل «تحقّق …» بغير «من»، أو قل «تفقّد …».</p>
</li>
<li>
<p>لا تقل «كل ما عليك هو»؛ إنما قل «ليس عليك سوى/إلا/غير».</p>
</li>
<li>
<p>لا تقل «لا داعٍ لـ…»، بل قل «لا داعيَ إلى …»، بالياء وبـ«إلى».</p>
</li>
<li>
<p>لا تبدأ جملة فرعية بـ«مما»، فهي غالبا خاطئة. وعلامة ذلك اختلال المعنى إذا وضعت مكانها «مِن الذي» أو اسم موصول آخر. أمثلة:</p>
<div class="ulist tight">
<ul class="tight">
<li>
<p>«يتيح جت أيضا خيارا للحالة الموجزة، مما يتيح لك رؤية تعديلاتك بإيجاز» ← «…، لترى …»</p>
</li>
<li>
<p>«إضافة [شيء] تجعل جت [يفعل شيئا]، مما يتيح لك تخطي مرحلة الإضافة» ← «…، لتتخطى …»</p>
</li>
<li>
<p>«لأن طريقة التفريع في جت خفيفة […]، مما يجعل إنشاء فرع …» ← «…، فتجعل …»</p>
</li>
<li>
<p>«ثم تستطيع حذف الفرعين […]، مما يجعل تاريخك …» ← «…، فيصير تاريخك …»</p>
</li>
<li>
<p>«تذكر أنه غير مستوثَق، مما يعني أن أي شيء تتيحه …» ← «…، فأي شيء …»</p>
</li>
<li>
<p>«وقتئذٍ ستبيت كل مشاريعك البرمجية على جهاز واحد، مما يزيد من احتمال فقد البيانات فقدا كارثيا.» ← «…، وهذا يُزيد احتمال …»</p>
</li>
<li>
<p>«لم تقترب حاله مما صار عليه اليوم» ← صحيحة</p>
</li>
<li>
<p>«فبدلا مما رأينا، …» ← صحيحة</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="_terms_mz" class="ulist">
<ul>
<li>
<p>«مِيزة»/«مِيزات» تعني الاختلاف (التمايز، وفصل الشيء من الشيء) ولا تعني التفضيل. فإذا أردت معنى الفضل (التمام والكمال)، فقل «مَزِيَّة»/«مَزَايَا». فترجم ‪&#8220;feature&#8221;‬ بـ«ميزة» وترجم ‪&#8220;advantage&#8221;‬ بـ«مزية».</p>
</li>
<li>
<p>قدّم الفعل على فاعله ما لم يسبب ذلك خلطا على القارئ.</p>
</li>
<li>
<p>انظر <a href="https://www.noureddin.dev/ysmu/notes/">موارد معجم يسمو</a>، وبالأخص ك‍تاب <a href="https://web.archive.org/web/20100914143217/http://www.reefnet.gov.sy/Arabic_Proficiency/Arabic_Proficiency_Index.htm">نحو إتقان الك‍تابة باللغة العربية</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 2.1.421<br>
Last updated 2024-08-16 12:00:00 +0000
</div>
</div>
</div></body></html><script>onbeforeprint = function () {
  document.querySelectorAll('div.imageblock').forEach(blk => {
    blk.outerHTML = '<figure>' + blk.outerHTML + '</figure>'
  })
}</script>
